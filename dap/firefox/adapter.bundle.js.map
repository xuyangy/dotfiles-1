{"version":3,"sources":["../src/../node_modules/adm-zip/adm-zip.js","../src/../node_modules/adm-zip/headers/entryHeader.js","../src/../node_modules/adm-zip/headers/index.js","../src/../node_modules/adm-zip/headers/mainHeader.js","../src/../node_modules/adm-zip/methods/deflater.js","../src/../node_modules/adm-zip/methods/index.js","../src/../node_modules/adm-zip/methods/inflater.js","../src/../node_modules/adm-zip/methods/zipcrypto.js","../src/../node_modules/adm-zip/util/constants.js","../src/../node_modules/adm-zip/util/errors.js","../src/../node_modules/adm-zip/util/fattr.js","../src/../node_modules/adm-zip/util/fileSystem.js","../src/../node_modules/adm-zip/util/index.js","../src/../node_modules/adm-zip/util/utils.js","../src/../node_modules/adm-zip/zipEntry.js","../src/../node_modules/adm-zip/zipFile.js","../src/../node_modules/anymatch/index.js","../src/../node_modules/at-least-node/index.js","../src/../node_modules/balanced-match/index.js","../src/../node_modules/binary-extensions/index.js","../src/../node_modules/brace-expansion/index.js","../src/../node_modules/braces/index.js","../src/../node_modules/braces/lib/compile.js","../src/../node_modules/braces/lib/constants.js","../src/../node_modules/braces/lib/expand.js","../src/../node_modules/braces/lib/parse.js","../src/../node_modules/braces/lib/stringify.js","../src/../node_modules/braces/lib/utils.js","../src/../node_modules/chokidar/index.js","../src/../node_modules/chokidar/lib/constants.js","../src/../node_modules/chokidar/lib/fsevents-handler.js","../src/../node_modules/chokidar/lib/nodefs-handler.js","../src/../node_modules/concat-map/index.js","../src/../node_modules/core-js/internals/a-function.js","../src/../node_modules/core-js/internals/a-possible-prototype.js","../src/../node_modules/core-js/internals/add-to-unscopables.js","../src/../node_modules/core-js/internals/advance-string-index.js","../src/../node_modules/core-js/internals/an-instance.js","../src/../node_modules/core-js/internals/an-object.js","../src/../node_modules/core-js/internals/array-includes.js","../src/../node_modules/core-js/internals/array-method-is-strict.js","../src/../node_modules/core-js/internals/check-correctness-of-iteration.js","../src/../node_modules/core-js/internals/classof-raw.js","../src/../node_modules/core-js/internals/classof.js","../src/../node_modules/core-js/internals/copy-constructor-properties.js","../src/../node_modules/core-js/internals/correct-prototype-getter.js","../src/../node_modules/core-js/internals/create-iterator-constructor.js","../src/../node_modules/core-js/internals/create-non-enumerable-property.js","../src/../node_modules/core-js/internals/create-property-descriptor.js","../src/../node_modules/core-js/internals/define-iterator.js","../src/../node_modules/core-js/internals/descriptors.js","../src/../node_modules/core-js/internals/document-create-element.js","../src/../node_modules/core-js/internals/engine-is-ios.js","../src/../node_modules/core-js/internals/engine-is-node.js","../src/../node_modules/core-js/internals/engine-is-webos-webkit.js","../src/../node_modules/core-js/internals/engine-user-agent.js","../src/../node_modules/core-js/internals/engine-v8-version.js","../src/../node_modules/core-js/internals/enum-bug-keys.js","../src/../node_modules/core-js/internals/export.js","../src/../node_modules/core-js/internals/fails.js","../src/../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../src/../node_modules/core-js/internals/function-bind-context.js","../src/../node_modules/core-js/internals/get-built-in.js","../src/../node_modules/core-js/internals/get-iterator-method.js","../src/../node_modules/core-js/internals/get-substitution.js","../src/../node_modules/core-js/internals/global.js","../src/../node_modules/core-js/internals/has.js","../src/../node_modules/core-js/internals/hidden-keys.js","../src/../node_modules/core-js/internals/host-report-errors.js","../src/../node_modules/core-js/internals/html.js","../src/../node_modules/core-js/internals/ie8-dom-define.js","../src/../node_modules/core-js/internals/indexed-object.js","../src/../node_modules/core-js/internals/inspect-source.js","../src/../node_modules/core-js/internals/internal-state.js","../src/../node_modules/core-js/internals/is-array-iterator-method.js","../src/../node_modules/core-js/internals/is-forced.js","../src/../node_modules/core-js/internals/is-object.js","../src/../node_modules/core-js/internals/is-pure.js","../src/../node_modules/core-js/internals/iterate.js","../src/../node_modules/core-js/internals/iterator-close.js","../src/../node_modules/core-js/internals/iterators-core.js","../src/../node_modules/core-js/internals/iterators.js","../src/../node_modules/core-js/internals/microtask.js","../src/../node_modules/core-js/internals/native-promise-constructor.js","../src/../node_modules/core-js/internals/native-symbol.js","../src/../node_modules/core-js/internals/native-weak-map.js","../src/../node_modules/core-js/internals/new-promise-capability.js","../src/../node_modules/core-js/internals/object-create.js","../src/../node_modules/core-js/internals/object-define-properties.js","../src/../node_modules/core-js/internals/object-define-property.js","../src/../node_modules/core-js/internals/object-get-own-property-descriptor.js","../src/../node_modules/core-js/internals/object-get-own-property-names.js","../src/../node_modules/core-js/internals/object-get-own-property-symbols.js","../src/../node_modules/core-js/internals/object-get-prototype-of.js","../src/../node_modules/core-js/internals/object-keys-internal.js","../src/../node_modules/core-js/internals/object-keys.js","../src/../node_modules/core-js/internals/object-property-is-enumerable.js","../src/../node_modules/core-js/internals/object-set-prototype-of.js","../src/../node_modules/core-js/internals/own-keys.js","../src/../node_modules/core-js/internals/path.js","../src/../node_modules/core-js/internals/perform.js","../src/../node_modules/core-js/internals/promise-resolve.js","../src/../node_modules/core-js/internals/redefine-all.js","../src/../node_modules/core-js/internals/redefine.js","../src/../node_modules/core-js/internals/regexp-exec-abstract.js","../src/../node_modules/core-js/internals/regexp-exec.js","../src/../node_modules/core-js/internals/regexp-flags.js","../src/../node_modules/core-js/internals/regexp-sticky-helpers.js","../src/../node_modules/core-js/internals/require-object-coercible.js","../src/../node_modules/core-js/internals/set-global.js","../src/../node_modules/core-js/internals/set-species.js","../src/../node_modules/core-js/internals/set-to-string-tag.js","../src/../node_modules/core-js/internals/shared-key.js","../src/../node_modules/core-js/internals/shared-store.js","../src/../node_modules/core-js/internals/shared.js","../src/../node_modules/core-js/internals/species-constructor.js","../src/../node_modules/core-js/internals/string-multibyte.js","../src/../node_modules/core-js/internals/task.js","../src/../node_modules/core-js/internals/to-absolute-index.js","../src/../node_modules/core-js/internals/to-indexed-object.js","../src/../node_modules/core-js/internals/to-integer.js","../src/../node_modules/core-js/internals/to-length.js","../src/../node_modules/core-js/internals/to-object.js","../src/../node_modules/core-js/internals/to-primitive.js","../src/../node_modules/core-js/internals/to-string-tag-support.js","../src/../node_modules/core-js/internals/uid.js","../src/../node_modules/core-js/internals/use-symbol-as-uid.js","../src/../node_modules/core-js/internals/well-known-symbol.js","../src/../node_modules/core-js/modules/es.array.iterator.js","../src/../node_modules/core-js/modules/es.array.sort.js","../src/../node_modules/core-js/modules/es.promise.js","../src/../node_modules/core-js/modules/es.regexp.exec.js","../src/../node_modules/core-js/modules/es.string.replace.js","../src/../node_modules/core-js/modules/es.symbol.description.js","../src/../node_modules/data-uri-to-buffer/dist/src/index.js","../src/../node_modules/debounce/index.js","../src/../node_modules/escape-string-regexp/index.js","../src/../node_modules/file-uri-to-path/dist/src/index.js","../src/../node_modules/fill-range/index.js","../src/../node_modules/firefox-profile/lib/firefox_profile.js","../src/../node_modules/firefox-profile/lib/profile_finder.js","../src/../node_modules/firefox-profile/lib|sync","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/copy-sync/copy-sync.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/copy-sync/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/copy/copy.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/copy/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/empty/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/ensure/file.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/ensure/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/ensure/link.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/ensure/symlink-paths.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/ensure/symlink-type.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/ensure/symlink.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/fs/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/json/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/json/jsonfile.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/json/output-json-sync.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/json/output-json.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/mkdirs/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/mkdirs/make-dir.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/move-sync/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/move-sync/move-sync.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/move/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/move/move.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/output/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/path-exists/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/remove/index.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/remove/rimraf.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/util/stat.js","../src/../node_modules/firefox-profile/node_modules/fs-extra/lib/util/utimes.js","../src/../node_modules/fs-extra/lib/copy-sync/copy-sync.js","../src/../node_modules/fs-extra/lib/copy-sync/index.js","../src/../node_modules/fs-extra/lib/copy/copy.js","../src/../node_modules/fs-extra/lib/copy/index.js","../src/../node_modules/fs-extra/lib/empty/index.js","../src/../node_modules/fs-extra/lib/ensure/file.js","../src/../node_modules/fs-extra/lib/ensure/index.js","../src/../node_modules/fs-extra/lib/ensure/link.js","../src/../node_modules/fs-extra/lib/ensure/symlink-paths.js","../src/../node_modules/fs-extra/lib/ensure/symlink-type.js","../src/../node_modules/fs-extra/lib/ensure/symlink.js","../src/../node_modules/fs-extra/lib/fs/index.js","../src/../node_modules/fs-extra/lib/index.js","../src/../node_modules/fs-extra/lib/json/index.js","../src/../node_modules/fs-extra/lib/json/jsonfile.js","../src/../node_modules/fs-extra/lib/json/output-json-sync.js","../src/../node_modules/fs-extra/lib/json/output-json.js","../src/../node_modules/fs-extra/lib/mkdirs/index.js","../src/../node_modules/fs-extra/lib/mkdirs/make-dir.js","../src/../node_modules/fs-extra/lib/move-sync/index.js","../src/../node_modules/fs-extra/lib/move-sync/move-sync.js","../src/../node_modules/fs-extra/lib/move/index.js","../src/../node_modules/fs-extra/lib/move/move.js","../src/../node_modules/fs-extra/lib/output/index.js","../src/../node_modules/fs-extra/lib/path-exists/index.js","../src/../node_modules/fs-extra/lib/remove/index.js","../src/../node_modules/fs-extra/lib/remove/rimraf.js","../src/../node_modules/fs-extra/lib/util/stat.js","../src/../node_modules/fs-extra/lib/util/utimes.js","../src/../node_modules/fs-extra/node_modules/universalify/index.js","../src/../node_modules/glob-parent/index.js","../src/../node_modules/graceful-fs/clone.js","../src/../node_modules/graceful-fs/graceful-fs.js","../src/../node_modules/graceful-fs/legacy-streams.js","../src/../node_modules/graceful-fs/polyfills.js","../src/../node_modules/ini/ini.js","../src/../node_modules/is-absolute-url/index.js","../src/../node_modules/is-binary-path/index.js","../src/../node_modules/is-extglob/index.js","../src/../node_modules/is-glob/index.js","../src/../node_modules/is-number/index.js","../src/../node_modules/jsonfile/index.js","../src/../node_modules/jsonfile/node_modules/universalify/index.js","../src/../node_modules/jsonfile/utils.js","../src/../node_modules/minimatch/minimatch.js","../src/../node_modules/mkdirp/index.js","../src/../node_modules/normalize-path/index.js","../src/../node_modules/picomatch/index.js","../src/../node_modules/picomatch/lib/constants.js","../src/../node_modules/picomatch/lib/parse.js","../src/../node_modules/picomatch/lib/picomatch.js","../src/../node_modules/picomatch/lib/scan.js","../src/../node_modules/picomatch/lib/utils.js","../src/../node_modules/readdirp/index.js","../src/../node_modules/sax/lib/sax.js","../src/../node_modules/source-map/lib/array-set.js","../src/../node_modules/source-map/lib/base64-vlq.js","../src/../node_modules/source-map/lib/base64.js","../src/../node_modules/source-map/lib/binary-search.js","../src/../node_modules/source-map/lib/mapping-list.js","../src/../node_modules/source-map/lib/read-wasm.js","../src/../node_modules/source-map/lib/source-map-consumer.js","../src/../node_modules/source-map/lib/source-map-generator.js","../src/../node_modules/source-map/lib/source-node.js","../src/../node_modules/source-map/lib/util.js","../src/../node_modules/source-map/lib/wasm.js","../src/../node_modules/source-map/source-map.js","../src/../node_modules/strip-json-comments/index.js","../src/../node_modules/to-regex-range/index.js","../src/../node_modules/universalify/index.js","../src/../node_modules/vscode-debugadapter/lib/debugSession.js","../src/../node_modules/vscode-debugadapter/lib/handles.js","../src/../node_modules/vscode-debugadapter/lib/internalLogger.js","../src/../node_modules/vscode-debugadapter/lib/logger.js","../src/../node_modules/vscode-debugadapter/lib/loggingDebugSession.js","../src/../node_modules/vscode-debugadapter/lib/main.js","../src/../node_modules/vscode-debugadapter/lib/messages.js","../src/../node_modules/vscode-debugadapter/lib/protocol.js","../src/../node_modules/vscode-debugadapter/lib/runDebugAdapter.js","../src/../node_modules/xml2js/lib/bom.js","../src/../node_modules/xml2js/lib/builder.js","../src/../node_modules/xml2js/lib/defaults.js","../src/../node_modules/xml2js/lib/parser.js","../src/../node_modules/xml2js/lib/processors.js","../src/../node_modules/xml2js/lib/xml2js.js","../src/../node_modules/xmlbuilder/lib/DocumentPosition.js","../src/../node_modules/xmlbuilder/lib/NodeType.js","../src/../node_modules/xmlbuilder/lib/Utility.js","../src/../node_modules/xmlbuilder/lib/WriterState.js","../src/../node_modules/xmlbuilder/lib/XMLAttribute.js","../src/../node_modules/xmlbuilder/lib/XMLCData.js","../src/../node_modules/xmlbuilder/lib/XMLCharacterData.js","../src/../node_modules/xmlbuilder/lib/XMLComment.js","../src/../node_modules/xmlbuilder/lib/XMLDOMConfiguration.js","../src/../node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js","../src/../node_modules/xmlbuilder/lib/XMLDOMImplementation.js","../src/../node_modules/xmlbuilder/lib/XMLDOMStringList.js","../src/../node_modules/xmlbuilder/lib/XMLDTDAttList.js","../src/../node_modules/xmlbuilder/lib/XMLDTDElement.js","../src/../node_modules/xmlbuilder/lib/XMLDTDEntity.js","../src/../node_modules/xmlbuilder/lib/XMLDTDNotation.js","../src/../node_modules/xmlbuilder/lib/XMLDeclaration.js","../src/../node_modules/xmlbuilder/lib/XMLDocType.js","../src/../node_modules/xmlbuilder/lib/XMLDocument.js","../src/../node_modules/xmlbuilder/lib/XMLDocumentCB.js","../src/../node_modules/xmlbuilder/lib/XMLDummy.js","../src/../node_modules/xmlbuilder/lib/XMLElement.js","../src/../node_modules/xmlbuilder/lib/XMLNamedNodeMap.js","../src/../node_modules/xmlbuilder/lib/XMLNode.js","../src/../node_modules/xmlbuilder/lib/XMLNodeList.js","../src/../node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","../src/../node_modules/xmlbuilder/lib/XMLRaw.js","../src/../node_modules/xmlbuilder/lib/XMLStreamWriter.js","../src/../node_modules/xmlbuilder/lib/XMLStringWriter.js","../src/../node_modules/xmlbuilder/lib/XMLStringifier.js","../src/../node_modules/xmlbuilder/lib/XMLText.js","../src/../node_modules/xmlbuilder/lib/XMLWriterBase.js","../src/../node_modules/xmlbuilder/lib/index.js","../src/external \"assert\"","../src/external \"constants\"","../src/external \"crypto\"","../src/external \"events\"","../src/external \"fs\"","../src/external \"net\"","../src/external \"os\"","../src/external \"path\"","../src/external \"stream\"","../src/external \"string_decoder\"","../src/external \"timers\"","../src/external \"url\"","../src/external \"util\"","../src/external \"zlib\"","../src/webpack/bootstrap","../src/webpack/runtime/compat get default export","../src/webpack/runtime/define property getters","../src/webpack/runtime/hasOwnProperty shorthand","../src/webpack/runtime/make namespace object","../src/../node_modules/vscode-uri/lib/esm/index.js","../src/./adapter/util/log.ts","../src/./common/util.ts","../src/./adapter/util/misc.ts","../src/./adapter/debugAdapterBase.ts","../src/./adapter/util/pendingRequests.ts","../src/./adapter/firefox/actorProxy/source.ts","../src/./adapter/firefox/actorProxy/thread.ts","../src/../node_modules/uuid/dist/esm-node/rng.js","../src/../node_modules/uuid/dist/esm-node/regex.js","../src/../node_modules/uuid/dist/esm-node/stringify.js","../src/../node_modules/uuid/dist/esm-node/validate.js","../src/../node_modules/uuid/dist/esm-node/v4.js","../src/./adapter/util/fs.ts","../src/external \"http\"","../src/external \"https\"","../src/./adapter/util/net.ts","../src/./adapter/configuration.ts","../src/./adapter/firefox/actorProxy/console.ts","../src/./adapter/firefox/sourceMaps/source.ts","../src/./adapter/firefox/sourceMaps/info.ts","../src/./adapter/firefox/sourceMaps/thread.ts","../src/./adapter/firefox/actorProxy/base.ts","../src/./adapter/firefox/actorProxy/worker.ts","../src/./adapter/firefox/actorProxy/tab.ts","../src/./adapter/firefox/actorProxy/webExtension.ts","../src/./adapter/adapter/addonManager.ts","../src/external \"child_process\"","../src/./adapter/firefox/transport.ts","../src/./adapter/firefox/actorProxy/tabDescriptor.ts","../src/./adapter/firefox/actorProxy/preference.ts","../src/./adapter/firefox/actorProxy/addons.ts","../src/./adapter/firefox/actorProxy/device.ts","../src/./adapter/firefox/actorProxy/root.ts","../src/./adapter/firefox/connection.ts","../src/./adapter/firefox/actorProxy/objectGrip.ts","../src/./adapter/firefox/actorProxy/longString.ts","../src/./adapter/adapter/objectGrip.ts","../src/./adapter/adapter/preview.ts","../src/./adapter/adapter/getterValue.ts","../src/./adapter/adapter/variable.ts","../src/./adapter/adapter/registry.ts","../src/./adapter/adapter/scope.ts","../src/./adapter/adapter/environment.ts","../src/./adapter/firefox/actorProxy/frame.ts","../src/./adapter/adapter/frame.ts","../src/./adapter/adapter/breakpoint.ts","../src/./adapter/adapter/source.ts","../src/./adapter/util/delayedTask.ts","../src/./adapter/coordinator/thread.ts","../src/./adapter/adapter/thread.ts","../src/./adapter/adapter/consoleAPICall.ts","../src/./adapter/adapter/breakpointsManager.ts","../src/./adapter/adapter/dataBreakpointsManager.ts","../src/./adapter/adapter/skipFilesManager.ts","../src/./adapter/coordinator/threadPause.ts","../src/./adapter/util/pathMapper.ts","../src/./adapter/firefoxDebugSession.ts","../src/./adapter/firefox/launch.ts","../src/./adapter/firefoxDebugAdapter.ts"],"names":["Utils","pth","ZipEntry","ZipFile","fs","FileSystem","require","existsSync","defaultOptions","readEntries","method","Constants","NONE","canonical","p","safeSuffix","posix","normalize","split","join","module","exports","input","options","inBuffer","opts","Object","assign","create","Uint8Array","undefined","BUFFER","Error","Errors","INVALID_FILENAME","FILE","filename","readFileSync","_zip","sanitize","prefix","name","resolve","parts","i","l","length","path","slice","sep","indexOf","basename","getEntry","entry","item","entryName","header","fixPath","zipPath","readFile","pass","getData","readFileAsync","callback","getDataAsync","readAsText","encoding","data","toString","readAsTextAsync","err","deleteFile","deleteEntry","addZipComment","comment","getZipComment","addZipEntryComment","getZipEntryComment","updateFile","content","setData","addLocalFile","localPath","zipName","FILE_NOT_FOUND","replace","pop","_attr","statSync","this","addFile","addLocalFolder","filter","rx","RegExp","test","items","findFiles","self","forEach","filepath","relative","stats","isFile","Buffer","alloc","addLocalFolderAsync","open","code","next","stat","er0","er1","addLocalFolderPromise","Promise","reject","done","attr","isStat","Stats","time","mtime","fileattr","process","platform","unix","mode","setEntry","getEntries","entries","getEntryCount","extractEntryTo","targetPath","maintainEntryPath","overwrite","outFileName","NO_ENTRY","target","isDirectory","getEntryChildren","child","CANT_EXTRACT_FILE","childName","fileAttr","writeFileTo","CANT_OVERRIDE","extractAllTo","NO_ZIP","makeDir","utimesSync","extractAllToAsync","writeFileToAsync","succ","writeZip","targetFileName","arguments","zipData","compressToBuffer","ok","writeZipPromise","perm","toBufferPromise","then","toAsyncBuffer","toBuffer","onSuccess","onFail","onItemStart","onItemEnd","valueOf","_verMade","_version","_flags","_method","_time","_crc","_compressedSize","_size","_fnameLen","_extraLen","_comLen","_diskStart","_inattr","_offset","_dataHeader","setTime","val","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","STORED","version","DEFLATED","CENHDR","LOCHDR","fnameLen","extraLen","loadDataHeaderFromBinary","readUInt32LE","LOCSIG","INVALID_LOC","readUInt16LE","LOCVER","flags","LOCFLG","LOCHOW","LOCTIM","crc","LOCCRC","compressedSize","LOCSIZ","size","LOCLEN","LOCNAM","LOCEXT","loadFromBinary","CENSIG","INVALID_CEN","CENVEM","CENVER","CENFLG","CENHOW","CENTIM","CENCRC","CENSIZ","CENLEN","CENNAM","CENEXT","CENCOM","CENDSK","CENATT","CENATX","CENOFF","dataHeaderToBinary","writeUInt32LE","writeUInt16LE","entryHeaderToBinary","fill","methodToString","toUpperCase","EntryHeader","MainHeader","_volumeEntries","_totalEntries","_commentLength","ENDHDR","ENDSIG","ZIP64HDR","ZIP64SIG","INVALID_END","ENDSUB","ENDTOT","ENDSIZ","ENDOFF","ENDCOM","readBigUInt64LE","ZIP64SUB","ZIP64TOT","ZIP64SIZ","ZIP64OFF","toBinary","b","inbuf","zlib","chunkSize","parseInt","deflate","deflateRawSync","deflateAsync","tmp","createDeflateRaw","total","on","push","buf","written","part","copy","end","Deflater","Inflater","ZipCrypto","inflate","inflateRawSync","inflateAsync","createInflateRaw","randomFillSync","crctable","Uint32Array","map","t","j","uMul","a","Math","imul","crc32update","pCrc32","bval","genSalt","node","salt","len","random","config","Initkeys","pw","isBuffer","from","keys","updateKeys","prototype","byteValue","k","decrypt","pwd","decrypter","result","pos","c","make_decrypter","encrypt","oldlike","encrypter","make_encrypter","_salter","EXTSIG","EXTHDR","EXTCRC","EXTSIZ","EXTLEN","END64HDR","END64SIG","END64START","END64OFF","END64NUMDISKS","ZIP64LEAD","ZIP64SIZE","ZIP64VEM","ZIP64VER","ZIP64DSK","ZIP64DSKDIR","ZIP64SIZB","ZIP64EXTRA","SHRUNK","REDUCED1","REDUCED2","REDUCED3","REDUCED4","IMPLODED","ENHANCED_DEFLATED","PKWARE","BZIP2","LZMA","IBM_TERSE","IBM_LZ77","FLG_ENC","FLG_COMP1","FLG_COMP2","FLG_DESC","FLG_ENH","FLG_STR","FLG_LNG","FLG_MSK","EF_ID","EF_SIZE","ID_ZIP64","ID_AVINFO","ID_PFS","ID_OS2","ID_NTFS","ID_OPENVMS","ID_UNIX","ID_FORK","ID_PATCH","ID_X509_PKCS7","ID_X509_CERTID_F","ID_X509_CERTID_C","ID_STRONGENC","ID_RECORD_MGT","ID_X509_PKCS7_RL","ID_IBM1","ID_IBM2","ID_POSZIP","EF_ZIP64_OR_32","EF_ZIP64_OR_16","EF_ZIP64_SUNCOMP","EF_ZIP64_SCOMP","EF_ZIP64_RHO","EF_ZIP64_DSN","_path","_obj","directory","readonly","hidden","executable","atime","_stat","console","warn","decodeAttributes","encodeAttributes","versions","originalFs","e","FileAttr","crcTable","PATH_SEPARATOR","mkdirSync","resolvedPath","substr","FILE_IN_THE_WAY","findSync","dir","pattern","recoursive","files","readdirSync","file","concat","crc32","n","writeInt32LE","off","c1","fd","folder","dirname","openSync","chmodSync","writeSync","closeSync","exists","chmod","write","close","getAttributes","setAttributes","buffer","index","swap64","Headers","Methods","_entryHeader","_entryName","_comment","_isDirectory","uncompressedData","_extra","getCompressedDataFromZip","realDataOffset","crc32OK","dataHeader","decompress","async","DIRECTORY_CONTENT_ERROR","compressedData","encripted","BAD_CRC","inflater","UNKNOWN_METHOD","compress","deflater","deflated","readUInt64LE","offset","parseZip64ExtendedInformation","diskNumStart","lastChar","fileNameLength","extraLength","signature","parseExtra","commentLength","getCompressedData","getCompressedDataAsync","value","changed","packHeader","addpos","entryList","entryTable","mainHeader","loadedEntries","Array","diskEntries","extra","entryHeaderSize","readNow","max","endStart","endOffset","commentEnd","INVALID_FORMAT","readMainHeader","totalEntries","iterateEntries","_self","splice","list","zipEntry","sort","nameA","toLowerCase","nameB","totalSize","dataBlock","entryHeaders","dindex","entryNameLen","rawEntryName","postHeader","dataLength","entryHeader","mainHeaderSize","outBuffer","mh","callee","defineProperty","picomatch","normalizePath","DEFAULT_OPTIONS","returnIndex","matchPatterns","patterns","negPatterns","args","isList","isArray","TypeError","call","nglob","applied","anymatch","matchers","testString","mtchers","negatedGlobs","charAt","matcher","glob","string","createPattern","ri","default","r","x","balanced","str","maybeMatch","range","start","pre","body","post","reg","m","match","begs","beg","left","right","ai","bi","concatMap","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","numeric","charCodeAt","parseCommaParts","postParts","shift","apply","embrace","isPadded","el","lte","y","gte","isTop","expansions","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","width","incr","abs","pad","some","String","fromCharCode","need","z","expansion","stringify","compile","parse","braces","output","nodupes","Set","noempty","Boolean","utils","ast","walk","parent","invalidBlock","isInvalidBrace","invalidNode","invalid","escapeInvalid","isOpen","isClose","type","prev","nodes","ranges","reduce","wrap","toRegex","MAX_LENGTH","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKSLASH","CHAR_BACKTICK","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOLLAR","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","append","queue","stash","enclose","flatten","ele","rangeLimit","q","dollar","exceedsLimit","step","RangeError","encloseBrace","block","maxLength","min","SyntaxError","stack","brackets","depth","advance","commas","siblings","before","keepQuotes","keepEscaping","isOpenOrClose","isInteger","num","Number","trim","find","limit","escapeNode","escaped","acc","flat","arr","EventEmitter","sysPath","promisify","readdirp","globParent","isGlob","NodeFsHandler","FsEventsHandler","EV_ALL","EV_READY","EV_ADD","EV_CHANGE","EV_UNLINK","EV_ADD_DIR","EV_UNLINK_DIR","EV_RAW","EV_ERROR","STR_CLOSE","STR_END","BACK_SLASH_RE","DOUBLE_SLASH_RE","SLASH_OR_BACK_SLASH_RE","DOT_RE","REPLACER_RE","SLASH","SLASH_SLASH","BRACE_START","BANG","ONE_DOT","TWO_DOTS","GLOBSTAR","SLASH_GLOBSTAR","ANYMATCH_OPTS","STRING_TYPE","FUNCTION_TYPE","EMPTY_STR","EMPTY_FN","isWindows","isMacos","readdir","arrify","unifyPaths","paths_","paths","every","normalizePathToUnix","toUnix","prepend","startsWith","normalizeIgnored","cwd","isAbsolute","undef","key","DirEntry","removeWatcher","_removeWatcher","add","delete","has","values","clear","freeze","WatchHelper","watchPath","follow","fsw","fullWatchPath","hasGlob","globSymlink","globFilter","dirParts","getDirParts","followSymlinks","statMethod","fullParentDir","realPath","linkPath","fullPath","checkGlobSymlink","isSymbolicLink","filterDir","entryPath","_isntIgnored","_hasReadPermissions","includes","entryParts","globstar","unmatchedGlob","FSWatcher","_opts","super","_watched","Map","_closers","_ignoredPaths","_throttled","_symlinkPaths","_streams","closed","persistent","ignoreInitial","ignorePermissionErrors","interval","binaryInterval","disableGlobbing","enableBinaryInterval","useFsEvents","usePolling","canUse","envPoll","env","CHOKIDAR_USEPOLLING","envLower","envInterval","CHOKIDAR_INTERVAL","atomic","_pendingUnlinks","awaitWriteFinish","awf","stabilityThreshold","pollInterval","_pendingWrites","ignored","readyCalls","_emitReady","_readyCount","_readyEmitted","nextTick","emit","_emitRaw","_fsEventsHandler","_nodeFsHandler","_origAdd","_internal","absPath","getAbsolutePath","_userIgnored","_addToFsEvents","all","res","_addToNodeFs","results","_closePath","_closePromise","removeAllListeners","closers","closerList","closer","promise","stream","destroy","dirent","dispose","watchList","getChildren","event","val1","val2","val3","get","lastChange","set","setTimeout","awfEmit","emitWithAll","_awaitWriteFinish","_throttle","alwaysStat","error","actionType","timeout","action","actionPath","count","timeoutObject","clearTimeout","thr","threshold","timeoutHandler","now","prevStat","curStat","cancelWait","ign","_getGlobIgnored","_isIgnored","_boundRemove","_remove","bind","st","it","_getWatchedDir","nested","wasTracked","remove","relPath","eventName","_emit","_closeFile","root","lstat","once","watcher","STR_DATA","FSEVENT_CREATED","FSEVENT_MODIFIED","FSEVENT_DELETED","FSEVENT_MOVED","FSEVENT_CLONED","FSEVENT_UNKNOWN","FSEVENT_TYPE_FILE","FSEVENT_TYPE_DIRECTORY","FSEVENT_TYPE_SYMLINK","KEY_LISTENERS","KEY_ERR","KEY_RAW","HANDLER_KEYS","DOT_SLASH","STAR","ROOT_GLOBSTAR","DIR_SUFFIX","dot","IDENTITY_FN","isLinux","fsevents","CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR","mtch","maj","realpath","statMethods","FSEventsWatchers","wrongEventFlags","createFSEventsInstance","stop","watch","calcDepth","sameTypes","info","ipaths","watchedDir","handleEvent","addOrChange","checkIgnored","curDepth","transform","listener","rawEmitter","extname","parentPath","cont","couldConsolidate","hasSymlink","filteredListener","watchedParent","watchedPath","listeners","getInfo","lst","setFSEventsListener","checkExists","_incrReadyCount","linkTarget","aliasedPath","_handleError","newPath","processPath","forceAdd","pp","isDir","dirObj","base","wh","_watchWithFsEvents","_addPathCloser","priorDepth","_getWatchHelpers","emitAdd","_readdirp","fileFilter","filterPath","directoryFilter","isNaN","joinedPath","_handleFsEventsSymlink","initWatch","isBinaryPath","fsrealpath","foreach","fn","addAndConvert","main","prop","container","delFromSet","isEmptySet","FsWatchInstances","createFsWatchInstance","errHandler","emitRaw","rawEvent","evPath","fsWatchBroadcast","FsWatchFileInstances","fsW","_boundHandleError","absolutePath","handlers","rawEmitters","copts","unwatchFile","watchFile","curr","currmtime","mtimeMs","setFsWatchFileListener","broadcastErr","watcherUnusable","errHandlers","clearItem","setFsWatchListener","initialAdd","prevStats","newStats","at","atimeMs","mt","ino","_watchWithNodeFs","full","throttler","previous","current","_handleSymlink","wasThrottled","_handleRead","parentDir","tracked","oDepth","dirPath","priorWh","ready","_handleDir","_handleFile","xs","isObject","wellKnownSymbol","definePropertyModule","UNSCOPABLES","ArrayPrototype","f","configurable","S","unicode","Constructor","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","O","fails","METHOD_NAME","argument","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","CORRECT_ARGUMENTS","tag","tryGet","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","F","constructor","getPrototypeOf","IteratorPrototype","createPropertyDescriptor","setToStringTag","Iterators","returnThis","IteratorConstructor","NAME","DESCRIPTORS","bitmap","enumerable","writable","$","createIteratorConstructor","setPrototypeOf","createNonEnumerableProperty","redefine","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","Iterable","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","proto","forced","global","document","EXISTS","createElement","userAgent","classof","getBuiltIn","v8","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","noTargetGet","sham","regexpExec","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","re","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","regexp","arg2","forceStringMethod","stringMethod","regexMethod","arg","aFunction","that","variable","namespace","toObject","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","symbols","ch","capture","check","globalThis","window","Function","hasOwnProperty","propertyIsEnumerable","store","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","feature","detection","POLYFILL","NATIVE","anObject","isArrayIteratorMethod","getIteratorMethod","iteratorClose","Result","stopped","iterable","unboundFunction","iterator","iterFn","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","condition","callFn","returnMethod","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","flush","head","last","notify","toggle","macrotask","IS_IOS","IS_WEBOS_WEBKIT","IS_NODE","MutationObserver","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","domain","exit","enter","createTextNode","observe","characterData","task","V8_VERSION","getOwnPropertySymbols","Symbol","PromiseCapability","C","$$resolve","$$reject","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObject","ActiveXObject","iframeDocument","iframe","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","Properties","objectKeys","IE8_DOM_DEFINE","toPrimitive","nativeDefineProperty","P","Attributes","propertyIsEnumerableModule","nativeGetOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","names","nativePropertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","newPromiseCapability","promiseCapability","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","R","re1","re2","regexpFlags","stickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","sticky","charsAdded","strCopy","multiline","ignoreCase","dotAll","RE","s","CONSTRUCTOR_NAME","TAG","uid","SHARED","copyright","defaultConstructor","toInteger","requireObjectCoercible","CONVERT_TO_STRING","first","second","codeAt","defer","channel","port","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","run","id","runner","postMessage","protocol","host","port2","port1","onmessage","addEventListener","importScripts","removeChild","integer","IndexedObject","ceil","PREFERRED_STRING","postfix","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","addToUnscopables","defineIterator","ARRAY_ITERATOR","setInternalState","iterated","kind","Arguments","arrayMethodIsStrict","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD","comparefn","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","redefineAll","setSpecies","anInstance","iterate","checkCorrectnessOfIteration","speciesConstructor","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","FakePromise","INCORRECT_ITERATION","isThenable","isReject","notified","chain","reactions","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","isUnhandled","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","remaining","alreadyCalled","race","fixRegExpWellKnownSymbolLogic","advanceStringIndex","getSubstitution","regExpExec","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","fullUnicode","accumulatedResult","nextSourcePosition","replacerArgs","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","symbol","desc","uri","firstComma","meta","substring","charset","base64","typeFull","unescape","debounce","func","wait","immediate","context","timestamp","later","debounced","callNow","path_1","rest","decodeURI","firstSlash","util","toRegexRange","isValidValue","isNumber","zeros","toNumber","dash","padStart","toMaxLen","negative","toRange","isNumbers","rangeError","inspect","invalidRange","strictRanges","descending","startString","endString","stepString","padded","maxLen","format","negatives","positives","toSequence","fillNumbers","fillLetters","invalidStep","os","parseString","AdmZip","Finder","webdriver_accept_untrusted_certs","webdriver_enable_native_events","webdriver_assume_untrusted_issuer","isValidAOMAddonId","unprefix","parseOptions","profileDirectory","isNotLockFile","filePath","FirefoxProfile","hasDestDir","destinationDirectory","profileDir","defaultPreferences","_deleteOnExit","_deleteZippedProfile","_preferencesModified","tmpDir","_createTempFolder","copySync","clobber","extensionsDir","userPrefs","pathExistsSync","_readExistingUserjs","onExit","_cleanOnExit","onSigInt","addListener","_copy","cb","profile","copyFromUserProfile","userProfilePath","getPath","profilePath","deleteDir","removeListener","shouldDeleteOnExit","doesExists","removeSync","bool","willDeleteOnExit","setPreference","cleanValue","addExtension","extension","_installExtension","addExtensions","extensions","promises","callbackify","updatePreferences","_writeUserPrefs","canAcceptUntrustedCerts","_sanitizePref","setAcceptUntrustedCerts","canAssumeUntrustedCertIssuer","setAssumeUntrustedCertIssuer","nativeEventsEnabled","setNativeEventsEnabled","encoded","zip","ffValues","direct","manual","pac","system","encode","setProxy","proxy","proxyType","noProxy","_setManualProxyPreference","ftpProxy","httpProxy","sslProxy","socksProxy","autoconfigUrl","writeFileSync","regExp","line","found","addon","xpiFile","_addonDetails","addonDetails","addonId","manifest","getID","unpack","addonPath","mkdirp","mkdir","doc","details","isNative","getNamespaceId","url","namespaces","pref","webExtManifest","JSON","browser_specific_settings","gecko","applications","em","rdf","rdfNode","mkdtempSync","tmpdir","setting","hostDetails","ini","ProfileFinder","locateUserDirectory","hasReadProfiles","profiles","userDir","HOME","APPDATA","readProfiles","findInProfiles","pathFound","Name","IsRelative","Path","webpackEmptyContext","req","mkdirsSync","utimesMillisSync","startCopy","destStat","dest","srcStat","dereference","lstatSync","srcMode","copyDir","setDestMode","mkDirAndCopy","onDir","isCharacterDevice","isBlockDevice","unlinkSync","copyFile","errorOnExist","mayCopyFile","onFile","resolvedSrc","readlinkSync","resolvedDest","symlinkSync","isSrcSubdir","copyLink","onLink","getStats","copyFileSync","preserveTimestamps","fileIsNotWritable","makeFileWritable","updatedSrcStat","setDestTimestamps","handleTimestamps","srcItem","destItem","checkPathsSync","copyDirItem","arch","checkParentPathsSync","destParent","handleFilterAndCopy","mkdirs","pathExists","utimesMillis","checkParentDir","dirExists","handleFilter","onInclude","include","unlink","readlink","symlink","setDestTimestampsAndMode","handleTimestampsAndMode","copyDirItems","checkPaths","checkParentPaths","u","emptyDir","deleteItem","emptyDirSync","emptydirSync","emptydir","createFile","makeFile","writeFile","createFileSync","link","ensureFile","ensureFileSync","createLink","createLinkSync","ensureLink","ensureLinkSync","createSymlink","createSymlinkSync","ensureSymlink","ensureSymlinkSync","srcpath","dstpath","makeLink","destinationExists","message","linkSync","symlinkPaths","toCwd","toDst","dstdir","relativeToDst","symlinkPathsSync","symlinkType","symlinkTypeSync","_mkdirs","_symlinkType","api","read","bytesRead","bytesWritten","writev","buffers","jsonFile","outputJson","outputJsonSync","outputJSON","outputJSONSync","writeJSON","writeJson","writeJSONSync","writeJsonSync","readJSON","readJson","readJSONSync","readJsonSync","outputFileSync","outputFile","_makeDir","makeDirSync","mkdirpSync","ensureDir","ensureDirSync","useNativeRecursiveOption","atLeastNode","checkPath","processOptions","permissionError","errno","syscall","recursive","make","moveSync","rename","renameSync","moveAcrossDevice","doRename","move","destExists","itDoes","access","catch","rimraf","sync","assert","defaults","maxBusyTries","busyTries","strictEqual","rimraf_","CB","er","fixWinEPERM","rmdir","er2","er3","fixWinEPERMSync","rmdirSync","originalEr","errState","rmkids","rimrafSync","startTime","rmkidsSync","nodeSupportsBigInt","bigint","areIdentical","dev","MAX_SAFE_INTEGER","nlink","ctimeMs","birthtimeMs","srcArr","destArr","cur","errMsg","funcName","getStatsSync","srcParent","futimes","futimesErr","closeErr","futimesSync","pathPosixDirname","isWin32","backslash","enclosure","globby","flipBackslashes","obj","gracefulQueue","previousSymbol","polyfills","legacy","clone","publishQueue","for","debug","debuglog","NODE_DEBUG","fs$close","retry","fs$closeSync","patch","gracefulify","createReadStream","ReadStream","createWriteStream","WriteStream","fs$readFile","go$readFile","enqueue","fs$writeFile","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$copyFile","fs$readdir","go$readdir","legStreams","fs$ReadStream","autoClose","fs$WriteStream","FileReadStream","FileWriteStream","fs$open","go$open","elem","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","Stream","readable","paused","bufferSize","setEncoding","Infinity","_read","busy","_queue","_open","constants","origCwd","GRACEFUL_FS_PLATFORM","chdir","d","fs$rename","fs$readSync","chmodFix","orig","chownErOk","chmodFixSync","chownFix","gid","chownFixSync","statFix","statFixSync","getuid","lchmod","O_WRONLY","O_SYMLINK","fchmod","err2","lchmodSync","ret","threw","fchmodSync","patchLchmod","lutimes","lutimesSync","_a","_b","_c","patchLutimes","chown","fchown","lchown","chownSync","fchownSync","lchownSync","fstat","fstatSync","to","backoff","stater","fs$read","callback_","eagCounter","_","__","readSync","eol","opt","children","out","section","whitespace","separator","safe","nk","dotSplit","decode","lines","keyRaw","valueRaw","nl","del","isQuoted","doUnesc","esc","unesc","binaryExtensions","isExtglob","chars","strictRegex","relaxedRegex","regex","strict","idx","isFinite","_fs","universalify","stripBom","jsonfile","fromPromise","shouldThrow","throws","fromCallback","reviver","EOL","finalEOL","spaces","EOF","minimatch","Minimatch","plTypes","qmark","star","reSpecials","slashSplit","ext","nocomment","negate","empty","braceExpand","nobrace","def","_made","parseNegate","globSet","globParts","si","negateOffset","nonegate","isSub","noglobstar","stateChar","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","clearStateChar","noext","reStart","pl","reEnd","cs","sp","SUBPARSE","tail","$1","$2","addPatternStart","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","_glob","_src","makeRe","twoStar","ex","mm","nonull","partial","matchBase","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","_0777","mkdirP","made","xfs","err0","err1","stripTrailing","segs","DOTS_SLASH","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","START_ANCHOR","WINDOWS_CHARS","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_BACKWARD_SLASH","CHAR_GRAVE_ACCENT","SEP","extglobChars","globChars","win32","expandRange","v","escapeRegex","syntaxError","char","bos","tokens","PLATFORM_CHARS","EXTGLOB_CHARS","nodot","qmarkNoDot","bash","noextglob","consumed","backtrack","negated","parens","quotes","removePrefix","extglobs","eos","peek","consume","token","increment","decrement","tok","isBrace","extglob","inner","extglobOpen","conditions","extglobClose","extglobStar","negatedExtglob","fastpaths","backslashes","repeat","contains","wrapOutput","slashes","lastIndexOf","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","outputIndex","tokensIndex","brace","dots","unshift","comma","toks","supportsLookbehinds","prior","isStart","afterStar","after","strictSlashes","escapeLast","suffix","slashDot","scan","returnState","fns","isMatch","isState","compileRe","isIgnored","ignore","ignoreOpts","onMatch","onResult","returnObject","onIgnore","toPosixSlashes","parsed","returnOutput","isPathSeparator","isPrefix","isGlobstar","scanToEnd","isBracket","braceEscaped","finished","noparen","removeBackslashes","maxDepth","prevIndex","isRegexChar","windows","lastIdx","Readable","NORMAL_FLOW_ERRORS","FILE_TYPE","DIR_TYPE","FILE_DIR_TYPE","EVERYTHING_TYPE","ALL_TYPES","normalizeFilter","positive","trimmed","ReaddirpStream","objectMode","autoDestroy","highWaterMark","_fileFilter","_directoryFilter","_maxDepth","_wantsDir","_wantsFile","_wantsEverything","_root","_isDirent","_statsProp","_rdOptions","withFileTypes","parents","_exploreDir","reading","batch","destroyed","_formatEntry","entryType","_getEntryType","_includeAsFile","_onError","entryRealPath","entryRealPathStats","sax","parser","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","clearBuffers","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closedRoot","sawRoot","noscript","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","column","EVENTS","o","chunk","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","emitNode","CDATA","cdata","COMMENT","DOCTYPE","doctype","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","attributes","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","parseEntity","entity","entityBody","entityStart","maxAllowed","maxActual","closeText","checkBufferLength","resume","streamWraps","ev","_parser","me","onend","onerror","_decoder","h","SD","XML_NAMESPACE","XMLNS_NAMESPACE","xml","stringFromCharCode","fromCodePoint","COMMENT_STARTING","nodeType","text","qname","attribute","qualName","local","qn","selfClosing","nv","isSelfClosing","closeTo","entityLC","numStr","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","ArraySet","_array","_set","aArray","aAllowDuplicates","aStr","isDuplicate","aIdx","aValue","vlq","toVLQSigned","VLQ_BASE","intToCharMap","number","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","mid","cmp","LEAST_UPPER_BOUND","GREATEST_LOWER_BOUND","search","_sorted","_last","generatedLine","generatedColumn","aCallback","aThisArg","aMapping","mappingA","mappingB","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","generatedPositionAfter","mappingsWasmUrl","response","arrayBuffer","initialize","wasmPath","__dirname","binarySearch","readWasm","wasm","INTERNAL","SourceMapConsumer","aSourceMap","aSourceMapURL","sourceMap","parseSourceMapInput","consumer","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","_factory","fromSourceMap","_factoryBSM","rawSourceMap","sourceMapUrl","aSourceRoot","aContext","aOrder","aArgs","GENERATED_ORDER","ORIGINAL_ORDER","getArg","sources","sourceRoot","sourcesContent","mappings","_names","fromArray","_sources","_absoluteSources","toArray","computeSourceURL","_mappings","_sourceMapURL","_computedColumnSpans","_mappingsPtr","_wasm","w","aSource","relativeSource","_parseMappings","mappingsBufPtr","allocate_mappings","mappingsBuf","memory","mappingsPtr","parse_mappings","get_last_error","msg","order","withMappingCallback","mapping","by_generated_location","_getMappingsPtr","by_original_location","originalLine","originalColumn","_findSourceIndex","lastColumn","lastGeneratedColumn","all_generated_locations_for","free_mappings","compute_column_spans","needle","bias","original_location_for","sc","nullOnMissing","urlParse","fileUriAbsPath","scheme","generated_location_for","__generatedMappings","__originalMappings","__generatedMappingsUnsorted","__originalMappingsUnsorted","lastOffset","offsetLine","offsetColumn","generatedOffset","_sections","_sortGeneratedMappings","_sortOriginalMappings","_generatedMappingsUnsorted","compareByGeneratedPositionsDeflated","_originalMappingsUnsorted","compareByOriginalPositions","sectionIndex","originalPositionFor","hasContentsOfAllSources","sourceContentFor","generatedPosition","generatedPositionFor","generatedMappings","originalMappings","sectionMappings","eachMapping","adjustedMapping","_generatedMappings","_originalMappings","aMappings","aLineName","aColumnName","aComparator","_findMapping","base64VLQ","MappingList","SourceMapGenerator","_file","_sourceRoot","_skipValidation","_sourcesContents","aSourceMapConsumer","generator","newMapping","generated","original","addMapping","sourceFile","sourceRelative","setSourceContent","_validateMapping","aSourceFile","aSourceContent","toSetString","aSourceMapPath","newSources","newNames","unsortedForEach","srcFile","aGenerated","aOriginal","aName","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","aSources","_serializeMappings","_generateSourcesContent","toJSON","aDefaultValue","urlRegexp","dataUrlRegexp","aUrl","auth","urlGenerate","aParsedUrl","cache","aPath","up","lruMemoize","aRoot","aPathUrl","aRootUrl","joined","level","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","fromSetString","onlyCompareOriginal","onlyCompareGenerated","sourceURL","sourceMapURL","Mapping","cachedWasm","callbackStack","WebAssembly","instantiate","hasLastGeneratedColumn","hasOriginal","hasName","timeEnd","Wasm","instance","mappingCallback","singleComment","multiComment","stripWithoutWhitespace","stripWithWhitespace","isEscaped","jsonString","quotePosition","backslashCount","strip","insideString","insideComment","currentCharacter","nextCharacter","relaxZeros","strictZeros","cacheKey","shorthand","hasPadding","splitToPatterns","neg","onlyNegative","filterPatterns","onlyPositive","intersected","collatePatterns","rangeToPattern","digits","zipped","startDigit","stopDigit","nines","countNines","stops","countZeros","compare","splitToRanges","padZeros","toQuantifier","comparison","intersection","pow","diff","relax","clearCache","DebugSession","ErrorDestination","InvalidatedEvent","ProgressEndEvent","ProgressUpdateEvent","ProgressStartEvent","CapabilitiesEvent","LoadedSourceEvent","ModuleEvent","BreakpointEvent","ThreadEvent","OutputEvent","TerminatedEvent","InitializedEvent","ContinuedEvent","StoppedEvent","CompletionItem","Module","Breakpoint","Variable","Thread","StackFrame","Scope","Source","protocol_1","messages_1","runDebugAdapter_1","url_1","origin","sourceReference","adapterData","reference","expensive","variablesReference","nm","ln","col","ref","indexedVariables","namedVariables","verified","label","Event","threadId","exceptionText","allThreadsContinued","restart","category","breakpoint","capabilities","progressId","title","areas","stackFrameId","ProtocolServer","obsolete_debuggerLinesAndColumnsStartAt1","obsolete_isServer","linesAndColumnsStartAt1","_debuggerLinesStartAt1","_debuggerColumnsStartAt1","_debuggerPathsAreURIs","_clientLinesStartAt1","_clientColumnsStartAt1","_clientPathsAreURIs","_isServer","shutdown","enable","debugSession","runDebugAdapter","_isRunningInline","codeOrMessage","variables","User","showUser","Telemetry","sendTelemetry","success","formatPII","sendResponse","sendRequest","request","Response","command","linesStartAt1","columnsStartAt1","pathFormat","sendErrorResponse","initializeResponse","initializeRequest","launchRequest","attachRequest","disconnectRequest","terminateRequest","restartRequest","setBreakPointsRequest","setFunctionBreakPointsRequest","setExceptionBreakPointsRequest","configurationDoneRequest","continueRequest","nextRequest","stepInRequest","stepOutRequest","stepBackRequest","reverseContinueRequest","restartFrameRequest","gotoRequest","pauseRequest","stackTraceRequest","scopesRequest","variablesRequest","setVariableRequest","setExpressionRequest","sourceRequest","threadsRequest","terminateThreadsRequest","evaluateRequest","stepInTargetsRequest","gotoTargetsRequest","completionsRequest","exceptionInfoRequest","loadedSourcesRequest","dataBreakpointInfoRequest","setDataBreakpointsRequest","readMemoryRequest","disassembleRequest","cancelRequest","breakpointLocationsRequest","setInstructionBreakpointsRequest","customRequest","_exception","_stack","supportsConditionalBreakpoints","supportsHitConditionalBreakpoints","supportsFunctionBreakpoints","supportsConfigurationDoneRequest","supportsEvaluateForHovers","supportsStepBack","supportsSetVariable","supportsRestartFrame","supportsStepInTargetsRequest","supportsGotoTargetsRequest","supportsCompletionsRequest","supportsRestartRequest","supportsExceptionOptions","supportsValueFormattingOptions","supportsExceptionInfoRequest","supportTerminateDebuggee","supportsDelayedStackTraceLoading","supportsLoadedSourcesRequest","supportsLogPoints","supportsTerminateThreadsRequest","supportsSetExpression","supportsTerminateRequest","supportsDataBreakpoints","supportsReadMemoryRequest","supportsDisassembleRequest","supportsCancelRequest","supportsBreakpointLocationsRequest","supportsClipboardContext","supportsSteppingGranularity","supportsInstructionBreakpoints","supportsExceptionFilterOptions","clientPath","uri2path","path2uri","debuggerPath","encodeURI","URL","pathname","sourceUri","decodeURIComponent","excludePII","_formatPIIRegexp","paramName","Handles","startHandle","START_HANDLE","_handleMap","_nextHandle","handle","dflt","__awaiter","thisArg","_arguments","fulfilled","rejected","InternalLogger","logger_1","getFormattedTimeString","_padZeroes","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","minDesiredLength","numberToPad","logCallback","isServer","beforeExitCallback","_logCallback","_logToConsole","_minLogLevel","LogLevel","Warn","disposeCallback","signal","consoleMinLogLevel","_prependTimestamp","prependTimestamp","logFilePath","handleError","sendLog","log","_logFileStream","logDateTime","setupShutdownListeners","timeAndDateStamp","getUTCFullYear","getUTCMonth","getUTCDate","Verbose","removeShutdownListeners","Stop","logFn","trimLastNewline","endsInNewline","LogOutputEvent","logger","Logger","internalLogger_1","debugSession_1","_pendingLogQ","Log","_write","_currentLogger","disposeP","_logFilePath","_logFilePathFromInit","setup","logQ","logToConsole","LoggingDebugSession","obsolete_logFilePath","inStream","outStream","init","sendEvent","objectToLog","doNotLogOutput","verbose","dispatchRequest","Message","seq","request_seq","ee","Emitter","_event","_listener","_this","_sendMessage","_pendingRequests","onDidSendMessage","clb","hasListener","_sequence","_writableStream","_rawData","_handleData","_emitEvent","_send","timer","typ","json","byteLength","fire","_contentLength","handleMessage","TWO_CRLF","pair","Net","argv","array","portMatch","createServer","socket","session","setRunAsServer","listen","stdin","stdout","stripBOM","builder","escapeCDATA","requiresCDATA","wrapCDATA","hasProp","Builder","buildObject","rootObj","attrkey","charkey","render","rootElement","rootName","element","raw","txt","att","xmldec","headless","allowSurrogateChars","renderOpts","explicitCharkey","normalizeTags","explicitArray","ignoreAttrs","mergeAttrs","explicitRoot","validator","explicitChildren","childkey","charsAsChildren","includeWhiteChars","attrNameProcessors","attrValueProcessors","tagNameProcessors","valueProcessors","emptyTag","preserveChildrenOrder","bom","events","isEmpty","processItem","processors","thing","Parser","superClass","parseStringPromise","reset","assignOrPush","processAsync","xmlnskey","ctor","__super__","extend","saxParser","error1","errThrown","newValue","ontext","ended","resultObject","EXPLICIT_CHARKEY","onopentag","processedKey","onclosetag","emptyStr","nodeName","objClone","old","xpath","charChild","oncdata","prefixMatch","firstCharLowerCase","stripPrefix","parseNumbers","parseFloat","parseBooleans","ValidationError","Disconnected","Preceding","Following","Contains","ContainedBy","ImplementationSpecific","Element","Attribute","Text","CData","EntityReference","EntityDeclaration","ProcessingInstruction","Comment","Document","DocType","DocumentFragment","NotationDeclaration","Declaration","Raw","AttributeDeclaration","ElementDeclaration","Dummy","getValue","isFunction","isPlainObject","None","OpenTag","InsideTag","CloseTag","NodeType","XMLAttribute","debugInfo","attValue","isId","schemaTypeInfo","writer","filterOptions","isEqualNode","namespaceURI","localName","XMLCharacterData","XMLCData","XMLNode","substringData","appendData","insertData","deleteData","replaceData","XMLComment","XMLDOMErrorHandler","XMLDOMStringList","XMLDOMConfiguration","defaultParams","params","getParameter","canSetParameter","setParameter","XMLDOMImplementation","hasFeature","createDocumentType","qualifiedName","publicId","systemId","createDocument","createHTMLDocument","getFeature","XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","dtdAttType","dtdAttDefault","dtdAttList","XMLDTDElement","dtdElementValue","dtdElement","XMLDTDEntity","pe","pubID","sysID","internal","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","dtdEntity","XMLDTDNotation","dtdNotation","XMLDeclaration","standalone","xmlVersion","xmlEncoding","xmlStandalone","declaration","XMLNamedNodeMap","XMLDocType","ref1","ref2","documentObject","attList","pEntity","notation","docType","ent","pent","not","XMLStringWriter","XMLStringifier","XMLDocument","documentURI","domConfig","rootObject","writerOptions","createDocumentFragment","createComment","createCDATASection","createProcessingInstruction","createAttribute","createEntityReference","getElementsByTagName","tagname","importNode","importedNode","deep","createElementNS","createAttributeNS","getElementsByTagNameNS","getElementById","elementId","adoptNode","normalizeDocument","renameNode","getElementsByClassName","classNames","eventInterface","createRange","createNodeIterator","whatToShow","createTreeWalker","WriterState","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","XMLDocumentCB","onData","onEnd","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","createChildNode","attName","attribs","dummy","instruction","openCurrent","oldValidationFlag","noValidation","keepNullAttributes","insTarget","insValue","processingInstruction","rootNodeName","closeNode","openNode","indent","endline","isClosed","nod","dat","com","ins","dec","dtd","XMLDummy","isRoot","attributeMap","clonedSelf","clonedChild","removeAttribute","getAttribute","setAttribute","getAttributeNode","setAttributeNode","newAttr","removeAttributeNode","oldAttr","getAttributeNS","setAttributeNS","removeAttributeNS","getAttributeNodeNS","setAttributeNodeNS","hasAttribute","hasAttributeNS","setIdAttribute","setIdAttributeNS","setIdAttributeNode","idAttr","getNamedItem","setNamedItem","oldNode","removeNamedItem","getNamedItemNS","setNamedItemNS","removeNamedItemNS","DocumentPosition","XMLNodeList","parent1","baseURI","childNodeList","textContent","setParent","childNode","lastChild","len1","ref3","ignoreDecorators","convertAttKey","separateArrayItems","keepNullNodes","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","convertPIKey","insertBefore","newChild","refChild","removed","insertAfter","commentBefore","commentAfter","instructionBefore","instructionAfter","importDocument","clonedRoot","importXMLBuilder","replaceChild","oldChild","hasChildNodes","cloneNode","isSupported","hasAttributes","compareDocumentPosition","other","isAncestor","isDescendant","isPreceding","isSameNode","lookupPrefix","isDefaultNamespace","lookupNamespaceURI","setUserData","getUserData","nodePos","thisPos","treePosition","isFollowing","foreachTreeNode","XMLWriterBase","XMLStreamWriter","isLastRootNode","writeChildNode","spaceBeforeSlash","childNodeCount","firstChildNode","allowEmpty","pretty","suppressPrettyCount","newline","assertLegalName","assertLegalChar","textEscape","attEscape","ampregex","noDoubleEncoding","previousSibling","nextSibling","splitText","replaceWholeText","filteredOptions","ref4","ref5","ref6","dontPrettyTextNodes","dontprettytextnodes","spacebeforeslash","user","indentLevel","openAttribute","closeAttribute","prettySuppressed","begin","stringWriter","streamWriter","implementation","writerState","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","toStringTag","LIB","470","_makeLong","delimiter","447","URI","g","navigator","authority","query","fragment","isUri","fsPath","with","A","revive","_formatted","external","_fsPath","_sep","$mid","encodeURIComponent","U","joinPath","resolvePath","NumericLogLevel","newConfig","fileDescriptor","fileName","logs","configure","Debug","Info","isDebugEnabled","minLevel","isInfoEnabled","isWarnEnabled","isErrorEnabled","fileLevel","convertLogLevel","consoleLevel","logLevel","displayLevel","elapsedTimeString","toFixed","logMsg","consoleLog","delay","isWindowsPlatform","rawPath","normalized","identifierExpression","accessorExpression","objectExpression","propertyName","DebugAdapterBase","debuggerLinesStartAt1","handleRequest","handleRequestAsync","disconnect","launch","attach","breakpointLocations","setBreakpoints","setExceptionBreakpoints","pause","stepIn","stepOut","continue","getSource","getThreads","getStackTrace","getScopes","getVariables","setVariable","evaluate","getCompletions","dataBreakpointInfo","setDataBreakpoints","reloadAddon","toggleSkippingFile","setPopupAutohide","togglePopupAutohide","executeRequest","errorString","PendingRequests","pendingRequests","resolveOne","rejectOne","resolveAll","rejectAll","SourceActorProxy","connection","register","actor","getBreakableLines","getBreakableLinesPromise","pendingGetBreakableLinesRequest","positions","getBreakpointPositionsForRange","pendingGetBreakpointPositionsRequests","fetchSource","pendingFetchSourceRequests","setBlackbox","blackbox","isBlackBoxed","pendingBlackboxRequests","unregister","receiveResponse","breakableLinesResponse","breakpointPositionsResponse","grip","propertyCount","ExceptionBreakpoints","ThreadActorProxy","enableCRAWorkaround","attachPromise","pendingEmptyResponseRequests","exceptionBreakpoints","resumeLimitType","resumePromise","pauseOnExceptions","ignoreCaughtExceptions","resumeLimit","All","Uncaught","pendingResumeRequest","interruptPromise","interrupt","immediately","pendingInterruptRequest","when","setBreakpoint","sourceActor","logValue","sourceUrl","removeBreakpoint","fetchSources","pendingSourcesRequests","fetchStackFrames","pendingStackFramesRequests","pausedResponse","why","endsWith","frames","errorMsg","onPaused","onResumed","onExited","onWrongState","onNewSource","onNewGlobal","rnds8Pool","poolPtr","rng","byteToHex","uuid","rnds","isExecutable","connect","net","urlDirname","lastSepIndex","getUri","dataUriToBuffer","fileUriToPath","parsedUrl","https","http","rejectUnauthorized","responseData","statusCode","statusMessage","harmonizeTrailingSlashes","pathMapping","handleWildcards","RegExpEscape","findFirefoxExecutable","configuredPath","candidates","getExecutableCandidates","edition","PATH","parseTabFilter","tabFilter","ConsoleActorProxy","startListeners","pendingStartListenersRequests","listenFor","stopListeners","pendingStopListenersRequests","getCachedMessages","messageTypes","expr","frameActorName","resolveEvaluate","rejectEvaluate","pendingResultIDRequests","resultID","pendingEvaluateRequests","frameActor","autoComplete","pendingAutoCompleteRequests","cursor","messages","pageError","_type","resultResponse","exceptionMessage","preview","exceptionGripToString","exception","matches","onConsoleAPICall","onPageErrorCall","onLogMessageCall","SourceMappingSourceActorProxy","sourceMappingInfo","underlyingSource","allBreakablesPromise","getAllBreakables","locations","computeColumnSpans","unresolvedSource","findUnresolvedSource","generatedRanges","currentRange","mappedBreakableLocations","originalBreakableColumns","generatedBreakableLocations","generatedLineString","originalLocation","originalLocationFor","breakableLines","embeddedSource","syncBlackboxFlag","disposeSource","detectWindowsPlatform","windowsAbsolutePathRegEx","SourceMappingInfo","sourceMapConsumer","sourceMapUri","columnSpansComputed","generatedLocation","consumerArgs","introductionType","resolveSource","mappingItem","blackboxUnderlyingSource","sourceIndex","resolvedSource","SourceMappingThreadActorProxy","underlyingActorProxy","pathMapper","getOrCreateSourceMappingInfo","generatedSourceActor","originalSourceActor","underlyingSources","allMappedSources","mappedSources","sourceMappingInfos","pendingSources","pending","createSourceMappingInfo","sourceMappingInfoPromise","getOrCreate","isAbsoluteUrl","sourceMapPath","convertFirefoxUrlToPath","sourceMapString","sourceMappingSourceActors","origSource","sourceMappingSource","createOriginalSource","sourceMappingSourceActor","getSourceMappingInfo","stackFrames","frame","applySourceMapToFrame","where","hasSourceMap","generatedSource","originalSourceUrl","introductionUrl","generatedUrl","isPrettyPrinted","isSourceMapped","underlyingActor","infoPromise","BaseActorProxy","responseTypes","requestTypes","WorkerActorProxy","connectPromise","_connect","getRequestTypes","useSourceMaps","threadActor","consoleActor","onClose","TabActorProxy","_title","_url","pendingAttachRequests","detach","pendingDetachRequests","fetchWorkers","pendingWorkersRequests","reload","pendingReloadRequests","tabAttachedResponse","didNavigateResponse","workersResponse","currentWorkers","workers","worker","workerActor","onAttached","onDetached","onWillNavigate","onDidNavigate","onFramesDestroyed","onWorkerListChanged","onWorkerStarted","onWorkerStopped","WebExtensionActorProxy","webExtensionInfo","pendingConnectRequests","getTarget","connectResponse","form","popupAutohidePreferenceKey","AddonManager","rootActor","addonsActor","preferenceActor","useConnect","installAddon","fetchAddonsAndAttach","popupAutohideButton","popupAutohide","getBoolPref","sendCustomEvent","addonActor","addonAttached","addons","fetchAddons","webExtensionActor","firefoxDebugConnection","threadAdapter","attachTabOrAddon","attachConsole","DebugProtocolTransport","initialBufferLength","bufferedLength","receivingHeader","processedLength","copyLength","bodyLength","bodyBuffer","msgString","sendMessage","msgBuf","TabDescriptorActorProxy","getTargetPromise","pendingGetTargetRequest","getTargetResponse","PreferenceActorProxy","getPref","getCharPref","prefString","setBoolPref","setPref","setCharPref","setIntPref","pendingGetPrefRequests","pendingSetPrefRequests","AddonsActorProxy","pendingInstallRequests","installAddonResponse","DeviceActorProxy","getDescription","descriptionPromise","pendingDescriptionRequest","RootActorProxy","fetchRoot","rootPromise","pendingRootRequest","fetchProcess","pendingProcessRequests","fetchTabs","pendingTabsRequests","pendingAddonsRequests","tabsResponse","currentTabs","tabs","actorsForTab","tab","_tab","tabDescriptorActor","tabActorName","rootResponse","addonsActorName","deviceActor","preference","device","addonsResponse","processResponse","onInit","onTabOpened","onTabClosed","onTabListChanged","onAddonListChanged","DebugConnection","actors","transport","actorName","createActor","ObjectGripActorProxy","_refCount","increaseRefCount","decreaseRefCount","fetchPrototypeAndProperties","pendingPrototypeAndPropertiesRequests","addWatchpoint","property","watchpointType","removeWatchpoint","threadLifetime","pendingVoidRequests","LongStringGripActorProxy","extendLifetime","fetchContent","pendingSubstringRequests","ObjectGripAdapter","variableAdapter","referenceExpression","referenceFrame","objectGrip","isPrototype","getOrCreateObjectGripActorProxy","variablesProviderId","variablesProviders","registerObjectGripAdapter","prototypeVariable","prototypeAndProperties","coordinator","runOnPausedThread","symbolVariables","safeGetterValues","symbolProperties","ownSymbols","varname","ownProperties","VariableAdapter","fromPropertyDescriptor","fromSafeGetterValueDescriptor","symbolProperty","accessorsFromPrototypes","fromGrip","prototypeLevels","liftAccessorsFromPrototypes","fetchAccessorsFromPrototypes","class","levels","objectGripAdapter","variablesProvider","propertyDescriptor","renderPreview","parameterNames","functionGrip","parameters","parameterName","displayName","renderFunctionGrip","className","renderedProperties","valueGrip","renderedValue","renderGrip","renderedObject","renderObjectPreview","renderCount","renderedItems","renderGripOrNull","gripOrNull","renderArrayLikePreview","renderedAttributes","renderDOMElementPreview","initial","GetterValueAdapter","_variablesProvider","displayValue","getVariable","evaluateName","parentReferenceExpression","useParentReferenceExpression","symbolName","accessorPropertyDescriptor","hasGetter","isFunctionGrip","hasSetter","safeGetterValueDescriptor","getterValue","var1","var2","compareStrings","s1","s2","Registry","nextId","objectsById","ScopeAdapter","registerScopeAdapter","ObjectScopeAdapter","SingleValueScopeAdapter","addThis","thisValue","thisVariable","addReturnValue","returnValue","returnVariable","getScope","getVariablesInt","LocalVariablesScopeAdapter","variableDescriptors","FunctionScopeAdapter","bindings","EnvironmentAdapter","environment","ObjectEnvironmentAdapter","FunctionEnvironmentAdapter","WithEnvironmentAdapter","BlockEnvironmentAdapter","getScopeAdapters","frameAdapter","getAllScopeAdapters","scopes","ownScope","getOwnScopeAdapter","scopeName","function","FrameActorProxy","getEnvironment","getEnvironmentPromise","pendingGetEnvironmentRequest","FrameAdapter","frameRegistry","sourceActorName","sourceAdapter","findSourceAdapterForActorName","_scopeAdapters","environmentAdapter","BreakpointInfo","requestedBreakpoint","hitCount","hitCondition","isEquivalent","bp1","bp2","logMessage","BreakpointAdapter","breakpointInfo","actualLocation","actorIdRegex","SourceAdapter","_actor","sourceRegistry","sourcePath","createSource","sourceName","presentationHint","updateBreakpoints","breakpoints","desiredBreakpoints","checkAndSyncBreakpoints","newActor","currentBreakpoints","replaceSourceActor","bp","findBreakpointAdapterForLocation","breakpointAdapter","isSyncingBreakpoints","syncBreakpoints","breakpointsToDelete","breakpointsToKeep","currentBreakpoint","deletionPromises","breakpointsToAdd","desiredBreakpoint","breakpointsManager","additionPromises","findNextBreakableLocation","currentPos","leftBrace","rightBrace","convertLogpointMessage","verifyBreakpoint","addedBreakpoints","requestedLine","requestedColumn","breakableLocations","getBreakableLocations","DelayedTask","cancel","ThreadCoordinator","_threadTarget","_threadPausedReason","threadName","isPaused","pauseCoordinator","prepareResume","threadState","threadPaused","threadResumed","tasksRunningOnPausedThread","doNext","resumeTo","stepOver","delayedTask","queuedTasksToRunOnPausedThread","queuedEvaluateTasks","threadTarget","executeInterrupt","executeOnPausedThread","executeEvaluateTask","executeResume","pauseType","requestInterrupt","notifyInterruptFailed","requestResume","getResumeLimit","notifyResumeFailed","execute","notifyInterrupted","notifyResumed","ThreadAdapter","getUrl","threads","disposePauseLifetimeAdapters","sourceLocation","fetchAllStackFrames","startFrame","attachOptions","ignoreFrameEnvironment","createSourceAdapter","adapter","sourcePromises","oldActor","adapterPromise","scopeAdapter","threadLifetimeObjects","pauseLifetimeObjects","findCorrespondingSourceAdapter","findSourceAdaptersForPathOrUrl","pathOrUrl","pathsAreEqual","path1","path2","findSourceAdaptersForUrlWithoutQuery","queryStringIndex","findOriginalLocation","framesPromise","frameAdapters","threadPausedReason","scopeAdapters","frameFinished","return","throw","triggerStackframeRefresh","sendStoppedEvent","skipBreakpoints","variableFromGrip","ConsoleAPICallAdapter","BreakpointsManager","suggestPathMappingWizard","sourcePathOrUrl","createBreakpointInfoKey","oldBreakpointInfos","breakpointsBySourcePathOrUrl","breakpointInfos","getOrCreateBreakpointInfo","sourceAdapterFound","sourceAdapters","oldBreakpointInfo","nextBreakpointId","DataBreakpointsManager","dataId","separatorIndex","newDataBreakpoints","oldDataBreakpoints","dataBreakpoints","dataBreakpoint","accessType","addDataBreakpoint","removeDataBreakpoint","decodeDataId","SkipFilesManager","configuredFilesToSkip","shouldSkip","dynamicFiles","testee","skipFile","thread","ThreadPauseCoordinator","findPauseIndex","pendingRequest","requestedPauses","interruptingThread","pauseIndex","currentPauses","hinderingPauses","findHinderingPauses","pauseInfo","requestedResumes","resumingThread","threadTerminated","requestedResume","currentPause","mostRecentPause","resumeRequestIndex","findResumeRequestIndex","resumeThread","automaticPauseRequestIndex","findAutomaticPauseRequestIndex","pauseThread","pauseRequestIndex","resumeRequest","resumeThreadId","PathMapper","pathMappings","addonConfig","convertFirefoxSourceToPath","addonID","removeQueryString","originalPathOrUrl","generatedPath","thePath","consoleActorLog","FirefoxDebugSession","dataBreakpointsManager","skipFilesManager","filesToSkip","addonManager","connectToFirefox","tabActor","attachToNextTab","exclude","tabId","initialResponse","traits","webExtensionAddonConnect","nativeLogpoints","noPauseOnThreadActorAttach","sessionStarted","reloadTabs","firefoxExecutable","firefoxEdition","firefoxArgs","spawn","openNewTab","firefoxDebugSocketClosed","reloadOnChange","reloadWatcher","chokidar","disconnectFirefoxAndCleanup","setActiveThread","lastActiveThreadId","getActiveThread","getOrCreateLongStringGripActorProxy","longStringGrip","firefoxProc","srcProfileDir","createDebugProfile","preferences","prepareDebugProfile","childProc","SNAP","detached","forkArgs","forkedLauncherPath","tmpDirs","execPath","fork","execArgv","stderr","unref","launchFirefox","firefoxClosedPromise","maxIterations","lastError","waitForSocket","terminate","kill","terminatorPath","threadPauseCoordinator","sendThreadStartedEvent","attachThread","clearConsoleOnReload","nextWorkerId","workerId","attachWorker","sendThreadExitedEvent","attachSource","replaceActor","sendNewSourceEvent","skipThisSource","consoleEvent","outputEvent","showConsoleCallLocation","lineNumber","columnNumber","locationVar","argsAdapter","addLocation","errorMessage","originalSourceLocation","findOriginalSourceLocation","stoppedEvent","allThreadsStopped","exceptionGrip","findSourceAdapter","tryWithoutQueryString","sourceId","eventBody","FirefoxDebugAdapter","exceptionBreakpointFilters","startSession","parsedConfig","reAttach","reloadOnAttach","profileName","keepProfileChanges","parseProfileConfiguration","additionalPreferences","createFirefoxPreferences","fileUrl","rawManifest","stripJsonComments","findAddonId","sanitizedAddonPath","rewrittenAddonId","parseAddonConfiguration","webRoot","webRootUrl","parseWebRootConfiguration","skipFiles","parseSkipFilesConfiguration","reloadConfig","_config","parseReloadConfiguration","tabFilterConfig","parseTabFilterConfiguration","parseConfiguration","requestedBreakpoints","filters","getThreadAdapter","sourceGrip","mimeType","longStringActor","totalFrames","getStackframe","frameId","fetchVariables","setterExpression","expression","targets","provider","encodeDataId","accessTypes","toggleSkipping","enabled"],"mappings":"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","file":"adapter.bundle.js","sourcesContent":["const Utils = require(\"./util\");\r\nconst pth = require(\"path\");\r\nconst ZipEntry = require(\"./zipEntry\");\r\nconst ZipFile = require(\"./zipFile\");\r\n\r\nconst fs = Utils.FileSystem.require();\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nconst defaultOptions = {\r\n    // read entries during load (initial loading may be slower)\r\n    readEntries: false,\r\n    // default method is none\r\n    method: Utils.Constants.NONE\r\n}\r\n\r\nfunction canonical(p) {\r\n    // trick normalize think path is absolute\r\n    var safeSuffix = pth.posix.normalize(\"/\" + p.split(\"\\\\\").join(\"/\"));\r\n    return pth.join(\".\", safeSuffix);\r\n}\r\n\r\nmodule.exports = function (/**String*/input, /** object */options) {\r\n    let inBuffer = null;\r\n\r\n    // create object based default options, allowing them to be overwritten\r\n    const opts = Object.assign(Object.create( null ), defaultOptions);\r\n\r\n    // test input variable\r\n    if (input && \"object\" === typeof input){\r\n        // if value is not buffer we accept it to be object with options\r\n        if (!(input instanceof Uint8Array)){\r\n            Object.assign(opts, input);\r\n            input = opts.input ? opts.input : undefined;\r\n            if (opts.input) delete opts.input;\r\n        }\r\n\r\n        // if input is buffer\r\n        if (input instanceof Uint8Array){\r\n            inBuffer = input;\r\n            opts.method = Utils.Constants.BUFFER;\r\n            input = undefined;\r\n        }\r\n    }\r\n\r\n    // assign options\r\n    Object.assign(opts, options);\r\n\r\n    // if input is file name we retrieve its content\r\n    if (input && \"string\" === typeof input) {\r\n        // load zip file\r\n        if (fs.existsSync(input)) {\r\n            opts.method = Utils.Constants.FILE;\r\n            opts.filename = input;\r\n            inBuffer = fs.readFileSync(input);\r\n        } else {\r\n            throw new Error(Utils.Errors.INVALID_FILENAME);\r\n        }\r\n    }\r\n\r\n    // create variable\r\n    const _zip = new ZipFile(inBuffer, opts);\r\n\r\n    function sanitize(prefix, name) {\r\n        prefix = pth.resolve(pth.normalize(prefix));\r\n        var parts = name.split('/');\r\n        for (var i = 0, l = parts.length; i < l; i++) {\r\n            var path = pth.normalize(pth.join(prefix, parts.slice(i, l).join(pth.sep)));\r\n            if (path.indexOf(prefix) === 0) {\r\n                return path;\r\n            }\r\n        }\r\n        return pth.normalize(pth.join(prefix, pth.basename(name)));\r\n    }\r\n\r\n\tfunction getEntry(/**Object*/entry) {\r\n\t\tif (entry && _zip) {\r\n\t\t\tvar item;\r\n\t\t\t// If entry was given as a file name\r\n\t\t\tif (typeof entry === \"string\")\r\n\t\t\t\titem = _zip.getEntry(entry);\r\n\t\t\t// if entry was given as a ZipEntry object\r\n\t\t\tif (typeof entry === \"object\" && typeof entry.entryName !== \"undefined\" && typeof entry.header !== \"undefined\")\r\n\t\t\t\titem = _zip.getEntry(entry.entryName);\r\n\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n    function fixPath(zipPath){\r\n        const { join, normalize, sep } = pth.posix;\r\n        // convert windows file separators and normalize\r\n        return join(\".\", normalize(sep + zipPath.split(\"\\\\\").join(sep) + sep));\r\n    }\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Extracts the given entry from the archive and returns the content as a Buffer object\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t *\r\n\t\t * @return Buffer or Null in case of error\r\n\t\t */\r\n\t\treadFile: function (/**Object*/entry, /*String, Buffer*/pass) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\treturn item && item.getData(pass) || null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous readFile\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param callback\r\n\t\t *\r\n\t\t * @return Buffer or Null in case of error\r\n\t\t */\r\n\t\treadFileAsync: function (/**Object*/entry, /**Function*/callback) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.getDataAsync(callback);\r\n\t\t\t} else {\r\n\t\t\t\tcallback(null, \"getEntry failed for:\" + entry)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the given entry from the archive and returns the content as plain text in the given encoding\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param encoding Optional. If no encoding is specified utf8 is used\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\treadAsText: function (/**Object*/entry, /**String=*/encoding) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\tvar data = item.getData();\r\n\t\t\t\tif (data && data.length) {\r\n\t\t\t\t\treturn data.toString(encoding || \"utf8\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous readAsText\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param callback\r\n\t\t * @param encoding Optional. If no encoding is specified utf8 is used\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\treadAsTextAsync: function (/**Object*/entry, /**Function*/callback, /**String=*/encoding) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.getDataAsync(function (data, err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tcallback(data, err);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data && data.length) {\r\n\t\t\t\t\t\tcallback(data.toString(encoding || \"utf8\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback(\"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tcallback(\"\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove the entry from the file or the entry and all it's nested directories and files if the given entry is a directory\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t */\r\n\t\tdeleteFile: function (/**Object*/entry) { // @TODO: test deleteFile\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\t_zip.deleteEntry(item.entryName);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a comment to the zip. The zip must be rewritten after adding the comment.\r\n\t\t *\r\n\t\t * @param comment\r\n\t\t */\r\n\t\taddZipComment: function (/**String*/comment) { // @TODO: test addZipComment\r\n\t\t\t_zip.comment = comment;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the zip comment\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\tgetZipComment: function () {\r\n\t\t\treturn _zip.comment || '';\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a comment to a specified zipEntry. The zip must be rewritten after adding the comment\r\n\t\t * The comment cannot exceed 65535 characters in length\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @param comment\r\n\t\t */\r\n\t\taddZipEntryComment: function (/**Object*/entry, /**String*/comment) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.comment = comment;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the comment of the specified entry\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @return String\r\n\t\t */\r\n\t\tgetZipEntryComment: function (/**Object*/entry) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.comment || '';\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Updates the content of an existing entry inside the archive. The zip must be rewritten after updating the content\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @param content\r\n\t\t */\r\n\t\tupdateFile: function (/**Object*/entry, /**Buffer*/content) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.setData(content);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a file from the disk to the archive\r\n\t\t *\r\n\t\t * @param localPath File to add to zip\r\n\t\t * @param zipPath Optional path inside the zip\r\n\t\t * @param zipName Optional name for the file\r\n\t\t */\r\n\t\taddLocalFile: function (/**String*/localPath, /**String=*/zipPath, /**String=*/zipName, /**String*/comment) {\r\n\t\t\tif (fs.existsSync(localPath)) {\r\n\t\t\t\t// fix ZipPath\r\n\t\t\t\tzipPath = (zipPath) ? fixPath(zipPath) : \"\";\r\n\r\n\t\t\t\t// p - local file name\r\n\t\t\t\tvar p = localPath.split(\"\\\\\").join(\"/\").split(\"/\").pop();\r\n\r\n\t\t\t\t// add file name into zippath\r\n\t\t\t\tzipPath += (zipName) ? zipName : p;\r\n\r\n\t\t\t\t// read file attributes\r\n\t\t\t\tconst _attr = fs.statSync(localPath);\r\n\r\n\t\t\t\t// add file into zip file\r\n\t\t\t\tthis.addFile(zipPath, fs.readFileSync(localPath), comment, _attr)\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a local directory and all its nested files and directories to the archive\r\n\t\t *\r\n\t\t * @param localPath\r\n\t\t * @param zipPath optional path inside zip\r\n\t\t * @param filter optional RegExp or Function if files match will\r\n\t\t *               be included.\r\n\t\t */\r\n        addLocalFolder: function (/**String*/localPath, /**String=*/zipPath, /**=RegExp|Function*/filter) {\r\n            // Prepare filter\r\n            if (filter instanceof RegExp) {                 // if filter is RegExp wrap it\r\n                filter = (function (rx){\r\n                    return function (filename) {\r\n                        return rx.test(filename);\r\n                    }\r\n                })(filter);\r\n            } else if ('function' !== typeof filter) {       // if filter is not function we will replace it\r\n                filter = function () {\r\n                    return true;\r\n                };\r\n            }\r\n\r\n            // fix ZipPath\r\n            zipPath = (zipPath) ? fixPath(zipPath) : \"\";\r\n\r\n            // normalize the path first\r\n            localPath = pth.normalize(localPath);\r\n\r\n            if (fs.existsSync(localPath)) {\r\n\r\n                var items = Utils.findFiles(localPath),\r\n                    self = this;\r\n\r\n                if (items.length) {\r\n                    items.forEach(function (filepath) {\r\n                        var p = pth.relative(localPath, filepath).split(\"\\\\\").join(\"/\"); //windows fix\r\n                        if (filter(p)) {\r\n                            var stats = fs.statSync(filepath);\r\n                            if (stats.isFile()) {\r\n                                self.addFile(zipPath + p, fs.readFileSync(filepath), \"\", stats);\r\n                            } else {\r\n                                self.addFile(zipPath + p + '/', Buffer.alloc(0), \"\", stats);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                throw new Error(Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath));\r\n            }\r\n        },\r\n\r\n\t\t/**\r\n\t\t * Asynchronous addLocalFile\r\n\t\t * @param localPath\r\n\t\t * @param callback\r\n\t\t * @param zipPath optional path inside zip\r\n\t\t * @param filter optional RegExp or Function if files match will\r\n\t\t *               be included.\r\n\t\t */\r\n        addLocalFolderAsync: function (/*String*/localPath, /*Function*/callback, /*String*/zipPath, /*RegExp|Function*/filter) {\r\n            if (filter instanceof RegExp) {\r\n                filter = (function (rx) {\r\n                    return function (filename) {\r\n                        return rx.test(filename);\r\n                    };\r\n                })(filter);\r\n            } else if (\"function\" !== typeof filter) {\r\n                filter = function () {\r\n                    return true;\r\n                };\r\n            }\r\n\r\n            // fix ZipPath\r\n            zipPath = zipPath ? fixPath(zipPath) : \"\";\r\n\r\n            // normalize the path first\r\n            localPath = pth.normalize(localPath);\r\n\r\n            var self = this;\r\n            fs.open(localPath, 'r', function (err) {\r\n                if (err && err.code === 'ENOENT') {\r\n                    callback(undefined, Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath));\r\n                } else if (err) {\r\n                    callback(undefined, err);\r\n                } else {\r\n                    var items = Utils.findFiles(localPath);\r\n                    var i = -1;\r\n\r\n                    var next = function () {\r\n                        i += 1;\r\n                        if (i < items.length) {\r\n                            var filepath = items[i];\r\n                            var p = pth.relative(localPath, filepath).split(\"\\\\\").join(\"/\"); //windows fix\r\n                            p = p.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').replace(/[^\\x20-\\x7E]/g, '') // accent fix\r\n                            if (filter(p)) {\r\n                                fs.stat(filepath, function (er0, stats) {\r\n                                    if (er0) callback(undefined, er0);\r\n                                    if (stats.isFile()) {\r\n                                        fs.readFile(filepath, function (er1, data) {\r\n                                            if (er1) {\r\n                                                callback(undefined, er1);\r\n                                            } else {\r\n                                                self.addFile(zipPath + p, data, \"\", stats);\r\n                                                next();\r\n                                            }\r\n                                        });\r\n                                    } else {\r\n                                        self.addFile(zipPath + p + \"/\", Buffer.alloc(0), \"\", stats);\r\n                                        next();\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                next();\r\n                            }\r\n\r\n                        } else {\r\n                            callback(true, undefined);\r\n                        }\r\n                    }\r\n\r\n                    next();\r\n                }\r\n            });\r\n        },\r\n\r\n        addLocalFolderPromise: function (/*String*/ localPath, /* object */ options) {\r\n            return new Promise((resolve, reject) => {\r\n                const { filter, zipPath } = Object.assign({}, options);\r\n                this.addLocalFolderAsync(localPath,\r\n                    (done, err) => {\r\n                        if (err) reject(err);\r\n                        if (done) resolve(this);\r\n                    }, zipPath, filter\r\n                );\r\n            });\r\n        },\r\n\r\n\t\t/**\r\n\t\t * Allows you to create a entry (file or directory) in the zip file.\r\n\t\t * If you want to create a directory the entryName must end in / and a null buffer should be provided.\r\n\t\t * Comment and attributes are optional\r\n\t\t *\r\n\t\t * @param {string} entryName\r\n\t\t * @param {Buffer | string} content - file content as buffer or utf8 coded string\r\n\t\t * @param {string} comment - file comment\r\n\t\t * @param {number | object} attr - number as unix file permissions, object as filesystem Stats object\r\n\t\t */\r\n\t\taddFile: function (/**String*/entryName, /**Buffer*/content, /**String*/comment, /**Number*/attr) {\r\n\t\t\t// prepare new entry\r\n\t\t\tvar entry = new ZipEntry();\r\n\t\t\tentry.entryName = entryName;\r\n\t\t\tentry.comment = comment || \"\";\r\n\r\n\t\t\tvar isStat = ('object' === typeof attr) && (attr instanceof fs.Stats);\r\n\r\n\t\t\t// last modification time from file stats\r\n\t\t\tif (isStat){\r\n\t\t\t\tentry.header.time = attr.mtime;\r\n\t\t\t}\r\n\r\n\t\t\t// Set file attribute\r\n\t\t\tvar fileattr = (entry.isDirectory) ? 0x10 : 0;  // (MS-DOS directory flag)\r\n\r\n\t\t\t// extended attributes field for Unix\r\n\t\t\tif('win32' !== process.platform){\r\n\t\t\t\t// set file type either S_IFDIR / S_IFREG\r\n\t\t\t\tvar unix = (entry.isDirectory) ? 0x4000 : 0x8000;\r\n\r\n\t\t\t\tif (isStat) { \t\t\t\t\t\t\t\t\t\t// File attributes from file stats\r\n\t\t\t\t\tunix |= (0xfff & attr.mode);\r\n\t\t\t\t}else if ('number' === typeof attr){ \t\t\t\t// attr from given attr values\r\n\t\t\t\t\tunix |= (0xfff & attr);\r\n\t\t\t\t}else{\t\t\t\t\t\t\t\t\t\t\t\t// Default values:\r\n\t\t\t\t\tunix |= (entry.isDirectory) ? 0o755 : 0o644;  \t// permissions (drwxr-xr-x) or (-r-wr--r--)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfileattr = (fileattr | (unix << 16)) >>> 0;\t\t\t// add attributes\r\n\t\t\t}\r\n\r\n\t\t\tentry.attr = fileattr;\r\n\r\n\t\t\tentry.setData(content);\r\n\t\t\t_zip.setEntry(entry);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns an array of ZipEntry objects representing the files and folders inside the archive\r\n\t\t *\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tgetEntries: function () {\r\n\t\t\tif (_zip) {\r\n\t\t\t\treturn _zip.entries;\r\n\t\t\t} else {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a ZipEntry object representing the file or folder specified by ``name``.\r\n\t\t *\r\n\t\t * @param name\r\n\t\t * @return ZipEntry\r\n\t\t */\r\n\t\tgetEntry: function (/**String*/name) {\r\n\t\t\treturn getEntry(name);\r\n\t\t},\r\n\r\n\t\tgetEntryCount: function() {\r\n\t\t\treturn _zip.getEntryCount();\r\n\t\t},\r\n\r\n\t\tforEach: function(callback) {\r\n\t\t\treturn _zip.forEach(callback);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the given entry to the given targetPath\r\n\t\t * If the entry is a directory inside the archive, the entire directory and it's subdirectories will be extracted\r\n\t\t *\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param targetPath Target folder where to write the file\r\n\t\t * @param maintainEntryPath If maintainEntryPath is true and the entry is inside a folder, the entry folder\r\n\t\t *                          will be created in targetPath as well. Default is TRUE\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n         * @param outFileName String If set will override the filename of the extracted file (Only works if the entry is a file)\r\n\t\t *\r\n\t\t * @return Boolean\r\n\t\t */\r\n\t\textractEntryTo: function (/**Object*/entry, /**String*/targetPath, /**Boolean*/maintainEntryPath, /**Boolean*/overwrite, /**String**/outFileName) {\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tmaintainEntryPath = typeof maintainEntryPath === \"undefined\" ? true : maintainEntryPath;\r\n\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (!item) {\r\n\t\t\t\tthrow new Error(Utils.Errors.NO_ENTRY);\r\n\t\t\t}\r\n\r\n\t\t\tvar entryName = canonical(item.entryName);\r\n\r\n\t\t\tvar target = sanitize(targetPath,outFileName && !item.isDirectory ? outFileName : (maintainEntryPath ? entryName : pth.basename(entryName)));\r\n\r\n\t\t\tif (item.isDirectory) {\r\n\t\t\t\ttarget = pth.resolve(target, \"..\");\r\n\t\t\t\tvar children = _zip.getEntryChildren(item);\r\n\t\t\t\tchildren.forEach(function (child) {\r\n\t\t\t\t\tif (child.isDirectory) return;\r\n\t\t\t\t\tvar content = child.getData();\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\tthrow new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar name = canonical(child.entryName)\r\n\t\t\t\t\tvar childName = sanitize(targetPath, maintainEntryPath ? name : pth.basename(name));\r\n\t\t\t\t\t// The reverse operation for attr depend on method addFile()\r\n\t\t\t\t\tvar fileAttr = child.attr ? (((child.attr >>> 0) | 0) >> 16) & 0xfff : 0;\r\n\t\t\t\t\tUtils.writeFileTo(childName, content, overwrite, fileAttr);\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tvar content = item.getData();\r\n\t\t\tif (!content) throw new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\r\n\t\t\tif (fs.existsSync(target) && !overwrite) {\r\n\t\t\t\tthrow new Error(Utils.Errors.CANT_OVERRIDE);\r\n\t\t\t}\r\n\t\t\t// The reverse operation for attr depend on method addFile()\r\n\t\t\tvar fileAttr = item.attr ? (((item.attr >>> 0) | 0) >> 16) & 0xfff : 0;\r\n\t\t\tUtils.writeFileTo(target, content, overwrite, fileAttr);\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Test the archive\r\n\t\t *\r\n\t\t */\r\n\t\ttest: function (pass) {\r\n\t\t\tif (!_zip) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var entry in _zip.entries) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar content = _zip.entries[entry].getData(pass);\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the entire archive to the given location\r\n\t\t *\r\n\t\t * @param targetPath Target location\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t */\r\n\t\textractAllTo: function (/**String*/targetPath, /**Boolean*/overwrite, /*String, Buffer*/pass) {\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tif (!_zip) {\r\n\t\t\t\tthrow new Error(Utils.Errors.NO_ZIP);\r\n\t\t\t}\r\n\t\t\t_zip.entries.forEach(function (entry) {\r\n\t\t\t\tvar entryName = sanitize(targetPath, canonical(entry.entryName.toString()));\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tUtils.makeDir(entryName);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar content = entry.getData(pass);\r\n\t\t\t\tif (!content) {\r\n\t\t\t\t\tthrow new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\t\t\t\t}\r\n\t\t\t\t// The reverse operation for attr depend on method addFile()\r\n\t\t\t\tvar fileAttr = entry.attr ? (((entry.attr >>> 0) | 0) >> 16) & 0xfff : 0;\r\n\t\t\t\tUtils.writeFileTo(entryName, content, overwrite, fileAttr);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfs.utimesSync(entryName, entry.header.time, entry.header.time)\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous extractAllTo\r\n\t\t *\r\n\t\t * @param targetPath Target location\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t * @param callback\r\n\t\t */\r\n\t\textractAllToAsync: function (/**String*/targetPath, /**Boolean*/overwrite, /**Function*/callback) {\r\n\t\t\tif (!callback) {\r\n\t\t\t\tcallback = function() {}\r\n\t\t\t}\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tif (!_zip) {\r\n\t\t\t\tcallback(new Error(Utils.Errors.NO_ZIP));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar entries = _zip.entries;\r\n\t\t\tvar i = entries.length;\r\n\t\t\tentries.forEach(function (entry) {\r\n\t\t\t\tif (i <= 0) return; // Had an error already\r\n\r\n\t\t\t\tvar entryName = pth.normalize(canonical(entry.entryName.toString()));\r\n\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tUtils.makeDir(sanitize(targetPath, entryName));\r\n\t\t\t\t\tif (--i === 0)\r\n\t\t\t\t\t\tcallback(undefined);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tentry.getDataAsync(function (content, err) {\r\n\t\t\t\t\tif (i <= 0) return;\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tcallback(new Error(err));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\tcallback(new Error(Utils.Errors.CANT_EXTRACT_FILE));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// The reverse operation for attr depend on method addFile()\r\n\t\t\t\t\tvar fileAttr = entry.attr ? (((entry.attr >>> 0) | 0) >> 16) & 0xfff : 0;\r\n\t\t\t\t\tUtils.writeFileToAsync(sanitize(targetPath, entryName), content, overwrite, fileAttr, function (succ) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tfs.utimesSync(pth.resolve(targetPath, entryName), entry.header.time, entry.header.time);\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tcallback(new Error('Unable to set utimes'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (i <= 0) return;\r\n\t\t\t\t\t\tif (!succ) {\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t\tcallback(new Error('Unable to write'));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (--i === 0)\r\n\t\t\t\t\t\t\tcallback(undefined);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Writes the newly created zip file to disk at the specified location or if a zip was opened and no ``targetFileName`` is provided, it will overwrite the opened zip\r\n\t\t *\r\n\t\t * @param targetFileName\r\n\t\t * @param callback\r\n\t\t */\r\n\t\twriteZip: function (/**String*/targetFileName, /**Function*/callback) {\r\n\t\t\tif (arguments.length === 1) {\r\n\t\t\t\tif (typeof targetFileName === \"function\") {\r\n\t\t\t\t\tcallback = targetFileName;\r\n\t\t\t\t\ttargetFileName = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!targetFileName && opts.filename) {\r\n\t\t\t\ttargetFileName = opts.filename;\r\n\t\t\t}\r\n\t\t\tif (!targetFileName) return;\r\n\r\n\t\t\tvar zipData = _zip.compressToBuffer();\r\n\t\t\tif (zipData) {\r\n\t\t\t\tvar ok = Utils.writeFileTo(targetFileName, zipData, true);\r\n\t\t\t\tif (typeof callback === 'function') callback(!ok ? new Error(\"failed\") : null, \"\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n        writeZipPromise: function (/**String*/ targetFileName, /* object */ options) {\r\n            const { overwrite, perm } = Object.assign({ overwrite: true }, options);\r\n\r\n            return new Promise((resolve, reject) => {\r\n                // find file name\r\n                if (!targetFileName && opts.filename) targetFileName = opts.filename;\r\n                if (!targetFileName) reject(\"ADM-ZIP: ZIP File Name Missing\");\r\n\r\n                this.toBufferPromise().then((zipData) => {\r\n                    const ret = (done) => (done ? resolve(done) : reject(\"ADM-ZIP: Wasn't able to write zip file\"));\r\n                    Utils.writeFileToAsync(targetFileName, zipData, overwrite, perm, ret);\r\n                }, reject);\r\n            });\r\n        },\r\n\r\n        toBufferPromise: function () {\r\n            return new Promise((resolve, reject) => {\r\n                _zip.toAsyncBuffer(resolve, reject);\r\n            });\r\n        },\r\n\r\n\t\t/**\r\n\t\t * Returns the content of the entire zip file as a Buffer object\r\n\t\t *\r\n\t\t * @return Buffer\r\n\t\t */\r\n\t\ttoBuffer: function (/**Function=*/onSuccess, /**Function=*/onFail, /**Function=*/onItemStart, /**Function=*/onItemEnd) {\r\n\t\t\tthis.valueOf = 2;\r\n\t\t\tif (typeof onSuccess === \"function\") {\r\n\t\t\t\t_zip.toAsyncBuffer(onSuccess, onFail, onItemStart, onItemEnd);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn _zip.compressToBuffer()\r\n\t\t}\r\n\t}\r\n};\r\n","var Utils = require(\"../util\"),\r\n    Constants = Utils.Constants;\r\n\r\n/* The central directory file header */\r\nmodule.exports = function () {\r\n    var _verMade = 0x14,\r\n        _version = 0x0A,\r\n        _flags = 0,\r\n        _method = 0,\r\n        _time = 0,\r\n        _crc = 0,\r\n        _compressedSize = 0,\r\n        _size = 0,\r\n        _fnameLen = 0,\r\n        _extraLen = 0,\r\n\r\n        _comLen = 0,\r\n        _diskStart = 0,\r\n        _inattr = 0,\r\n        _attr = 0,\r\n        _offset = 0;\r\n\r\n    switch(process.platform){\r\n        case 'win32':\r\n            _verMade |= 0x0A00;\r\n        default:\r\n            _verMade |= 0x0300;\r\n    }\r\n\r\n    var _dataHeader = {};\r\n\r\n    function setTime(val) {\r\n        val = new Date(val);\r\n        _time = (val.getFullYear() - 1980 & 0x7f) << 25  // b09-16 years from 1980\r\n            | (val.getMonth() + 1) << 21                 // b05-08 month\r\n            | val.getDate() << 16                        // b00-04 hour\r\n\r\n            // 2 bytes time\r\n            | val.getHours() << 11    // b11-15 hour\r\n            | val.getMinutes() << 5   // b05-10 minute\r\n            | val.getSeconds() >> 1;  // b00-04 seconds divided by 2\r\n    }\r\n\r\n    setTime(+new Date());\r\n\r\n    return {\r\n        get made () { return _verMade; },\r\n        set made (val) { _verMade = val; },\r\n\r\n        get version () { return _version; },\r\n        set version (val) { _version = val },\r\n\r\n        get flags () { return _flags },\r\n        set flags (val) { _flags = val; },\r\n\r\n        get method () { return _method; },\r\n        set method (val) {\r\n            switch (val){\r\n                case Constants.STORED:\r\n                    this.version = 10;\r\n                case Constants.DEFLATED:\r\n                default:\r\n                    this.version = 20;\r\n            }\r\n            _method = val;\r\n            },\r\n\r\n        get time () { return new Date(\r\n            ((_time >> 25) & 0x7f) + 1980,\r\n            ((_time >> 21) & 0x0f) - 1,\r\n            (_time >> 16) & 0x1f,\r\n            (_time >> 11) & 0x1f,\r\n            (_time >> 5) & 0x3f,\r\n            (_time & 0x1f) << 1\r\n        );\r\n        },\r\n        set time (val) {\r\n            setTime(val);\r\n        },\r\n\r\n        get crc () { return _crc; },\r\n        set crc (val) { _crc = val; },\r\n\r\n        get compressedSize () { return _compressedSize; },\r\n        set compressedSize (val) { _compressedSize = val; },\r\n\r\n        get size () { return _size; },\r\n        set size (val) { _size = val; },\r\n\r\n        get fileNameLength () { return _fnameLen; },\r\n        set fileNameLength (val) { _fnameLen = val; },\r\n\r\n        get extraLength () { return _extraLen },\r\n        set extraLength (val) { _extraLen = val; },\r\n\r\n        get commentLength () { return _comLen },\r\n        set commentLength (val) { _comLen = val },\r\n\r\n        get diskNumStart () { return _diskStart },\r\n        set diskNumStart (val) { _diskStart = val },\r\n\r\n        get inAttr () { return _inattr },\r\n        set inAttr (val) { _inattr = val },\r\n\r\n        get attr () { return _attr },\r\n        set attr (val) { _attr = val },\r\n\r\n        get offset () { return _offset },\r\n        set offset (val) { _offset = val },\r\n\r\n        get encripted () { return (_flags & 1) === 1 },\r\n\r\n        get entryHeaderSize () {\r\n            return Constants.CENHDR + _fnameLen + _extraLen + _comLen;\r\n        },\r\n\r\n        get realDataOffset () {\r\n            return _offset + Constants.LOCHDR + _dataHeader.fnameLen + _dataHeader.extraLen;\r\n        },\r\n\r\n        get dataHeader () {\r\n            return _dataHeader;\r\n        },\r\n\r\n        loadDataHeaderFromBinary : function(/*Buffer*/input) {\r\n            var data = input.slice(_offset, _offset + Constants.LOCHDR);\r\n            // 30 bytes and should start with \"PK\\003\\004\"\r\n            if (data.readUInt32LE(0) !== Constants.LOCSIG) {\r\n                throw new Error(Utils.Errors.INVALID_LOC);\r\n            }\r\n            _dataHeader = {\r\n                // version needed to extract\r\n                version : data.readUInt16LE(Constants.LOCVER),\r\n                // general purpose bit flag\r\n                flags : data.readUInt16LE(Constants.LOCFLG),\r\n                // compression method\r\n                method : data.readUInt16LE(Constants.LOCHOW),\r\n                // modification time (2 bytes time, 2 bytes date)\r\n                time : data.readUInt32LE(Constants.LOCTIM),\r\n                // uncompressed file crc-32 value\r\n                crc : data.readUInt32LE(Constants.LOCCRC),\r\n                // compressed size\r\n                compressedSize : data.readUInt32LE(Constants.LOCSIZ),\r\n                // uncompressed size\r\n                size : data.readUInt32LE(Constants.LOCLEN),\r\n                // filename length\r\n                fnameLen : data.readUInt16LE(Constants.LOCNAM),\r\n                // extra field length\r\n                extraLen : data.readUInt16LE(Constants.LOCEXT)\r\n            }\r\n        },\r\n\r\n        loadFromBinary : function(/*Buffer*/data) {\r\n            // data should be 46 bytes and start with \"PK 01 02\"\r\n            if (data.length !== Constants.CENHDR || data.readUInt32LE(0) !== Constants.CENSIG) {\r\n                throw new Error(Utils.Errors.INVALID_CEN);\r\n            }\r\n            // version made by\r\n            _verMade = data.readUInt16LE(Constants.CENVEM);\r\n            // version needed to extract\r\n            _version = data.readUInt16LE(Constants.CENVER);\r\n            // encrypt, decrypt flags\r\n            _flags = data.readUInt16LE(Constants.CENFLG);\r\n            // compression method\r\n            _method = data.readUInt16LE(Constants.CENHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            _time = data.readUInt32LE(Constants.CENTIM);\r\n            // uncompressed file crc-32 value\r\n            _crc = data.readUInt32LE(Constants.CENCRC);\r\n            // compressed size\r\n            _compressedSize = data.readUInt32LE(Constants.CENSIZ);\r\n            // uncompressed size\r\n            _size = data.readUInt32LE(Constants.CENLEN);\r\n            // filename length\r\n            _fnameLen = data.readUInt16LE(Constants.CENNAM);\r\n            // extra field length\r\n            _extraLen = data.readUInt16LE(Constants.CENEXT);\r\n            // file comment length\r\n            _comLen = data.readUInt16LE(Constants.CENCOM);\r\n            // volume number start\r\n            _diskStart = data.readUInt16LE(Constants.CENDSK);\r\n            // internal file attributes\r\n            _inattr = data.readUInt16LE(Constants.CENATT);\r\n            // external file attributes\r\n            _attr = data.readUInt32LE(Constants.CENATX);\r\n            // LOC header offset\r\n            _offset = data.readUInt32LE(Constants.CENOFF);\r\n        },\r\n\r\n        dataHeaderToBinary : function() {\r\n            // LOC header size (30 bytes)\r\n            var data = Buffer.alloc(Constants.LOCHDR);\r\n            // \"PK\\003\\004\"\r\n            data.writeUInt32LE(Constants.LOCSIG, 0);\r\n            // version needed to extract\r\n            data.writeUInt16LE(_version, Constants.LOCVER);\r\n            // general purpose bit flag\r\n            data.writeUInt16LE(_flags, Constants.LOCFLG);\r\n            // compression method\r\n            data.writeUInt16LE(_method, Constants.LOCHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            data.writeUInt32LE(_time, Constants.LOCTIM);\r\n            // uncompressed file crc-32 value\r\n            data.writeUInt32LE(_crc, Constants.LOCCRC);\r\n            // compressed size\r\n            data.writeUInt32LE(_compressedSize, Constants.LOCSIZ);\r\n            // uncompressed size\r\n            data.writeUInt32LE(_size, Constants.LOCLEN);\r\n            // filename length\r\n            data.writeUInt16LE(_fnameLen, Constants.LOCNAM);\r\n            // extra field length\r\n            data.writeUInt16LE(_extraLen, Constants.LOCEXT);\r\n            return data;\r\n        },\r\n\r\n        entryHeaderToBinary : function() {\r\n            // CEN header size (46 bytes)\r\n            var data = Buffer.alloc(Constants.CENHDR + _fnameLen + _extraLen + _comLen);\r\n            // \"PK\\001\\002\"\r\n            data.writeUInt32LE(Constants.CENSIG, 0);\r\n            // version made by\r\n            data.writeUInt16LE(_verMade, Constants.CENVEM);\r\n            // version needed to extract\r\n            data.writeUInt16LE(_version, Constants.CENVER);\r\n            // encrypt, decrypt flags\r\n            data.writeUInt16LE(_flags, Constants.CENFLG);\r\n            // compression method\r\n            data.writeUInt16LE(_method, Constants.CENHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            data.writeUInt32LE(_time, Constants.CENTIM);\r\n            // uncompressed file crc-32 value\r\n            data.writeUInt32LE(_crc, Constants.CENCRC);\r\n            // compressed size\r\n            data.writeUInt32LE(_compressedSize, Constants.CENSIZ);\r\n            // uncompressed size\r\n            data.writeUInt32LE(_size, Constants.CENLEN);\r\n            // filename length\r\n            data.writeUInt16LE(_fnameLen, Constants.CENNAM);\r\n            // extra field length\r\n            data.writeUInt16LE(_extraLen, Constants.CENEXT);\r\n            // file comment length\r\n            data.writeUInt16LE(_comLen, Constants.CENCOM);\r\n            // volume number start\r\n            data.writeUInt16LE(_diskStart, Constants.CENDSK);\r\n            // internal file attributes\r\n            data.writeUInt16LE(_inattr, Constants.CENATT);\r\n            // external file attributes\r\n            data.writeUInt32LE(_attr, Constants.CENATX);\r\n            // LOC header offset\r\n            data.writeUInt32LE(_offset, Constants.CENOFF);\r\n            // fill all with\r\n            data.fill(0x00, Constants.CENHDR);\r\n            return data;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"made\" : ' + _verMade + \",\\n\" +\r\n                '\\t\"version\" : ' + _version + \",\\n\" +\r\n                '\\t\"flags\" : ' + _flags + \",\\n\" +\r\n                '\\t\"method\" : ' + Utils.methodToString(_method) + \",\\n\" +\r\n                '\\t\"time\" : ' + this.time + \",\\n\" +\r\n                '\\t\"crc\" : 0x' + _crc.toString(16).toUpperCase() + \",\\n\" +\r\n                '\\t\"compressedSize\" : ' + _compressedSize + \" bytes,\\n\" +\r\n                '\\t\"size\" : ' + _size + \" bytes,\\n\" +\r\n                '\\t\"fileNameLength\" : ' + _fnameLen + \",\\n\" +\r\n                '\\t\"extraLength\" : ' + _extraLen + \" bytes,\\n\" +\r\n                '\\t\"commentLength\" : ' + _comLen + \" bytes,\\n\" +\r\n                '\\t\"diskNumStart\" : ' + _diskStart + \",\\n\" +\r\n                '\\t\"inAttr\" : ' + _inattr + \",\\n\" +\r\n                '\\t\"attr\" : ' + _attr + \",\\n\" +\r\n                '\\t\"offset\" : ' + _offset + \",\\n\" +\r\n                '\\t\"entryHeaderSize\" : ' + (Constants.CENHDR + _fnameLen + _extraLen + _comLen) + \" bytes\\n\" +\r\n                '}';\r\n        }\r\n    }\r\n};\r\n","exports.EntryHeader = require(\"./entryHeader\");\r\nexports.MainHeader = require(\"./mainHeader\");\r\n","var Utils = require(\"../util\"),\r\n    Constants = Utils.Constants;\r\n\r\n/* The entries in the end of central directory */\r\nmodule.exports = function () {\r\n    var _volumeEntries = 0,\r\n        _totalEntries = 0,\r\n        _size = 0,\r\n        _offset = 0,\r\n        _commentLength = 0;\r\n\r\n    return {\r\n        get diskEntries () { return _volumeEntries },\r\n        set diskEntries (/*Number*/val) { _volumeEntries = _totalEntries = val; },\r\n\r\n        get totalEntries () { return _totalEntries },\r\n        set totalEntries (/*Number*/val) { _totalEntries = _volumeEntries = val; },\r\n\r\n        get size () { return _size },\r\n        set size (/*Number*/val) { _size = val; },\r\n\r\n        get offset () { return _offset },\r\n        set offset (/*Number*/val) { _offset = val; },\r\n\r\n        get commentLength () { return _commentLength },\r\n        set commentLength (/*Number*/val) { _commentLength = val; },\r\n\r\n        get mainHeaderSize () {\r\n            return Constants.ENDHDR + _commentLength;\r\n        },\r\n\r\n        loadFromBinary : function(/*Buffer*/data) {\r\n            // data should be 22 bytes and start with \"PK 05 06\"\r\n            // or be 56+ bytes and start with \"PK 06 06\" for Zip64\r\n            if ((data.length !== Constants.ENDHDR || data.readUInt32LE(0) !== Constants.ENDSIG) &&\r\n                (data.length < Constants.ZIP64HDR || data.readUInt32LE(0) !== Constants.ZIP64SIG)) {\r\n\r\n                throw new Error(Utils.Errors.INVALID_END);\r\n            }\r\n\r\n            if (data.readUInt32LE(0) === Constants.ENDSIG) {\r\n                // number of entries on this volume\r\n                _volumeEntries = data.readUInt16LE(Constants.ENDSUB);\r\n                // total number of entries\r\n                _totalEntries = data.readUInt16LE(Constants.ENDTOT);\r\n                // central directory size in bytes\r\n                _size = data.readUInt32LE(Constants.ENDSIZ);\r\n                // offset of first CEN header\r\n                _offset = data.readUInt32LE(Constants.ENDOFF);\r\n                // zip file comment length\r\n                _commentLength = data.readUInt16LE(Constants.ENDCOM);\r\n            } else {\r\n                // number of entries on this volume\r\n                _volumeEntries = Utils.readBigUInt64LE(data, Constants.ZIP64SUB);\r\n                // total number of entries\r\n                _totalEntries = Utils.readBigUInt64LE(data, Constants.ZIP64TOT);\r\n                // central directory size in bytes\r\n                _size = Utils.readBigUInt64LE(data, Constants.ZIP64SIZ);\r\n                // offset of first CEN header\r\n                _offset = Utils.readBigUInt64LE(data, Constants.ZIP64OFF);\r\n\r\n                _commentLength = 0;\r\n            }\r\n\r\n        },\r\n\r\n        toBinary : function() {\r\n           var b = Buffer.alloc(Constants.ENDHDR + _commentLength);\r\n            // \"PK 05 06\" signature\r\n            b.writeUInt32LE(Constants.ENDSIG, 0);\r\n            b.writeUInt32LE(0, 4);\r\n            // number of entries on this volume\r\n            b.writeUInt16LE(_volumeEntries, Constants.ENDSUB);\r\n            // total number of entries\r\n            b.writeUInt16LE(_totalEntries, Constants.ENDTOT);\r\n            // central directory size in bytes\r\n            b.writeUInt32LE(_size, Constants.ENDSIZ);\r\n            // offset of first CEN header\r\n            b.writeUInt32LE(_offset, Constants.ENDOFF);\r\n            // zip file comment length\r\n            b.writeUInt16LE(_commentLength, Constants.ENDCOM);\r\n            // fill comment memory with spaces so no garbage is left there\r\n            b.fill(\" \", Constants.ENDHDR);\r\n\r\n            return b;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"diskEntries\" : ' + _volumeEntries + \",\\n\" +\r\n                '\\t\"totalEntries\" : ' + _totalEntries + \",\\n\" +\r\n                '\\t\"size\" : ' + _size + \" bytes,\\n\" +\r\n                '\\t\"offset\" : 0x' + _offset.toString(16).toUpperCase() + \",\\n\" +\r\n                '\\t\"commentLength\" : 0x' + _commentLength + \"\\n\" +\r\n            '}';\r\n        }\r\n    }\r\n};","module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n  \r\n  var opts = {chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024};\r\n  \r\n  return {\r\n    deflate: function () {\r\n      return zlib.deflateRawSync(inbuf, opts);\r\n    },\r\n\r\n    deflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createDeflateRaw(opts), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n","exports.Deflater = require(\"./deflater\");\r\nexports.Inflater = require(\"./inflater\");\r\nexports.ZipCrypto = require(\"./zipcrypto\");","module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n\r\n  return {\r\n    inflate: function () {\r\n      return zlib.inflateRawSync(inbuf);\r\n    },\r\n\r\n    inflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createInflateRaw(), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n","// node crypt, we use it for generate salt\r\nconst { randomFillSync } = require(\"crypto\");\r\n\r\n\"use strict\";\r\n\r\n// generate CRC32 lookup table\r\nconst crctable = new Uint32Array(256).map((t, crc) => {\r\n    for (let j = 0; j < 8; j++) {\r\n        if (0 !== (crc & 1)) {\r\n            crc = (crc >>> 1) ^ 0xedb88320;\r\n        } else {\r\n            crc >>>= 1;\r\n        }\r\n    }\r\n    return crc >>> 0;\r\n});\r\n\r\n// C-style uInt32 Multiply (discards higher bits, when JS multiply discards lower bits)\r\nconst uMul = (a, b) => Math.imul(a, b) >>> 0;\r\n\r\n// crc32 byte single update (actually same function is part of utils.crc32 function :) )\r\nconst crc32update = (pCrc32, bval) => {\r\n    return crctable[(pCrc32 ^ bval) & 0xff] ^ (pCrc32 >>> 8);\r\n};\r\n\r\n// function for generating salt for encrytion header\r\nconst genSalt = () => {\r\n    if (\"function\" === typeof randomFillSync) {\r\n        return randomFillSync(Buffer.alloc(12));\r\n    } else {\r\n        // fallback if function is not defined\r\n        return genSalt.node();\r\n    }\r\n};\r\n\r\n// salt generation with node random function (mainly as fallback)\r\ngenSalt.node = () => {\r\n    const salt = Buffer.alloc(12);\r\n    const len = salt.length;\r\n    for (let i = 0; i < len; i++) salt[i] = (Math.random() * 256) & 0xff;\r\n    return salt;\r\n};\r\n\r\n// general config\r\nconst config = {\r\n    genSalt\r\n};\r\n\r\n// Class Initkeys handles same basic ops with keys\r\nfunction Initkeys(pw) {\r\n    const pass = Buffer.isBuffer(pw) ? pw : Buffer.from(pw);\r\n    this.keys = new Uint32Array([0x12345678, 0x23456789, 0x34567890]);\r\n    for (let i = 0; i < pass.length; i++) {\r\n        this.updateKeys(pass[i]);\r\n    }\r\n}\r\n\r\nInitkeys.prototype.updateKeys = function (byteValue) {\r\n    const keys = this.keys;\r\n    keys[0] = crc32update(keys[0], byteValue);\r\n    keys[1] += keys[0] & 0xff;\r\n    keys[1] = uMul(keys[1], 134775813) + 1;\r\n    keys[2] = crc32update(keys[2], keys[1] >>> 24);\r\n    return byteValue;\r\n};\r\n\r\nInitkeys.prototype.next = function () {\r\n    const k = (this.keys[2] | 2) >>> 0; // key\r\n    return (uMul(k, k ^ 1) >> 8) & 0xff; // decode\r\n};\r\n\r\nfunction make_decrypter(/*Buffer*/ pwd) {\r\n    // 1. Stage initialize key\r\n    const keys = new Initkeys(pwd);\r\n\r\n    // return decrypter function\r\n    return function (/*Buffer*/ data) {\r\n        // result - we create new Buffer for results\r\n        const result = Buffer.alloc(data.length);\r\n        let pos = 0;\r\n        // process input data\r\n        for (let c of data) {\r\n            //c ^= keys.next();\r\n            //result[pos++] = c; // decode & Save Value\r\n            result[pos++] = keys.updateKeys(c ^ keys.next()); // update keys with decoded byte\r\n        }\r\n        return result;\r\n    };\r\n}\r\n\r\nfunction make_encrypter(/*Buffer*/ pwd) {\r\n    // 1. Stage initialize key\r\n    const keys = new Initkeys(pwd);\r\n\r\n    // return encrypting function, result and pos is here so we dont have to merge buffers later\r\n    return function (/*Buffer*/ data, /*Buffer*/ result, /* Number */ pos = 0) {\r\n        // result - we create new Buffer for results\r\n        if (!result) result = Buffer.alloc(data.length);\r\n        // process input data\r\n        for (let c of data) {\r\n            const k = keys.next(); // save key byte\r\n            result[pos++] = c ^ k; // save val\r\n            keys.updateKeys(c); // update keys with decoded byte\r\n        }\r\n        return result;\r\n    };\r\n}\r\n\r\nfunction decrypt(/*Buffer*/ data, /*Object*/ header, /*String, Buffer*/ pwd) {\r\n    if (!data || !Buffer.isBuffer(data) || data.length < 12) {\r\n        return Buffer.alloc(0);\r\n    }\r\n\r\n    // 1. We Initialize and generate decrypting function\r\n    const decrypter = make_decrypter(pwd);\r\n\r\n    // 2. decrypt salt what is always 12 bytes and is a part of file content\r\n    const salt = decrypter(data.slice(0, 12));\r\n\r\n    // 3. does password meet expectations\r\n    if (salt[11] !== header.crc >>> 24) {\r\n        throw \"ADM-ZIP: Wrong Password\";\r\n    }\r\n\r\n    // 4. decode content\r\n    return decrypter(data.slice(12));\r\n}\r\n\r\n// lets add way to populate salt, NOT RECOMMENDED for production but maybe useful for testing general functionality\r\nfunction _salter(data) {\r\n    if (Buffer.isBuffer(data) && data.length >= 12) {\r\n        // be aware - currently salting buffer data is modified\r\n        config.genSalt = function () {\r\n            return data.slice(0, 12);\r\n        };\r\n    } else if (data === \"node\") {\r\n        // test salt generation with node random function\r\n        config.genSalt = genSalt.node;\r\n    } else {\r\n        // if value is not acceptable config gets reset.\r\n        config.genSalt = genSalt;\r\n    }\r\n}\r\n\r\nfunction encrypt(/*Buffer*/ data, /*Object*/ header, /*String, Buffer*/ pwd, /*Boolean*/ oldlike = false) {\r\n    // 1. test data if data is not Buffer we make buffer from it\r\n    if (data == null) data = Buffer.alloc(0);\r\n    // if data is not buffer be make buffer from it\r\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data.toString());\r\n\r\n    // 2. We Initialize and generate encrypting function\r\n    const encrypter = make_encrypter(pwd);\r\n\r\n    // 3. generate salt (12-bytes of random data)\r\n    const salt = config.genSalt();\r\n    salt[11] = (header.crc >>> 24) & 0xff;\r\n\r\n    // old implementations (before PKZip 2.04g) used two byte check\r\n    if (oldlike) salt[10] = (header.crc >>> 16) & 0xff;\r\n\r\n    // 4. create output\r\n    const result = Buffer.alloc(data.length + 12);\r\n    encrypter(salt, result);\r\n\r\n    // finally encode content\r\n    return encrypter(data, result, 12);\r\n}\r\n\r\nmodule.exports = { decrypt, encrypt, _salter };\r\n","module.exports = {\r\n    /* The local file header */\r\n    LOCHDR           : 30, // LOC header size\r\n    LOCSIG           : 0x04034b50, // \"PK\\003\\004\"\r\n    LOCVER           : 4,\t// version needed to extract\r\n    LOCFLG           : 6, // general purpose bit flag\r\n    LOCHOW           : 8, // compression method\r\n    LOCTIM           : 10, // modification time (2 bytes time, 2 bytes date)\r\n    LOCCRC           : 14, // uncompressed file crc-32 value\r\n    LOCSIZ           : 18, // compressed size\r\n    LOCLEN           : 22, // uncompressed size\r\n    LOCNAM           : 26, // filename length\r\n    LOCEXT           : 28, // extra field length\r\n\r\n    /* The Data descriptor */\r\n    EXTSIG           : 0x08074b50, // \"PK\\007\\008\"\r\n    EXTHDR           : 16, // EXT header size\r\n    EXTCRC           : 4, // uncompressed file crc-32 value\r\n    EXTSIZ           : 8, // compressed size\r\n    EXTLEN           : 12, // uncompressed size\r\n\r\n    /* The central directory file header */\r\n    CENHDR           : 46, // CEN header size\r\n    CENSIG           : 0x02014b50, // \"PK\\001\\002\"\r\n    CENVEM           : 4, // version made by\r\n    CENVER           : 6, // version needed to extract\r\n    CENFLG           : 8, // encrypt, decrypt flags\r\n    CENHOW           : 10, // compression method\r\n    CENTIM           : 12, // modification time (2 bytes time, 2 bytes date)\r\n    CENCRC           : 16, // uncompressed file crc-32 value\r\n    CENSIZ           : 20, // compressed size\r\n    CENLEN           : 24, // uncompressed size\r\n    CENNAM           : 28, // filename length\r\n    CENEXT           : 30, // extra field length\r\n    CENCOM           : 32, // file comment length\r\n    CENDSK           : 34, // volume number start\r\n    CENATT           : 36, // internal file attributes\r\n    CENATX           : 38, // external file attributes (host system dependent)\r\n    CENOFF           : 42, // LOC header offset\r\n\r\n    /* The entries in the end of central directory */\r\n    ENDHDR           : 22, // END header size\r\n    ENDSIG           : 0x06054b50, // \"PK\\005\\006\"\r\n    ENDSUB           : 8, // number of entries on this disk\r\n    ENDTOT           : 10, // total number of entries\r\n    ENDSIZ           : 12, // central directory size in bytes\r\n    ENDOFF           : 16, // offset of first CEN header\r\n    ENDCOM           : 20, // zip file comment length\r\n\r\n    END64HDR         : 20, // zip64 END header size\r\n    END64SIG         : 0x07064b50, // zip64 Locator signature, \"PK\\006\\007\"\r\n    END64START       : 4, // number of the disk with the start of the zip64\r\n    END64OFF         : 8, // relative offset of the zip64 end of central directory\r\n    END64NUMDISKS    : 16, // total number of disks\r\n\r\n    ZIP64SIG         : 0x06064b50, // zip64 signature, \"PK\\006\\006\"\r\n    ZIP64HDR         : 56, // zip64 record minimum size\r\n    ZIP64LEAD        : 12, // leading bytes at the start of the record, not counted by the value stored in ZIP64SIZE\r\n    ZIP64SIZE        : 4, // zip64 size of the central directory record\r\n    ZIP64VEM         : 12, // zip64 version made by\r\n    ZIP64VER         : 14, // zip64 version needed to extract\r\n    ZIP64DSK         : 16, // zip64 number of this disk\r\n    ZIP64DSKDIR      : 20, // number of the disk with the start of the record directory\r\n    ZIP64SUB         : 24, // number of entries on this disk\r\n    ZIP64TOT         : 32, // total number of entries\r\n    ZIP64SIZB        : 40, // zip64 central directory size in bytes\r\n    ZIP64OFF         : 48, // offset of start of central directory with respect to the starting disk number\r\n    ZIP64EXTRA       : 56, // extensible data sector\r\n\r\n    /* Compression methods */\r\n    STORED           : 0, // no compression\r\n    SHRUNK           : 1, // shrunk\r\n    REDUCED1         : 2, // reduced with compression factor 1\r\n    REDUCED2         : 3, // reduced with compression factor 2\r\n    REDUCED3         : 4, // reduced with compression factor 3\r\n    REDUCED4         : 5, // reduced with compression factor 4\r\n    IMPLODED         : 6, // imploded\r\n    // 7 reserved\r\n    DEFLATED         : 8, // deflated\r\n    ENHANCED_DEFLATED: 9, // enhanced deflated\r\n    PKWARE           : 10,// PKWare DCL imploded\r\n    // 11 reserved\r\n    BZIP2            : 12, //  compressed using BZIP2\r\n    // 13 reserved\r\n    LZMA             : 14, // LZMA\r\n    // 15-17 reserved\r\n    IBM_TERSE        : 18, // compressed using IBM TERSE\r\n    IBM_LZ77         : 19, //IBM LZ77 z\r\n\r\n    /* General purpose bit flag */\r\n    FLG_ENC          : 0,  // encripted file\r\n    FLG_COMP1        : 1,  // compression option\r\n    FLG_COMP2        : 2,  // compression option\r\n    FLG_DESC         : 4,  // data descriptor\r\n    FLG_ENH          : 8,  // enhanced deflation\r\n    FLG_STR          : 16, // strong encryption\r\n    FLG_LNG          : 1024, // language encoding\r\n    FLG_MSK          : 4096, // mask header values\r\n\r\n    /* Load type */\r\n    FILE             : 2,\r\n    BUFFER           : 1,\r\n    NONE             : 0,\r\n\r\n    /* 4.5 Extensible data fields */\r\n    EF_ID            : 0,\r\n    EF_SIZE          : 2,\r\n\r\n    /* Header IDs */\r\n    ID_ZIP64         : 0x0001,\r\n    ID_AVINFO        : 0x0007,\r\n    ID_PFS           : 0x0008,\r\n    ID_OS2           : 0x0009,\r\n    ID_NTFS          : 0x000a,\r\n    ID_OPENVMS       : 0x000c,\r\n    ID_UNIX          : 0x000d,\r\n    ID_FORK          : 0x000e,\r\n    ID_PATCH         : 0x000f,\r\n    ID_X509_PKCS7    : 0x0014,\r\n    ID_X509_CERTID_F : 0x0015,\r\n    ID_X509_CERTID_C : 0x0016,\r\n    ID_STRONGENC     : 0x0017,\r\n    ID_RECORD_MGT    : 0x0018,\r\n    ID_X509_PKCS7_RL : 0x0019,\r\n    ID_IBM1          : 0x0065,\r\n    ID_IBM2          : 0x0066,\r\n    ID_POSZIP        : 0x4690,\r\n\r\n    EF_ZIP64_OR_32   : 0xffffffff,\r\n    EF_ZIP64_OR_16   : 0xffff,\r\n    EF_ZIP64_SUNCOMP : 0,\r\n    EF_ZIP64_SCOMP   : 8,\r\n    EF_ZIP64_RHO     : 16,\r\n    EF_ZIP64_DSN     : 24\r\n};\r\n","module.exports = {\r\n    /* Header error messages */\r\n    \"INVALID_LOC\" : \"Invalid LOC header (bad signature)\",\r\n    \"INVALID_CEN\" : \"Invalid CEN header (bad signature)\",\r\n    \"INVALID_END\" : \"Invalid END header (bad signature)\",\r\n\r\n    /* ZipEntry error messages*/\r\n    \"NO_DATA\" : \"Nothing to decompress\",\r\n    \"BAD_CRC\" : \"CRC32 checksum failed\",\r\n    \"FILE_IN_THE_WAY\" : \"There is a file in the way: %s\",\r\n    \"UNKNOWN_METHOD\" : \"Invalid/unsupported compression method\",\r\n\r\n    /* Inflater error messages */\r\n    \"AVAIL_DATA\" : \"inflate::Available inflate data did not terminate\",\r\n    \"INVALID_DISTANCE\" : \"inflate::Invalid literal/length or distance code in fixed or dynamic block\",\r\n    \"TO_MANY_CODES\" : \"inflate::Dynamic block code description: too many length or distance codes\",\r\n    \"INVALID_REPEAT_LEN\" : \"inflate::Dynamic block code description: repeat more than specified lengths\",\r\n    \"INVALID_REPEAT_FIRST\" : \"inflate::Dynamic block code description: repeat lengths with no first length\",\r\n    \"INCOMPLETE_CODES\" : \"inflate::Dynamic block code description: code lengths codes incomplete\",\r\n    \"INVALID_DYN_DISTANCE\": \"inflate::Dynamic block code description: invalid distance code lengths\",\r\n    \"INVALID_CODES_LEN\": \"inflate::Dynamic block code description: invalid literal/length code lengths\",\r\n    \"INVALID_STORE_BLOCK\" : \"inflate::Stored block length did not match one's complement\",\r\n    \"INVALID_BLOCK_TYPE\" : \"inflate::Invalid block type (type == 3)\",\r\n\r\n    /* ADM-ZIP error messages */\r\n    \"CANT_EXTRACT_FILE\" : \"Could not extract the file\",\r\n    \"CANT_OVERRIDE\" : \"Target file already exists\",\r\n    \"NO_ZIP\" : \"No zip file was loaded\",\r\n    \"NO_ENTRY\" : \"Entry doesn't exist\",\r\n    \"DIRECTORY_CONTENT_ERROR\" : \"A directory cannot have content\",\r\n    \"FILE_NOT_FOUND\" : \"File not found: %s\",\r\n    \"NOT_IMPLEMENTED\" : \"Not implemented\",\r\n    \"INVALID_FILENAME\" : \"Invalid filename\",\r\n    \"INVALID_FORMAT\" : \"Invalid or unsupported zip format. No END header found\"\r\n};","var fs = require(\"./fileSystem\").require(),\r\n    pth = require(\"path\");\r\n\t\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = function(/*String*/path) {\r\n\r\n    var _path = path || \"\",\r\n        _permissions = 0,\r\n        _obj = newAttr(),\r\n        _stat = null;\r\n\r\n    function newAttr() {\r\n        return {\r\n            directory : false,\r\n            readonly : false,\r\n            hidden : false,\r\n            executable : false,\r\n            mtime : 0,\r\n            atime : 0\r\n        }\r\n    }\r\n\r\n    if (_path && fs.existsSync(_path)) {\r\n        _stat = fs.statSync(_path);\r\n        _obj.directory = _stat.isDirectory();\r\n        _obj.mtime = _stat.mtime;\r\n        _obj.atime = _stat.atime;\r\n        _obj.executable = (0o111 & _stat.mode) != 0;    // file is executable who ever har right not just owner\r\n        _obj.readonly   = (0o200 & _stat.mode) == 0;    // readonly if owner has no write right\r\n        _obj.hidden = pth.basename(_path)[0] === \".\";\r\n    } else {\r\n        console.warn(\"Invalid path: \" + _path)\r\n    }\r\n\r\n    return {\r\n\r\n        get directory () {\r\n            return _obj.directory;\r\n        },\r\n\r\n        get readOnly () {\r\n            return _obj.readonly;\r\n        },\r\n\r\n        get hidden () {\r\n            return _obj.hidden;\r\n        },\r\n\r\n        get mtime () {\r\n            return _obj.mtime;\r\n        },\r\n\r\n        get atime () {\r\n           return _obj.atime;\r\n        },\r\n\r\n\r\n        get executable () {\r\n            return _obj.executable;\r\n        },\r\n\r\n        decodeAttributes : function(val) {\r\n\r\n        },\r\n\r\n        encodeAttributes : function (val) {\r\n\r\n        },\r\n\r\n        toString : function() {\r\n           return '{\\n' +\r\n               '\\t\"path\" : \"' + _path + \",\\n\" +\r\n               '\\t\"isDirectory\" : ' + _obj.directory + \",\\n\" +\r\n               '\\t\"isReadOnly\" : ' + _obj.readonly + \",\\n\" +\r\n               '\\t\"isHidden\" : ' + _obj.hidden + \",\\n\" +\r\n               '\\t\"isExecutable\" : ' + _obj.executable + \",\\n\" +\r\n               '\\t\"mTime\" : ' + _obj.mtime + \"\\n\" +\r\n               '\\t\"aTime\" : ' + _obj.atime + \"\\n\" +\r\n           '}';\r\n        }\r\n    }\r\n\r\n};\r\n","exports.require = function() {\r\n  var fs = require(\"fs\");\r\n  if (process && process.versions && process.versions['electron']) {\r\n\t  try {\r\n\t    originalFs = require(\"original-fs\");\r\n\t    if (Object.keys(originalFs).length > 0) {\r\n\t      fs = originalFs;\r\n      }\r\n\t  } catch (e) {}\r\n  }\r\n  return fs\r\n};\r\n","module.exports = require(\"./utils\");\r\nmodule.exports.FileSystem = require(\"./fileSystem\");\r\nmodule.exports.Constants = require(\"./constants\");\r\nmodule.exports.Errors = require(\"./errors\");\r\nmodule.exports.FileAttr = require(\"./fattr\");","var fs = require(\"./fileSystem\").require(),\r\n    pth = require('path');\r\n\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = (function() {\r\n\r\n    var crcTable = [],\r\n        Constants = require('./constants'),\r\n        Errors = require('./errors'),\r\n\r\n        PATH_SEPARATOR = pth.sep;\r\n\r\n\r\n    function mkdirSync(/*String*/path) {\r\n        var resolvedPath = path.split(PATH_SEPARATOR)[0];\r\n        path.split(PATH_SEPARATOR).forEach(function(name) {\r\n            if (!name || name.substr(-1,1) === \":\") return;\r\n            resolvedPath += PATH_SEPARATOR + name;\r\n            var stat;\r\n            try {\r\n                stat = fs.statSync(resolvedPath);\r\n            } catch (e) {\r\n                fs.mkdirSync(resolvedPath);\r\n            }\r\n            if (stat && stat.isFile())\r\n                throw Errors.FILE_IN_THE_WAY.replace(\"%s\", resolvedPath);\r\n        });\r\n    }\r\n\r\n    function findSync(/*String*/dir, /*RegExp*/pattern, /*Boolean*/recoursive) {\r\n        if (typeof pattern === 'boolean') {\r\n            recoursive = pattern;\r\n            pattern = undefined;\r\n        }\r\n        var files = [];\r\n        fs.readdirSync(dir).forEach(function(file) {\r\n            var path = pth.join(dir, file);\r\n\r\n            if (fs.statSync(path).isDirectory() && recoursive)\r\n                files = files.concat(findSync(path, pattern, recoursive));\r\n\r\n            if (!pattern || pattern.test(path)) {\r\n                files.push(pth.normalize(path) + (fs.statSync(path).isDirectory() ? PATH_SEPARATOR : \"\"));\r\n            }\r\n\r\n        });\r\n        return files;\r\n    }\r\n\r\n    function readBigUInt64LE(/*Buffer*/buffer, /*int*/index) {\r\n        var slice = Buffer.from(buffer.slice(index, index + 8));\r\n        slice.swap64();\r\n\r\n        return parseInt(`0x${ slice.toString('hex') }`);\r\n    }\r\n\r\n    return {\r\n        makeDir : function(/*String*/path) {\r\n            mkdirSync(path);\r\n        },\r\n\r\n        crc32 : function(buf) {\r\n            if (typeof buf === 'string') {\r\n                buf = Buffer.alloc(buf.length, buf);\r\n            }\r\n            var b = Buffer.alloc(4);\r\n            if (!crcTable.length) {\r\n                for (var n = 0; n < 256; n++) {\r\n                    var c = n;\r\n                    for (var k = 8; --k >= 0;)  //\r\n                        if ((c & 1) !== 0)  { c = 0xedb88320 ^ (c >>> 1); } else { c = c >>> 1; }\r\n                    if (c < 0) {\r\n                        b.writeInt32LE(c, 0);\r\n                        c = b.readUInt32LE(0);\r\n                    }\r\n                    crcTable[n] = c;\r\n                }\r\n            }\r\n            var crc = 0, off = 0, len = buf.length, c1 = ~crc;\r\n            while(--len >= 0) c1 = crcTable[(c1 ^ buf[off++]) & 0xff] ^ (c1 >>> 8);\r\n            crc = ~c1;\r\n            b.writeInt32LE(crc & 0xffffffff, 0);\r\n            return b.readUInt32LE(0);\r\n        },\r\n\r\n        methodToString : function(/*Number*/method) {\r\n            switch (method) {\r\n                case Constants.STORED:\r\n                    return 'STORED (' + method + ')';\r\n                case Constants.DEFLATED:\r\n                    return 'DEFLATED (' + method + ')';\r\n                default:\r\n                    return 'UNSUPPORTED (' + method + ')';\r\n            }\r\n\r\n        },\r\n\r\n        writeFileTo : function(/*String*/path, /*Buffer*/content, /*Boolean*/overwrite, /*Number*/attr) {\r\n            if (fs.existsSync(path)) {\r\n                if (!overwrite)\r\n                    return false; // cannot overwrite\r\n\r\n                var stat = fs.statSync(path);\r\n                if (stat.isDirectory()) {\r\n                    return false;\r\n                }\r\n            }\r\n            var folder = pth.dirname(path);\r\n            if (!fs.existsSync(folder)) {\r\n                mkdirSync(folder);\r\n            }\r\n\r\n            var fd;\r\n            try {\r\n                fd = fs.openSync(path, 'w', 438); // 0666\r\n            } catch(e) {\r\n                fs.chmodSync(path, 438);\r\n                fd = fs.openSync(path, 'w', 438);\r\n            }\r\n            if (fd) {\r\n                try {\r\n                    fs.writeSync(fd, content, 0, content.length, 0);\r\n                }\r\n                catch (e){\r\n                    throw e;\r\n                }\r\n                finally {\r\n                    fs.closeSync(fd);\r\n                }\r\n            }\r\n            fs.chmodSync(path, attr || 438);\r\n            return true;\r\n        },\r\n\r\n        writeFileToAsync : function(/*String*/path, /*Buffer*/content, /*Boolean*/overwrite, /*Number*/attr, /*Function*/callback) {\r\n            if(typeof attr === 'function') {\r\n                callback = attr;\r\n                attr = undefined;\r\n            }\r\n\r\n            fs.exists(path, function(exists) {\r\n                if(exists && !overwrite)\r\n                    return callback(false);\r\n\r\n                fs.stat(path, function(err, stat) {\r\n                    if(exists &&stat.isDirectory()) {\r\n                        return callback(false);\r\n                    }\r\n\r\n                    var folder = pth.dirname(path);\r\n                    fs.exists(folder, function(exists) {\r\n                        if(!exists)\r\n                            mkdirSync(folder);\r\n\r\n                        fs.open(path, 'w', 438, function(err, fd) {\r\n                            if(err) {\r\n                                fs.chmod(path, 438, function() {\r\n                                    fs.open(path, 'w', 438, function(err, fd) {\r\n                                        fs.write(fd, content, 0, content.length, 0, function() {\r\n                                            fs.close(fd, function() {\r\n                                                fs.chmod(path, attr || 438, function() {\r\n                                                    callback(true);\r\n                                                })\r\n                                            });\r\n                                        });\r\n                                    });\r\n                                })\r\n                            } else {\r\n                                if(fd) {\r\n                                    fs.write(fd, content, 0, content.length, 0, function() {\r\n                                        fs.close(fd, function() {\r\n                                            fs.chmod(path, attr || 438, function() {\r\n                                                callback(true);\r\n                                            })\r\n                                        });\r\n                                    });\r\n                                } else {\r\n                                    fs.chmod(path, attr || 438, function() {\r\n                                        callback(true);\r\n                                    })\r\n                                }\r\n                            }\r\n                        });\r\n                    })\r\n                })\r\n            })\r\n        },\r\n\r\n        findFiles : function(/*String*/path) {\r\n            return findSync(path, true);\r\n        },\r\n\r\n        getAttributes : function(/*String*/path) {\r\n\r\n        },\r\n\r\n        setAttributes : function(/*String*/path) {\r\n\r\n        },\r\n\r\n        toBuffer : function(input) {\r\n            if (Buffer.isBuffer(input)) {\r\n                return input;\r\n            } else {\r\n                if (input.length === 0) {\r\n                    return Buffer.alloc(0)\r\n                }\r\n                return Buffer.from(input, 'utf8');\r\n            }\r\n        },\r\n\r\n        readBigUInt64LE,\r\n\r\n        Constants : Constants,\r\n        Errors : Errors\r\n    }\r\n})();\r\n","var Utils = require(\"./util\"),\r\n    Headers = require(\"./headers\"),\r\n    Constants = Utils.Constants,\r\n    Methods = require(\"./methods\");\r\n\r\nmodule.exports = function (/*Buffer*/input) {\r\n    var _entryHeader = new Headers.EntryHeader(),\r\n        _entryName = Buffer.alloc(0),\r\n        _comment = Buffer.alloc(0),\r\n        _isDirectory = false,\r\n        uncompressedData = null,\r\n        _extra = Buffer.alloc(0);\r\n\r\n    function getCompressedDataFromZip() {\r\n        if (!input || !Buffer.isBuffer(input)) {\r\n            return Buffer.alloc(0);\r\n        }\r\n        _entryHeader.loadDataHeaderFromBinary(input);\r\n        return input.slice(_entryHeader.realDataOffset, _entryHeader.realDataOffset + _entryHeader.compressedSize)\r\n    }\r\n\r\n    function crc32OK(data) {\r\n        // if bit 3 (0x08) of the general-purpose flags field is set, then the CRC-32 and file sizes are not known when the header is written\r\n        if ((_entryHeader.flags & 0x8) !== 0x8) {\r\n           if (Utils.crc32(data) !== _entryHeader.dataHeader.crc) {\r\n               return false;\r\n           }\r\n        } else {\r\n            // @TODO: load and check data descriptor header\r\n            // The fields in the local header are filled with zero, and the CRC-32 and size are appended in a 12-byte structure\r\n            // (optionally preceded by a 4-byte signature) immediately after the compressed data:\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function decompress(/*Boolean*/async, /*Function*/callback, /*String, Buffer*/pass) {\r\n        if(typeof callback === 'undefined' && typeof async === 'string') {\r\n            pass=async;\r\n            async=void 0;\r\n        }\r\n        if (_isDirectory) {\r\n            if (async && callback) {\r\n                callback(Buffer.alloc(0), Utils.Errors.DIRECTORY_CONTENT_ERROR); //si added error.\r\n            }\r\n            return Buffer.alloc(0);\r\n        }\r\n\r\n        var compressedData = getCompressedDataFromZip();\r\n\r\n        if (compressedData.length === 0) {\r\n            // File is empty, nothing to decompress.\r\n            if (async && callback) callback(compressedData);\r\n            return compressedData;\r\n        }\r\n\r\n        if (_entryHeader.encripted){\r\n            if ('string' !== typeof pass && !Buffer.isBuffer(pass)){\r\n                throw new Error('ADM-ZIP: Incompatible password parameter');\r\n            }\r\n            compressedData = Methods.ZipCrypto.decrypt(compressedData, _entryHeader, pass);\r\n        }\r\n\r\n        var data = Buffer.alloc(_entryHeader.size);\r\n\r\n        switch (_entryHeader.method) {\r\n            case Utils.Constants.STORED:\r\n                compressedData.copy(data);\r\n                if (!crc32OK(data)) {\r\n                    if (async && callback) callback(data, Utils.Errors.BAD_CRC);//si added error\r\n                    throw new Error(Utils.Errors.BAD_CRC);\r\n                } else {//si added otherwise did not seem to return data.\r\n                    if (async && callback) callback(data);\r\n                    return data;\r\n                }\r\n            case Utils.Constants.DEFLATED:\r\n                var inflater = new Methods.Inflater(compressedData);\r\n                if (!async) {\r\n                    var result = inflater.inflate(data);\r\n                    result.copy(data, 0);\r\n                    if (!crc32OK(data)) {\r\n                        throw new Error(Utils.Errors.BAD_CRC + \" \" + _entryName.toString());\r\n                    }\r\n                    return data;\r\n                } else {\r\n                    inflater.inflateAsync(function(result) {\r\n                        result.copy(data, 0);\r\n                        if (!crc32OK(data)) {\r\n                            if (callback) callback(data, Utils.Errors.BAD_CRC); //si added error\r\n                        } else { //si added otherwise did not seem to return data.\r\n                            if (callback) callback(data);\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            default:\r\n                if (async && callback) callback(Buffer.alloc(0), Utils.Errors.UNKNOWN_METHOD);\r\n                throw new Error(Utils.Errors.UNKNOWN_METHOD);\r\n        }\r\n    }\r\n\r\n    function compress(/*Boolean*/async, /*Function*/callback) {\r\n        if ((!uncompressedData || !uncompressedData.length) && Buffer.isBuffer(input)) {\r\n            // no data set or the data wasn't changed to require recompression\r\n            if (async && callback) callback(getCompressedDataFromZip());\r\n            return getCompressedDataFromZip();\r\n        }\r\n\r\n        if (uncompressedData.length && !_isDirectory) {\r\n            var compressedData;\r\n            // Local file header\r\n            switch (_entryHeader.method) {\r\n                case Utils.Constants.STORED:\r\n                    _entryHeader.compressedSize = _entryHeader.size;\r\n\r\n                    compressedData = Buffer.alloc(uncompressedData.length);\r\n                    uncompressedData.copy(compressedData);\r\n\r\n                    if (async && callback) callback(compressedData);\r\n                    return compressedData;\r\n                default:\r\n                case Utils.Constants.DEFLATED:\r\n\r\n                    var deflater = new Methods.Deflater(uncompressedData);\r\n                    if (!async) {\r\n                        var deflated = deflater.deflate();\r\n                        _entryHeader.compressedSize = deflated.length;\r\n                        return deflated;\r\n                    } else {\r\n                        deflater.deflateAsync(function(data) {\r\n                            compressedData = Buffer.alloc(data.length);\r\n                            _entryHeader.compressedSize = data.length;\r\n                            data.copy(compressedData);\r\n                            callback && callback(compressedData);\r\n                        });\r\n                    }\r\n                    deflater = null;\r\n                    break;\r\n            }\r\n        } else {\r\n            if (async && callback) {\r\n                callback(Buffer.alloc(0));\r\n            } else {\r\n                return Buffer.alloc(0);\r\n            }\r\n        }\r\n    }\r\n\r\n    function readUInt64LE(buffer, offset) {\r\n        return (buffer.readUInt32LE(offset + 4) << 4) + buffer.readUInt32LE(offset);\r\n    }\r\n\r\n    function parseExtra(data) {\r\n        var offset = 0;\r\n        var signature, size, part;\r\n        while(offset<data.length) {\r\n            signature = data.readUInt16LE(offset);\r\n            offset += 2;\r\n            size = data.readUInt16LE(offset);\r\n            offset += 2;\r\n            part = data.slice(offset, offset+size);\r\n            offset += size;\r\n            if(Constants.ID_ZIP64 === signature) {\r\n                parseZip64ExtendedInformation(part);\r\n            }\r\n        }\r\n    }\r\n\r\n    //Override header field values with values from the ZIP64 extra field\r\n    function parseZip64ExtendedInformation(data) {\r\n        var size, compressedSize, offset, diskNumStart;\r\n\r\n        if(data.length >= Constants.EF_ZIP64_SCOMP) {\r\n            size = readUInt64LE(data, Constants.EF_ZIP64_SUNCOMP);\r\n            if(_entryHeader.size === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.size = size;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_RHO) {\r\n            compressedSize = readUInt64LE(data, Constants.EF_ZIP64_SCOMP);\r\n            if(_entryHeader.compressedSize === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.compressedSize = compressedSize;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_DSN) {\r\n            offset = readUInt64LE(data, Constants.EF_ZIP64_RHO);\r\n            if(_entryHeader.offset === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.offset = offset;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_DSN+4) {\r\n            diskNumStart = data.readUInt32LE(Constants.EF_ZIP64_DSN);\r\n            if(_entryHeader.diskNumStart === Constants.EF_ZIP64_OR_16) {\r\n                _entryHeader.diskNumStart = diskNumStart;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        get entryName () { return _entryName.toString(); },\r\n        get rawEntryName() { return _entryName; },\r\n        set entryName (val) {\r\n            _entryName = Utils.toBuffer(val);\r\n            var lastChar = _entryName[_entryName.length - 1];\r\n            _isDirectory = (lastChar === 47) || (lastChar === 92);\r\n            _entryHeader.fileNameLength = _entryName.length;\r\n        },\r\n\r\n        get extra () { return _extra; },\r\n        set extra (val) {\r\n            _extra = val;\r\n            _entryHeader.extraLength = val.length;\r\n            parseExtra(val);\r\n        },\r\n\r\n        get comment () { return _comment.toString(); },\r\n        set comment (val) {\r\n            _comment = Utils.toBuffer(val);\r\n            _entryHeader.commentLength = _comment.length;\r\n        },\r\n\r\n        get name () { var n = _entryName.toString(); return _isDirectory ? n.substr(n.length - 1).split(\"/\").pop() : n.split(\"/\").pop(); },\r\n        get isDirectory () { return _isDirectory },\r\n\r\n        getCompressedData : function() {\r\n            return compress(false, null)\r\n        },\r\n\r\n        getCompressedDataAsync : function(/*Function*/callback) {\r\n            compress(true, callback)\r\n        },\r\n\r\n        setData : function(value) {\r\n            uncompressedData = Utils.toBuffer(value);\r\n            if (!_isDirectory && uncompressedData.length) {\r\n                _entryHeader.size = uncompressedData.length;\r\n                _entryHeader.method = Utils.Constants.DEFLATED;\r\n                _entryHeader.crc = Utils.crc32(value);\r\n                _entryHeader.changed = true;\r\n            } else { // folders and blank files should be stored\r\n                _entryHeader.method = Utils.Constants.STORED;\r\n            }\r\n        },\r\n\r\n        getData : function(pass) {\r\n            if (_entryHeader.changed) {\r\n                return uncompressedData;\r\n            } else {\r\n                return decompress(false, null, pass);\r\n            }\r\n        },\r\n\r\n        getDataAsync : function(/*Function*/callback, pass) {\r\n            if (_entryHeader.changed) {\r\n                callback(uncompressedData);\r\n            } else {\r\n                decompress(true, callback, pass);\r\n            }\r\n        },\r\n\r\n        set attr(attr) { _entryHeader.attr = attr; },\r\n        get attr() { return _entryHeader.attr; },\r\n\r\n        set header(/*Buffer*/data) {\r\n            _entryHeader.loadFromBinary(data);\r\n        },\r\n\r\n        get header() {\r\n            return _entryHeader;\r\n        },\r\n\r\n        packHeader : function() {\r\n            // 1. create header (buffer)\r\n            var header = _entryHeader.entryHeaderToBinary();\r\n            var addpos = Utils.Constants.CENHDR;\r\n            // 2. add file name\r\n            _entryName.copy(header, addpos);\r\n            addpos += _entryName.length;\r\n            // 3. add extra data\r\n            if (_entryHeader.extraLength) {\r\n                _extra.copy(header, addpos);\r\n                addpos += _entryHeader.extraLength;\r\n            }\r\n            // 4. add file comment\r\n            if (_entryHeader.commentLength) {\r\n                _comment.copy(header, addpos);\r\n            }\r\n            return header;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"entryName\" : \"' + _entryName.toString() + \"\\\",\\n\" +\r\n                '\\t\"name\" : \"' + (_isDirectory ? _entryName.toString().replace(/\\/$/, '').split(\"/\").pop() : _entryName.toString().split(\"/\").pop()) + \"\\\",\\n\" +\r\n                '\\t\"comment\" : \"' + _comment.toString() + \"\\\",\\n\" +\r\n                '\\t\"isDirectory\" : ' + _isDirectory + \",\\n\" +\r\n                '\\t\"header\" : ' + _entryHeader.toString().replace(/\\t/mg, \"\\t\\t\").replace(/}/mg, \"\\t}\")  + \",\\n\" +\r\n                '\\t\"compressedData\" : <' + (input && input.length  + \" bytes buffer\" || \"null\") + \">\\n\" +\r\n                '\\t\"data\" : <' + (uncompressedData && uncompressedData.length  + \" bytes buffer\" || \"null\") + \">\\n\" +\r\n                '}';\r\n        }\r\n    }\r\n};\r\n","const ZipEntry = require(\"./zipEntry\");\r\nconst Headers = require(\"./headers\");\r\nconst Utils = require(\"./util\");\r\n\r\nmodule.exports = function (/*Buffer|null*/inBuffer, /** object */options) {\r\n    var entryList = [],\r\n        entryTable = {},\r\n        _comment = Buffer.alloc(0),\r\n        mainHeader = new Headers.MainHeader(),\r\n        loadedEntries = false;\r\n\r\n    // assign options\r\n    const opts = Object.assign(Object.create(null), options);\r\n\r\n    if (inBuffer){\r\n        // is a memory buffer\r\n        readMainHeader(opts.readEntries);\r\n    } else {\r\n        // none. is a new file\r\n        loadedEntries = true;\r\n    }\r\n\r\n\tfunction iterateEntries(callback) {\r\n\t\tconst totalEntries = mainHeader.diskEntries; // total number of entries\r\n\t\tlet index = mainHeader.offset; // offset of first CEN header\r\n\r\n\t\tfor (let i = 0; i < totalEntries; i++) {\r\n\t\t\tlet tmp = index;\r\n\t\t\tconst entry = new ZipEntry(inBuffer);\r\n\r\n\t\t\tentry.header = inBuffer.slice(tmp, tmp += Utils.Constants.CENHDR);\r\n\t\t\tentry.entryName = inBuffer.slice(tmp, tmp += entry.header.fileNameLength);\r\n\r\n\t\t\tindex += entry.header.entryHeaderSize;\r\n\r\n\t\t\tcallback(entry);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction readEntries() {\r\n\t\tloadedEntries = true;\r\n\t\tentryTable = {};\r\n\t\tentryList = new Array(mainHeader.diskEntries);  // total number of entries\r\n\t\tvar index = mainHeader.offset;  // offset of first CEN header\r\n\t\tfor (var i = 0; i < entryList.length; i++) {\r\n\r\n\t\t\tvar tmp = index,\r\n\t\t\t\tentry = new ZipEntry(inBuffer);\r\n\t\t\tentry.header = inBuffer.slice(tmp, tmp += Utils.Constants.CENHDR);\r\n\r\n\t\t\tentry.entryName = inBuffer.slice(tmp, tmp += entry.header.fileNameLength);\r\n\r\n\t\t\tif (entry.header.extraLength) {\r\n\t\t\t\tentry.extra = inBuffer.slice(tmp, tmp += entry.header.extraLength);\r\n\t\t\t}\r\n\r\n\t\t\tif (entry.header.commentLength)\r\n\t\t\t\tentry.comment = inBuffer.slice(tmp, tmp + entry.header.commentLength);\r\n\r\n\t\t\tindex += entry.header.entryHeaderSize;\r\n\r\n\t\t\tentryList[i] = entry;\r\n\t\t\tentryTable[entry.entryName] = entry;\r\n\t\t}\r\n\t}\r\n\r\n    function readMainHeader(/*Boolean*/ readNow) {\r\n\t\tvar i = inBuffer.length - Utils.Constants.ENDHDR, // END header size\r\n\t\t\tmax = Math.max(0, i - 0xFFFF), // 0xFFFF is the max zip file comment length\r\n\t\t\tn = max,\r\n\t\t\tendStart = inBuffer.length,\r\n\t\t\tendOffset = -1, // Start offset of the END header\r\n\t\t\tcommentEnd = 0;\r\n\r\n\t\tfor (i; i >= n; i--) {\r\n\t\t\tif (inBuffer[i] !== 0x50) continue; // quick check that the byte is 'P'\r\n\t\t\tif (inBuffer.readUInt32LE(i) === Utils.Constants.ENDSIG) { // \"PK\\005\\006\"\r\n\t\t\t\tendOffset = i;\r\n\t\t\t\tcommentEnd = i;\r\n\t\t\t\tendStart = i + Utils.Constants.ENDHDR;\r\n\t\t\t\t// We already found a regular signature, let's look just a bit further to check if there's any zip64 signature\r\n\t\t\t\tn = i - Utils.Constants.END64HDR;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (inBuffer.readUInt32LE(i) === Utils.Constants.END64SIG) {\r\n\t\t\t\t// Found a zip64 signature, let's continue reading the whole zip64 record\r\n\t\t\t\tn = max;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (inBuffer.readUInt32LE(i) == Utils.Constants.ZIP64SIG) {\r\n\t\t\t\t// Found the zip64 record, let's determine it's size\r\n\t\t\t\tendOffset = i;\r\n\t\t\t\tendStart = i + Utils.readBigUInt64LE(inBuffer, i + Utils.Constants.ZIP64SIZE) + Utils.Constants.ZIP64LEAD;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!~endOffset)\r\n\t\t\tthrow new Error(Utils.Errors.INVALID_FORMAT);\r\n\r\n\t\tmainHeader.loadFromBinary(inBuffer.slice(endOffset, endStart));\r\n\t\tif (mainHeader.commentLength) {\r\n\t\t\t_comment = inBuffer.slice(commentEnd + Utils.Constants.ENDHDR);\r\n\t\t}\r\n        if (readNow) readEntries();\r\n    }\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Returns an array of ZipEntry objects existent in the current opened archive\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tget entries() {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\treturn entryList;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Archive comment\r\n\t\t * @return {String}\r\n\t\t */\r\n\t\tget comment() {\r\n\t\t\treturn _comment.toString();\r\n\t\t},\r\n\t\tset comment(val) {\r\n\t\t\t_comment = Utils.toBuffer(val);\r\n\t\t\tmainHeader.commentLength = _comment.length;\r\n\t\t},\r\n\r\n\t\tgetEntryCount: function() {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treturn mainHeader.diskEntries;\r\n\t\t\t}\r\n\r\n\t\t\treturn entryList.length;\r\n\t\t},\r\n\r\n\t\tforEach: function(callback) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\titerateEntries(callback);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tentryList.forEach(callback);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a reference to the entry with the given name or null if entry is inexistent\r\n\t\t *\r\n\t\t * @param entryName\r\n\t\t * @return ZipEntry\r\n\t\t */\r\n\t\tgetEntry: function (/*String*/entryName) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\treturn entryTable[entryName] || null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds the given entry to the entry list\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t */\r\n\t\tsetEntry: function (/*ZipEntry*/entry) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tentryList.push(entry);\r\n\t\t\tentryTable[entry.entryName] = entry;\r\n\t\t\tmainHeader.totalEntries = entryList.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Removes the entry with the given name from the entry list.\r\n\t\t *\r\n\t\t * If the entry is a directory, then all nested files and directories will be removed\r\n\t\t * @param entryName\r\n\t\t */\r\n\t\tdeleteEntry: function (/*String*/entryName) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tvar entry = entryTable[entryName];\r\n\t\t\tif (entry && entry.isDirectory) {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tthis.getEntryChildren(entry).forEach(function (child) {\r\n\t\t\t\t\tif (child.entryName !== entryName) {\r\n\t\t\t\t\t\t_self.deleteEntry(child.entryName)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tentryList.splice(entryList.indexOf(entry), 1);\r\n\t\t\tdelete(entryTable[entryName]);\r\n\t\t\tmainHeader.totalEntries = entryList.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *  Iterates and returns all nested files and directories of the given entry\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tgetEntryChildren: function (/*ZipEntry*/entry) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tif (entry.isDirectory) {\r\n\t\t\t\tvar list = [],\r\n\t\t\t\t\tname = entry.entryName,\r\n\t\t\t\t\tlen = name.length;\r\n\r\n\t\t\t\tentryList.forEach(function (zipEntry) {\r\n\t\t\t\t\tif (zipEntry.entryName.substr(0, len) === name) {\r\n\t\t\t\t\t\tlist.push(zipEntry);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t\treturn []\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the zip file\r\n\t\t *\r\n\t\t * @return Buffer\r\n\t\t */\r\n\t\tcompressToBuffer: function () {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tif (entryList.length > 1) {\r\n\t\t\t\tentryList.sort(function (a, b) {\r\n\t\t\t\t\tvar nameA = a.entryName.toLowerCase();\r\n\t\t\t\t\tvar nameB = b.entryName.toLowerCase();\r\n\t\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar totalSize = 0,\r\n\t\t\t\tdataBlock = [],\r\n\t\t\t\tentryHeaders = [],\r\n\t\t\t\tdindex = 0;\r\n\r\n\t\t\tmainHeader.size = 0;\r\n\t\t\tmainHeader.offset = 0;\r\n\r\n\t\t\tentryList.forEach(function (entry) {\r\n\t\t\t\t// compress data and set local and entry header accordingly. Reason why is called first\r\n\t\t\t\tvar compressedData = entry.getCompressedData();\r\n\t\t\t\t// data header\r\n\t\t\t\tentry.header.offset = dindex;\r\n\t\t\t\tvar dataHeader = entry.header.dataHeaderToBinary();\r\n\t\t\t\tvar entryNameLen = entry.rawEntryName.length;\r\n\t\t\t\tvar extra = entry.extra.toString();\r\n\t\t\t\tvar postHeader = Buffer.alloc(entryNameLen + extra.length);\r\n\t\t\t\tentry.rawEntryName.copy(postHeader, 0);\r\n\t\t\t\tpostHeader.fill(extra, entryNameLen);\r\n\r\n\t\t\t\tvar dataLength = dataHeader.length + postHeader.length + compressedData.length;\r\n\r\n\t\t\t\tdindex += dataLength;\r\n\r\n\t\t\t\tdataBlock.push(dataHeader);\r\n\t\t\t\tdataBlock.push(postHeader);\r\n\t\t\t\tdataBlock.push(compressedData);\r\n\r\n\t\t\t\tvar entryHeader = entry.packHeader();\r\n\t\t\t\tentryHeaders.push(entryHeader);\r\n\t\t\t\tmainHeader.size += entryHeader.length;\r\n\t\t\t\ttotalSize += (dataLength + entryHeader.length);\r\n\t\t\t});\r\n\r\n\t\t\ttotalSize += mainHeader.mainHeaderSize; // also includes zip file comment length\r\n\t\t\t// point to end of data and beginning of central directory first record\r\n\t\t\tmainHeader.offset = dindex;\r\n\r\n\t\t\tdindex = 0;\r\n\t\t\tvar outBuffer = Buffer.alloc(totalSize);\r\n\t\t\tdataBlock.forEach(function (content) {\r\n\t\t\t\tcontent.copy(outBuffer, dindex); // write data blocks\r\n\t\t\t\tdindex += content.length;\r\n\t\t\t});\r\n\t\t\tentryHeaders.forEach(function (content) {\r\n\t\t\t\tcontent.copy(outBuffer, dindex); // write central directory entries\r\n\t\t\t\tdindex += content.length;\r\n\t\t\t});\r\n\r\n\t\t\tvar mh = mainHeader.toBinary();\r\n\t\t\tif (_comment) {\r\n\t\t\t\tBuffer.from(_comment).copy(mh, Utils.Constants.ENDHDR); // add zip file comment\r\n\t\t\t}\r\n\r\n\t\t\tmh.copy(outBuffer, dindex); // write main header\r\n\r\n\t\t\treturn outBuffer;\r\n\t\t},\r\n\r\n\t\ttoAsyncBuffer: function (/*Function*/onSuccess, /*Function*/onFail, /*Function*/onItemStart, /*Function*/onItemEnd) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tif (entryList.length > 1) {\r\n\t\t\t\tentryList.sort(function (a, b) {\r\n\t\t\t\t\tvar nameA = a.entryName.toLowerCase();\r\n\t\t\t\t\tvar nameB = b.entryName.toLowerCase();\r\n\t\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar totalSize = 0,\r\n\t\t\t\tdataBlock = [],\r\n\t\t\t\tentryHeaders = [],\r\n\t\t\t\tdindex = 0;\r\n\r\n\t\t\tmainHeader.size = 0;\r\n\t\t\tmainHeader.offset = 0;\r\n\r\n\t\t\tvar compress = function (entryList) {\r\n\t\t\t\tvar self = arguments.callee;\r\n\t\t\t\tif (entryList.length) {\r\n\t\t\t\t\tvar entry = entryList.pop();\r\n\t\t\t\t\tvar name = entry.entryName + entry.extra.toString();\r\n\t\t\t\t\tif (onItemStart) onItemStart(name);\r\n\t\t\t\t\tentry.getCompressedDataAsync(function (compressedData) {\r\n\t\t\t\t\t\tif (onItemEnd) onItemEnd(name);\r\n\r\n\t\t\t\t\t\tentry.header.offset = dindex;\r\n\t\t\t\t\t\t// data header\r\n\t\t\t\t\t\tvar dataHeader = entry.header.dataHeaderToBinary();\r\n\t\t\t\t\t\tvar postHeader;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tpostHeader = Buffer.alloc(name.length, name);  // using alloc will work on node  5.x+\r\n\t\t\t\t\t\t} catch(e){\r\n\t\t\t\t\t\t\tpostHeader = new Buffer(name); // use deprecated method if alloc fails...\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar dataLength = dataHeader.length + postHeader.length + compressedData.length;\r\n\r\n\t\t\t\t\t\tdindex += dataLength;\r\n\r\n\t\t\t\t\t\tdataBlock.push(dataHeader);\r\n\t\t\t\t\t\tdataBlock.push(postHeader);\r\n\t\t\t\t\t\tdataBlock.push(compressedData);\r\n\r\n\t\t\t\t\t\tvar entryHeader = entry.packHeader();\r\n\t\t\t\t\t\tentryHeaders.push(entryHeader);\r\n\t\t\t\t\t\tmainHeader.size += entryHeader.length;\r\n\t\t\t\t\t\ttotalSize += (dataLength + entryHeader.length);\r\n\r\n\t\t\t\t\t\tif (entryList.length) {\r\n\t\t\t\t\t\t\tself(entryList);\r\n\t\t\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\t\t\ttotalSize += mainHeader.mainHeaderSize; // also includes zip file comment length\r\n\t\t\t\t\t\t\t// point to end of data and beginning of central directory first record\r\n\t\t\t\t\t\t\tmainHeader.offset = dindex;\r\n\r\n\t\t\t\t\t\t\tdindex = 0;\r\n\t\t\t\t\t\t\tvar outBuffer = Buffer.alloc(totalSize);\r\n\t\t\t\t\t\t\tdataBlock.forEach(function (content) {\r\n\t\t\t\t\t\t\t\tcontent.copy(outBuffer, dindex); // write data blocks\r\n\t\t\t\t\t\t\t\tdindex += content.length;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tentryHeaders.forEach(function (content) {\r\n\t\t\t\t\t\t\t\tcontent.copy(outBuffer, dindex); // write central directory entries\r\n\t\t\t\t\t\t\t\tdindex += content.length;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tvar mh = mainHeader.toBinary();\r\n\t\t\t\t\t\t\tif (_comment) {\r\n\t\t\t\t\t\t\t\t_comment.copy(mh, Utils.Constants.ENDHDR); // add zip file comment\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tmh.copy(outBuffer, dindex); // write main header\r\n\r\n\t\t\t\t\t\t\tonSuccess(outBuffer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tcompress(entryList);\r\n\t\t}\r\n\t}\r\n};\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nconst picomatch = require('picomatch');\nconst normalizePath = require('normalize-path');\n\n/**\n * @typedef {(testString: string) => boolean} AnymatchFn\n * @typedef {string|RegExp|AnymatchFn} AnymatchPattern\n * @typedef {AnymatchPattern|AnymatchPattern[]} AnymatchMatcher\n */\nconst BANG = '!';\nconst DEFAULT_OPTIONS = {returnIndex: false};\nconst arrify = (item) => Array.isArray(item) ? item : [item];\n\n/**\n * @param {AnymatchPattern} matcher\n * @param {object} options\n * @returns {AnymatchFn}\n */\nconst createPattern = (matcher, options) => {\n  if (typeof matcher === 'function') {\n    return matcher;\n  }\n  if (typeof matcher === 'string') {\n    const glob = picomatch(matcher, options);\n    return (string) => matcher === string || glob(string);\n  }\n  if (matcher instanceof RegExp) {\n    return (string) => matcher.test(string);\n  }\n  return (string) => false;\n};\n\n/**\n * @param {Array<Function>} patterns\n * @param {Array<Function>} negPatterns\n * @param {String|Array} args\n * @param {Boolean} returnIndex\n * @returns {boolean|number}\n */\nconst matchPatterns = (patterns, negPatterns, args, returnIndex) => {\n  const isList = Array.isArray(args);\n  const _path = isList ? args[0] : args;\n  if (!isList && typeof _path !== 'string') {\n    throw new TypeError('anymatch: second argument must be a string: got ' +\n      Object.prototype.toString.call(_path))\n  }\n  const path = normalizePath(_path);\n\n  for (let index = 0; index < negPatterns.length; index++) {\n    const nglob = negPatterns[index];\n    if (nglob(path)) {\n      return returnIndex ? -1 : false;\n    }\n  }\n\n  const applied = isList && [path].concat(args.slice(1));\n  for (let index = 0; index < patterns.length; index++) {\n    const pattern = patterns[index];\n    if (isList ? pattern(...applied) : pattern(path)) {\n      return returnIndex ? index : true;\n    }\n  }\n\n  return returnIndex ? -1 : false;\n};\n\n/**\n * @param {AnymatchMatcher} matchers\n * @param {Array|string} testString\n * @param {object} options\n * @returns {boolean|number|Function}\n */\nconst anymatch = (matchers, testString, options = DEFAULT_OPTIONS) => {\n  if (matchers == null) {\n    throw new TypeError('anymatch: specify first argument');\n  }\n  const opts = typeof options === 'boolean' ? {returnIndex: options} : options;\n  const returnIndex = opts.returnIndex || false;\n\n  // Early cache for matchers.\n  const mtchers = arrify(matchers);\n  const negatedGlobs = mtchers\n    .filter(item => typeof item === 'string' && item.charAt(0) === BANG)\n    .map(item => item.slice(1))\n    .map(item => picomatch(item, opts));\n  const patterns = mtchers.map(matcher => createPattern(matcher, opts));\n\n  if (testString == null) {\n    return (testString, ri = false) => {\n      const returnIndex = typeof ri === 'boolean' ? ri : false;\n      return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\n    }\n  }\n\n  return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\n};\n\nanymatch.default = anymatch;\nmodule.exports = anymatch;\n","module.exports = r => {\n  const n = process.versions.node.split('.').map(x => parseInt(x, 10))\n  r = r.split('.').map(x => parseInt(x, 10))\n  return n[0] > r[0] || (n[0] === r[0] && (n[1] > r[1] || (n[1] === r[1] && n[2] >= r[2])))\n}\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","module.exports = require('./binary-extensions.json');\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (let pattern of input) {\n      let result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n","'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  let walk = (node, parent = {}) => {\n    let invalidBlock = utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let invalid = invalidBlock === true || invalidNode === true;\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n    if (node.isClose === true) {\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? (prefix + node.value) : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? (prefix + node.value) : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n      let range = fill(...args, { ...options, wrap: false, toRegex: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n","'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n","'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  let result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (let item of queue) {\n    if (Array.isArray(item)) {\n      for (let value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : (item + ele));\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\n\n  let walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    let enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n","'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  let opts = options || {};\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  let ast = { type: 'root', input, nodes: [] };\n  let stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  let length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n  let memo = {};\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let closed = true;\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      let open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      let brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      let type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        let open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      let siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        let before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      let parent = stack[stack.length - 1];\n      let index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  let stringify = (node, parent = {}) => {\n    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n","'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  let node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      let ele = arr[i];\n      Array.isArray(ele) ? flat(ele, result) : ele !== void 0 && result.push(ele);\n    }\n    return result;\n  };\n  flat(args);\n  return result;\n};\n","'use strict';\n\nconst { EventEmitter } = require('events');\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst readdirp = require('readdirp');\nconst anymatch = require('anymatch').default;\nconst globParent = require('glob-parent');\nconst isGlob = require('is-glob');\nconst braces = require('braces');\nconst normalizePath = require('normalize-path');\n\nconst NodeFsHandler = require('./lib/nodefs-handler');\nconst FsEventsHandler = require('./lib/fsevents-handler');\nconst {\n  EV_ALL,\n  EV_READY,\n  EV_ADD,\n  EV_CHANGE,\n  EV_UNLINK,\n  EV_ADD_DIR,\n  EV_UNLINK_DIR,\n  EV_RAW,\n  EV_ERROR,\n\n  STR_CLOSE,\n  STR_END,\n\n  BACK_SLASH_RE,\n  DOUBLE_SLASH_RE,\n  SLASH_OR_BACK_SLASH_RE,\n  DOT_RE,\n  REPLACER_RE,\n\n  SLASH,\n  SLASH_SLASH,\n  BRACE_START,\n  BANG,\n  ONE_DOT,\n  TWO_DOTS,\n  GLOBSTAR,\n  SLASH_GLOBSTAR,\n  ANYMATCH_OPTS,\n  STRING_TYPE,\n  FUNCTION_TYPE,\n  EMPTY_STR,\n  EMPTY_FN,\n\n  isWindows,\n  isMacos\n} = require('./lib/constants');\n\nconst stat = promisify(fs.stat);\nconst readdir = promisify(fs.readdir);\n\n/**\n * @typedef {String} Path\n * @typedef {'all'|'add'|'addDir'|'change'|'unlink'|'unlinkDir'|'raw'|'error'|'ready'} EventName\n * @typedef {'readdir'|'watch'|'add'|'remove'|'change'} ThrottleType\n */\n\n/**\n *\n * @typedef {Object} WatchHelpers\n * @property {Boolean} followSymlinks\n * @property {'stat'|'lstat'} statMethod\n * @property {Path} path\n * @property {Path} watchPath\n * @property {Function} entryPath\n * @property {Boolean} hasGlob\n * @property {Object} globFilter\n * @property {Function} filterPath\n * @property {Function} filterDir\n */\n\nconst arrify = (value = []) => Array.isArray(value) ? value : [value];\nconst flatten = (list, result = []) => {\n  list.forEach(item => {\n    if (Array.isArray(item)) {\n      flatten(item, result);\n    } else {\n      result.push(item);\n    }\n  });\n  return result;\n};\n\nconst unifyPaths = (paths_) => {\n  /**\n   * @type {Array<String>}\n   */\n  const paths = flatten(arrify(paths_));\n  if (!paths.every(p => typeof p === STRING_TYPE)) {\n    throw new TypeError(`Non-string provided as watch path: ${paths}`);\n  }\n  return paths.map(normalizePathToUnix);\n};\n\n// If SLASH_SLASH occurs at the beginning of path, it is not replaced\n//     because \"//StoragePC/DrivePool/Movies\" is a valid network path\nconst toUnix = (string) => {\n  let str = string.replace(BACK_SLASH_RE, SLASH);\n  let prepend = false;\n  if (str.startsWith(SLASH_SLASH)) {\n    prepend = true;\n  }\n  while (str.match(DOUBLE_SLASH_RE)) {\n    str = str.replace(DOUBLE_SLASH_RE, SLASH);\n  }\n  if (prepend) {\n    str = SLASH + str;\n  }\n  return str;\n};\n\n// Our version of upath.normalize\n// TODO: this is not equal to path-normalize module - investigate why\nconst normalizePathToUnix = (path) => toUnix(sysPath.normalize(toUnix(path)));\n\nconst normalizeIgnored = (cwd = EMPTY_STR) => (path) => {\n  if (typeof path !== STRING_TYPE) return path;\n  return normalizePathToUnix(sysPath.isAbsolute(path) ? path : sysPath.join(cwd, path));\n};\n\nconst getAbsolutePath = (path, cwd) => {\n  if (sysPath.isAbsolute(path)) {\n    return path;\n  }\n  if (path.startsWith(BANG)) {\n    return BANG + sysPath.join(cwd, path.slice(1));\n  }\n  return sysPath.join(cwd, path);\n};\n\nconst undef = (opts, key) => opts[key] === undefined;\n\n/**\n * Directory entry.\n * @property {Path} path\n * @property {Set<Path>} items\n */\nclass DirEntry {\n  /**\n   * @param {Path} dir\n   * @param {Function} removeWatcher\n   */\n  constructor(dir, removeWatcher) {\n    this.path = dir;\n    this._removeWatcher = removeWatcher;\n    /** @type {Set<Path>} */\n    this.items = new Set();\n  }\n\n  add(item) {\n    const {items} = this;\n    if (!items) return;\n    if (item !== ONE_DOT && item !== TWO_DOTS) items.add(item);\n  }\n\n  async remove(item) {\n    const {items} = this;\n    if (!items) return;\n    items.delete(item);\n    if (items.size > 0) return;\n\n    const dir = this.path;\n    try {\n      await readdir(dir);\n    } catch (err) {\n      if (this._removeWatcher) {\n        this._removeWatcher(sysPath.dirname(dir), sysPath.basename(dir));\n      }\n    }\n  }\n\n  has(item) {\n    const {items} = this;\n    if (!items) return;\n    return items.has(item);\n  }\n\n  /**\n   * @returns {Array<String>}\n   */\n  getChildren() {\n    const {items} = this;\n    if (!items) return;\n    return [...items.values()];\n  }\n\n  dispose() {\n    this.items.clear();\n    delete this.path;\n    delete this._removeWatcher;\n    delete this.items;\n    Object.freeze(this);\n  }\n}\n\nconst STAT_METHOD_F = 'stat';\nconst STAT_METHOD_L = 'lstat';\nclass WatchHelper {\n  constructor(path, watchPath, follow, fsw) {\n    this.fsw = fsw;\n    this.path = path = path.replace(REPLACER_RE, EMPTY_STR);\n    this.watchPath = watchPath;\n    this.fullWatchPath = sysPath.resolve(watchPath);\n    this.hasGlob = watchPath !== path;\n    /** @type {object|boolean} */\n    if (path === EMPTY_STR) this.hasGlob = false;\n    this.globSymlink = this.hasGlob && follow ? undefined : false;\n    this.globFilter = this.hasGlob ? anymatch(path, undefined, ANYMATCH_OPTS) : false;\n    this.dirParts = this.getDirParts(path);\n    this.dirParts.forEach((parts) => {\n      if (parts.length > 1) parts.pop();\n    });\n    this.followSymlinks = follow;\n    this.statMethod = follow ? STAT_METHOD_F : STAT_METHOD_L;\n  }\n\n  checkGlobSymlink(entry) {\n    // only need to resolve once\n    // first entry should always have entry.parentDir === EMPTY_STR\n    if (this.globSymlink === undefined) {\n      this.globSymlink = entry.fullParentDir === this.fullWatchPath ?\n        false : {realPath: entry.fullParentDir, linkPath: this.fullWatchPath};\n    }\n\n    if (this.globSymlink) {\n      return entry.fullPath.replace(this.globSymlink.realPath, this.globSymlink.linkPath);\n    }\n\n    return entry.fullPath;\n  }\n\n  entryPath(entry) {\n    return sysPath.join(this.watchPath,\n      sysPath.relative(this.watchPath, this.checkGlobSymlink(entry))\n    );\n  }\n\n  filterPath(entry) {\n    const {stats} = entry;\n    if (stats && stats.isSymbolicLink()) return this.filterDir(entry);\n    const resolvedPath = this.entryPath(entry);\n    const matchesGlob = this.hasGlob && typeof this.globFilter === FUNCTION_TYPE ?\n      this.globFilter(resolvedPath) : true;\n    return matchesGlob &&\n      this.fsw._isntIgnored(resolvedPath, stats) &&\n      this.fsw._hasReadPermissions(stats);\n  }\n\n  getDirParts(path) {\n    if (!this.hasGlob) return [];\n    const parts = [];\n    const expandedPath = path.includes(BRACE_START) ? braces.expand(path) : [path];\n    expandedPath.forEach((path) => {\n      parts.push(sysPath.relative(this.watchPath, path).split(SLASH_OR_BACK_SLASH_RE));\n    });\n    return parts;\n  }\n\n  filterDir(entry) {\n    if (this.hasGlob) {\n      const entryParts = this.getDirParts(this.checkGlobSymlink(entry));\n      let globstar = false;\n      this.unmatchedGlob = !this.dirParts.some((parts) => {\n        return parts.every((part, i) => {\n          if (part === GLOBSTAR) globstar = true;\n          return globstar || !entryParts[0][i] || anymatch(part, entryParts[0][i], ANYMATCH_OPTS);\n        });\n      });\n    }\n    return !this.unmatchedGlob && this.fsw._isntIgnored(this.entryPath(entry), entry.stats);\n  }\n}\n\n/**\n * Watches files & directories for changes. Emitted events:\n * `add`, `addDir`, `change`, `unlink`, `unlinkDir`, `all`, `error`\n *\n *     new FSWatcher()\n *       .add(directories)\n *       .on('add', path => log('File', path, 'was added'))\n */\nclass FSWatcher extends EventEmitter {\n// Not indenting methods for history sake; for now.\nconstructor(_opts) {\n  super();\n\n  const opts = {};\n  if (_opts) Object.assign(opts, _opts); // for frozen objects\n\n  /** @type {Map<String, DirEntry>} */\n  this._watched = new Map();\n  /** @type {Map<String, Array>} */\n  this._closers = new Map();\n  /** @type {Set<String>} */\n  this._ignoredPaths = new Set();\n\n  /** @type {Map<ThrottleType, Map>} */\n  this._throttled = new Map();\n\n  /** @type {Map<Path, String|Boolean>} */\n  this._symlinkPaths = new Map();\n\n  this._streams = new Set();\n  this.closed = false;\n\n  // Set up default options.\n  if (undef(opts, 'persistent')) opts.persistent = true;\n  if (undef(opts, 'ignoreInitial')) opts.ignoreInitial = false;\n  if (undef(opts, 'ignorePermissionErrors')) opts.ignorePermissionErrors = false;\n  if (undef(opts, 'interval')) opts.interval = 100;\n  if (undef(opts, 'binaryInterval')) opts.binaryInterval = 300;\n  if (undef(opts, 'disableGlobbing')) opts.disableGlobbing = false;\n  opts.enableBinaryInterval = opts.binaryInterval !== opts.interval;\n\n  // Enable fsevents on OS X when polling isn't explicitly enabled.\n  if (undef(opts, 'useFsEvents')) opts.useFsEvents = !opts.usePolling;\n\n  // If we can't use fsevents, ensure the options reflect it's disabled.\n  const canUseFsEvents = FsEventsHandler.canUse();\n  if (!canUseFsEvents) opts.useFsEvents = false;\n\n  // Use polling on Mac if not using fsevents.\n  // Other platforms use non-polling fs_watch.\n  if (undef(opts, 'usePolling') && !opts.useFsEvents) {\n    opts.usePolling = isMacos;\n  }\n\n  // Global override (useful for end-developers that need to force polling for all\n  // instances of chokidar, regardless of usage/dependency depth)\n  const envPoll = process.env.CHOKIDAR_USEPOLLING;\n  if (envPoll !== undefined) {\n    const envLower = envPoll.toLowerCase();\n\n    if (envLower === 'false' || envLower === '0') {\n      opts.usePolling = false;\n    } else if (envLower === 'true' || envLower === '1') {\n      opts.usePolling = true;\n    } else {\n      opts.usePolling = !!envLower;\n    }\n  }\n  const envInterval = process.env.CHOKIDAR_INTERVAL;\n  if (envInterval) {\n    opts.interval = Number.parseInt(envInterval, 10);\n  }\n\n  // Editor atomic write normalization enabled by default with fs.watch\n  if (undef(opts, 'atomic')) opts.atomic = !opts.usePolling && !opts.useFsEvents;\n  if (opts.atomic) this._pendingUnlinks = new Map();\n\n  if (undef(opts, 'followSymlinks')) opts.followSymlinks = true;\n\n  if (undef(opts, 'awaitWriteFinish')) opts.awaitWriteFinish = false;\n  if (opts.awaitWriteFinish === true) opts.awaitWriteFinish = {};\n  const awf = opts.awaitWriteFinish;\n  if (awf) {\n    if (!awf.stabilityThreshold) awf.stabilityThreshold = 2000;\n    if (!awf.pollInterval) awf.pollInterval = 100;\n    this._pendingWrites = new Map();\n  }\n  if (opts.ignored) opts.ignored = arrify(opts.ignored);\n\n  let readyCalls = 0;\n  this._emitReady = () => {\n    readyCalls++;\n    if (readyCalls >= this._readyCount) {\n      this._emitReady = EMPTY_FN;\n      this._readyEmitted = true;\n      // use process.nextTick to allow time for listener to be bound\n      process.nextTick(() => this.emit(EV_READY));\n    }\n  };\n  this._emitRaw = (...args) => this.emit(EV_RAW, ...args);\n  this._readyEmitted = false;\n  this.options = opts;\n\n  // Initialize with proper watcher.\n  if (opts.useFsEvents) {\n    this._fsEventsHandler = new FsEventsHandler(this);\n  } else {\n    this._nodeFsHandler = new NodeFsHandler(this);\n  }\n\n  // You’re frozen when your heart’s not open.\n  Object.freeze(opts);\n}\n\n// Public methods\n\n/**\n * Adds paths to be watched on an existing FSWatcher instance\n * @param {Path|Array<Path>} paths_\n * @param {String=} _origAdd private; for handling non-existent paths to be watched\n * @param {Boolean=} _internal private; indicates a non-user add\n * @returns {FSWatcher} for chaining\n */\nadd(paths_, _origAdd, _internal) {\n  const {cwd, disableGlobbing} = this.options;\n  this.closed = false;\n  let paths = unifyPaths(paths_);\n  if (cwd) {\n    paths = paths.map((path) => {\n      const absPath = getAbsolutePath(path, cwd);\n\n      // Check `path` instead of `absPath` because the cwd portion can't be a glob\n      if (disableGlobbing || !isGlob(path)) {\n        return absPath;\n      }\n      return normalizePath(absPath);\n    });\n  }\n\n  // set aside negated glob strings\n  paths = paths.filter((path) => {\n    if (path.startsWith(BANG)) {\n      this._ignoredPaths.add(path.slice(1));\n      return false;\n    }\n\n    // if a path is being added that was previously ignored, stop ignoring it\n    this._ignoredPaths.delete(path);\n    this._ignoredPaths.delete(path + SLASH_GLOBSTAR);\n\n    // reset the cached userIgnored anymatch fn\n    // to make ignoredPaths changes effective\n    this._userIgnored = undefined;\n\n    return true;\n  });\n\n  if (this.options.useFsEvents && this._fsEventsHandler) {\n    if (!this._readyCount) this._readyCount = paths.length;\n    if (this.options.persistent) this._readyCount *= 2;\n    paths.forEach((path) => this._fsEventsHandler._addToFsEvents(path));\n  } else {\n    if (!this._readyCount) this._readyCount = 0;\n    this._readyCount += paths.length;\n    Promise.all(\n      paths.map(async path => {\n        const res = await this._nodeFsHandler._addToNodeFs(path, !_internal, 0, 0, _origAdd);\n        if (res) this._emitReady();\n        return res;\n      })\n    ).then(results => {\n      if (this.closed) return;\n      results.filter(item => item).forEach(item => {\n        this.add(sysPath.dirname(item), sysPath.basename(_origAdd || item));\n      });\n    });\n  }\n\n  return this;\n}\n\n/**\n * Close watchers or start ignoring events from specified paths.\n * @param {Path|Array<Path>} paths_ - string or array of strings, file/directory paths and/or globs\n * @returns {FSWatcher} for chaining\n*/\nunwatch(paths_) {\n  if (this.closed) return this;\n  const paths = unifyPaths(paths_);\n  const {cwd} = this.options;\n\n  paths.forEach((path) => {\n    // convert to absolute path unless relative path already matches\n    if (!sysPath.isAbsolute(path) && !this._closers.has(path)) {\n      if (cwd) path = sysPath.join(cwd, path);\n      path = sysPath.resolve(path);\n    }\n\n    this._closePath(path);\n\n    this._ignoredPaths.add(path);\n    if (this._watched.has(path)) {\n      this._ignoredPaths.add(path + SLASH_GLOBSTAR);\n    }\n\n    // reset the cached userIgnored anymatch fn\n    // to make ignoredPaths changes effective\n    this._userIgnored = undefined;\n  });\n\n  return this;\n}\n\n/**\n * Close watchers and remove all listeners from watched paths.\n * @returns {Promise<void>}.\n*/\nclose() {\n  if (this.closed) return this._closePromise;\n  this.closed = true;\n\n  // Memory management.\n  this.removeAllListeners();\n  const closers = [];\n  this._closers.forEach(closerList => closerList.forEach(closer => {\n    const promise = closer();\n    if (promise instanceof Promise) closers.push(promise);\n  }));\n  this._streams.forEach(stream => stream.destroy());\n  this._userIgnored = undefined;\n  this._readyCount = 0;\n  this._readyEmitted = false;\n  this._watched.forEach(dirent => dirent.dispose());\n  ['closers', 'watched', 'streams', 'symlinkPaths', 'throttled'].forEach(key => {\n    this[`_${key}`].clear();\n  });\n\n  this._closePromise = closers.length ? Promise.all(closers).then(() => undefined) : Promise.resolve();\n  return this._closePromise;\n}\n\n/**\n * Expose list of watched paths\n * @returns {Object} for chaining\n*/\ngetWatched() {\n  const watchList = {};\n  this._watched.forEach((entry, dir) => {\n    const key = this.options.cwd ? sysPath.relative(this.options.cwd, dir) : dir;\n    watchList[key || ONE_DOT] = entry.getChildren().sort();\n  });\n  return watchList;\n}\n\nemitWithAll(event, args) {\n  this.emit(...args);\n  if (event !== EV_ERROR) this.emit(EV_ALL, ...args);\n}\n\n// Common helpers\n// --------------\n\n/**\n * Normalize and emit events.\n * Calling _emit DOES NOT MEAN emit() would be called!\n * @param {EventName} event Type of event\n * @param {Path} path File or directory path\n * @param {*=} val1 arguments to be passed with event\n * @param {*=} val2\n * @param {*=} val3\n * @returns the error if defined, otherwise the value of the FSWatcher instance's `closed` flag\n */\nasync _emit(event, path, val1, val2, val3) {\n  if (this.closed) return;\n\n  const opts = this.options;\n  if (isWindows) path = sysPath.normalize(path);\n  if (opts.cwd) path = sysPath.relative(opts.cwd, path);\n  /** @type Array<any> */\n  const args = [event, path];\n  if (val3 !== undefined) args.push(val1, val2, val3);\n  else if (val2 !== undefined) args.push(val1, val2);\n  else if (val1 !== undefined) args.push(val1);\n\n  const awf = opts.awaitWriteFinish;\n  let pw;\n  if (awf && (pw = this._pendingWrites.get(path))) {\n    pw.lastChange = new Date();\n    return this;\n  }\n\n  if (opts.atomic) {\n    if (event === EV_UNLINK) {\n      this._pendingUnlinks.set(path, args);\n      setTimeout(() => {\n        this._pendingUnlinks.forEach((entry, path) => {\n          this.emit(...entry);\n          this.emit(EV_ALL, ...entry);\n          this._pendingUnlinks.delete(path);\n        });\n      }, typeof opts.atomic === 'number' ? opts.atomic : 100);\n      return this;\n    }\n    if (event === EV_ADD && this._pendingUnlinks.has(path)) {\n      event = args[0] = EV_CHANGE;\n      this._pendingUnlinks.delete(path);\n    }\n  }\n\n  if (awf && (event === EV_ADD || event === EV_CHANGE) && this._readyEmitted) {\n    const awfEmit = (err, stats) => {\n      if (err) {\n        event = args[0] = EV_ERROR;\n        args[1] = err;\n        this.emitWithAll(event, args);\n      } else if (stats) {\n        // if stats doesn't exist the file must have been deleted\n        if (args.length > 2) {\n          args[2] = stats;\n        } else {\n          args.push(stats);\n        }\n        this.emitWithAll(event, args);\n      }\n    };\n\n    this._awaitWriteFinish(path, awf.stabilityThreshold, event, awfEmit);\n    return this;\n  }\n\n  if (event === EV_CHANGE) {\n    const isThrottled = !this._throttle(EV_CHANGE, path, 50);\n    if (isThrottled) return this;\n  }\n\n  if (opts.alwaysStat && val1 === undefined &&\n    (event === EV_ADD || event === EV_ADD_DIR || event === EV_CHANGE)\n  ) {\n    const fullPath = opts.cwd ? sysPath.join(opts.cwd, path) : path;\n    let stats;\n    try {\n      stats = await stat(fullPath);\n    } catch (err) {}\n    // Suppress event when fs_stat fails, to avoid sending undefined 'stat'\n    if (!stats || this.closed) return;\n    args.push(stats);\n  }\n  this.emitWithAll(event, args);\n\n  return this;\n}\n\n/**\n * Common handler for errors\n * @param {Error} error\n * @returns {Error|Boolean} The error if defined, otherwise the value of the FSWatcher instance's `closed` flag\n */\n_handleError(error) {\n  const code = error && error.code;\n  if (error && code !== 'ENOENT' && code !== 'ENOTDIR' &&\n    (!this.options.ignorePermissionErrors || (code !== 'EPERM' && code !== 'EACCES'))\n  ) {\n    this.emit(EV_ERROR, error);\n  }\n  return error || this.closed;\n}\n\n/**\n * Helper utility for throttling\n * @param {ThrottleType} actionType type being throttled\n * @param {Path} path being acted upon\n * @param {Number} timeout duration of time to suppress duplicate actions\n * @returns {Object|false} tracking object or false if action should be suppressed\n */\n_throttle(actionType, path, timeout) {\n  if (!this._throttled.has(actionType)) {\n    this._throttled.set(actionType, new Map());\n  }\n\n  /** @type {Map<Path, Object>} */\n  const action = this._throttled.get(actionType);\n  /** @type {Object} */\n  const actionPath = action.get(path);\n\n  if (actionPath) {\n    actionPath.count++;\n    return false;\n  }\n\n  let timeoutObject;\n  const clear = () => {\n    const item = action.get(path);\n    const count = item ? item.count : 0;\n    action.delete(path);\n    clearTimeout(timeoutObject);\n    if (item) clearTimeout(item.timeoutObject);\n    return count;\n  };\n  timeoutObject = setTimeout(clear, timeout);\n  const thr = {timeoutObject, clear, count: 0};\n  action.set(path, thr);\n  return thr;\n}\n\n_incrReadyCount() {\n  return this._readyCount++;\n}\n\n/**\n * Awaits write operation to finish.\n * Polls a newly created file for size variations. When files size does not change for 'threshold' milliseconds calls callback.\n * @param {Path} path being acted upon\n * @param {Number} threshold Time in milliseconds a file size must be fixed before acknowledging write OP is finished\n * @param {EventName} event\n * @param {Function} awfEmit Callback to be called when ready for event to be emitted.\n */\n_awaitWriteFinish(path, threshold, event, awfEmit) {\n  let timeoutHandler;\n\n  let fullPath = path;\n  if (this.options.cwd && !sysPath.isAbsolute(path)) {\n    fullPath = sysPath.join(this.options.cwd, path);\n  }\n\n  const now = new Date();\n\n  const awaitWriteFinish = (prevStat) => {\n    fs.stat(fullPath, (err, curStat) => {\n      if (err || !this._pendingWrites.has(path)) {\n        if (err && err.code !== 'ENOENT') awfEmit(err);\n        return;\n      }\n\n      const now = Number(new Date());\n\n      if (prevStat && curStat.size !== prevStat.size) {\n        this._pendingWrites.get(path).lastChange = now;\n      }\n      const pw = this._pendingWrites.get(path);\n      const df = now - pw.lastChange;\n\n      if (df >= threshold) {\n        this._pendingWrites.delete(path);\n        awfEmit(undefined, curStat);\n      } else {\n        timeoutHandler = setTimeout(\n          awaitWriteFinish,\n          this.options.awaitWriteFinish.pollInterval,\n          curStat\n        );\n      }\n    });\n  };\n\n  if (!this._pendingWrites.has(path)) {\n    this._pendingWrites.set(path, {\n      lastChange: now,\n      cancelWait: () => {\n        this._pendingWrites.delete(path);\n        clearTimeout(timeoutHandler);\n        return event;\n      }\n    });\n    timeoutHandler = setTimeout(\n      awaitWriteFinish,\n      this.options.awaitWriteFinish.pollInterval\n    );\n  }\n}\n\n_getGlobIgnored() {\n  return [...this._ignoredPaths.values()];\n}\n\n/**\n * Determines whether user has asked to ignore this path.\n * @param {Path} path filepath or dir\n * @param {fs.Stats=} stats result of fs.stat\n * @returns {Boolean}\n */\n_isIgnored(path, stats) {\n  if (this.options.atomic && DOT_RE.test(path)) return true;\n  if (!this._userIgnored) {\n    const {cwd} = this.options;\n    const ign = this.options.ignored;\n\n    const ignored = ign && ign.map(normalizeIgnored(cwd));\n    const paths = arrify(ignored)\n      .filter((path) => typeof path === STRING_TYPE && !isGlob(path))\n      .map((path) => path + SLASH_GLOBSTAR);\n    const list = this._getGlobIgnored().map(normalizeIgnored(cwd)).concat(ignored, paths);\n    this._userIgnored = anymatch(list, undefined, ANYMATCH_OPTS);\n  }\n\n  return this._userIgnored([path, stats]);\n}\n\n_isntIgnored(path, stat) {\n  return !this._isIgnored(path, stat);\n}\n\n/**\n * Provides a set of common helpers and properties relating to symlink and glob handling.\n * @param {Path} path file, directory, or glob pattern being watched\n * @param {Number=} depth at any depth > 0, this isn't a glob\n * @returns {WatchHelper} object containing helpers for this path\n */\n_getWatchHelpers(path, depth) {\n  const watchPath = depth || this.options.disableGlobbing || !isGlob(path) ? path : globParent(path);\n  const follow = this.options.followSymlinks;\n\n  return new WatchHelper(path, watchPath, follow, this);\n}\n\n// Directory helpers\n// -----------------\n\n/**\n * Provides directory tracking objects\n * @param {String} directory path of the directory\n * @returns {DirEntry} the directory's tracking object\n */\n_getWatchedDir(directory) {\n  if (!this._boundRemove) this._boundRemove = this._remove.bind(this);\n  const dir = sysPath.resolve(directory);\n  if (!this._watched.has(dir)) this._watched.set(dir, new DirEntry(dir, this._boundRemove));\n  return this._watched.get(dir);\n}\n\n// File helpers\n// ------------\n\n/**\n * Check for read permissions.\n * Based on this answer on SO: https://stackoverflow.com/a/11781404/1358405\n * @param {fs.Stats} stats - object, result of fs_stat\n * @returns {Boolean} indicates whether the file can be read\n*/\n_hasReadPermissions(stats) {\n  if (this.options.ignorePermissionErrors) return true;\n\n  // stats.mode may be bigint\n  const md = stats && Number.parseInt(stats.mode, 10);\n  const st = md & 0o777;\n  const it = Number.parseInt(st.toString(8)[0], 10);\n  return Boolean(4 & it);\n}\n\n/**\n * Handles emitting unlink events for\n * files and directories, and via recursion, for\n * files and directories within directories that are unlinked\n * @param {String} directory within which the following item is located\n * @param {String} item      base path of item/directory\n * @returns {void}\n*/\n_remove(directory, item, isDirectory) {\n  // if what is being deleted is a directory, get that directory's paths\n  // for recursive deleting and cleaning of watched object\n  // if it is not a directory, nestedDirectoryChildren will be empty array\n  const path = sysPath.join(directory, item);\n  const fullPath = sysPath.resolve(path);\n  isDirectory = isDirectory != null\n    ? isDirectory\n    : this._watched.has(path) || this._watched.has(fullPath);\n\n  // prevent duplicate handling in case of arriving here nearly simultaneously\n  // via multiple paths (such as _handleFile and _handleDir)\n  if (!this._throttle('remove', path, 100)) return;\n\n  // if the only watched file is removed, watch for its return\n  if (!isDirectory && !this.options.useFsEvents && this._watched.size === 1) {\n    this.add(directory, item, true);\n  }\n\n  // This will create a new entry in the watched object in either case\n  // so we got to do the directory check beforehand\n  const wp = this._getWatchedDir(path);\n  const nestedDirectoryChildren = wp.getChildren();\n\n  // Recursively remove children directories / files.\n  nestedDirectoryChildren.forEach(nested => this._remove(path, nested));\n\n  // Check if item was on the watched list and remove it\n  const parent = this._getWatchedDir(directory);\n  const wasTracked = parent.has(item);\n  parent.remove(item);\n\n  // Fixes issue #1042 -> Relative paths were detected and added as symlinks\n  // (https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L612),\n  // but never removed from the map in case the path was deleted.\n  // This leads to an incorrect state if the path was recreated:\n  // https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L553\n  if (this._symlinkPaths.has(fullPath)) {\n    this._symlinkPaths.delete(fullPath);\n  }\n\n  // If we wait for this file to be fully written, cancel the wait.\n  let relPath = path;\n  if (this.options.cwd) relPath = sysPath.relative(this.options.cwd, path);\n  if (this.options.awaitWriteFinish && this._pendingWrites.has(relPath)) {\n    const event = this._pendingWrites.get(relPath).cancelWait();\n    if (event === EV_ADD) return;\n  }\n\n  // The Entry will either be a directory that just got removed\n  // or a bogus entry to a file, in either case we have to remove it\n  this._watched.delete(path);\n  this._watched.delete(fullPath);\n  const eventName = isDirectory ? EV_UNLINK_DIR : EV_UNLINK;\n  if (wasTracked && !this._isIgnored(path)) this._emit(eventName, path);\n\n  // Avoid conflicts if we later create another file with the same name\n  if (!this.options.useFsEvents) {\n    this._closePath(path);\n  }\n}\n\n/**\n * Closes all watchers for a path\n * @param {Path} path\n */\n_closePath(path) {\n  this._closeFile(path)\n  const dir = sysPath.dirname(path);\n  this._getWatchedDir(dir).remove(sysPath.basename(path));\n}\n\n/**\n * Closes only file-specific watchers\n * @param {Path} path\n */\n_closeFile(path) {\n  const closers = this._closers.get(path);\n  if (!closers) return;\n  closers.forEach(closer => closer());\n  this._closers.delete(path);\n}\n\n/**\n *\n * @param {Path} path\n * @param {Function} closer\n */\n_addPathCloser(path, closer) {\n  if (!closer) return;\n  let list = this._closers.get(path);\n  if (!list) {\n    list = [];\n    this._closers.set(path, list);\n  }\n  list.push(closer);\n}\n\n_readdirp(root, opts) {\n  if (this.closed) return;\n  const options = {type: EV_ALL, alwaysStat: true, lstat: true, ...opts};\n  let stream = readdirp(root, options);\n  this._streams.add(stream);\n  stream.once(STR_CLOSE, () => {\n    stream = undefined;\n  });\n  stream.once(STR_END, () => {\n    if (stream) {\n      this._streams.delete(stream);\n      stream = undefined;\n    }\n  });\n  return stream;\n}\n\n}\n\n// Export FSWatcher class\nexports.FSWatcher = FSWatcher;\n\n/**\n * Instantiates watcher with paths to be tracked.\n * @param {String|Array<String>} paths file/directory paths and/or globs\n * @param {Object=} options chokidar opts\n * @returns an instance of FSWatcher for chaining.\n */\nconst watch = (paths, options) => {\n  const watcher = new FSWatcher(options);\n  watcher.add(paths);\n  return watcher;\n};\n\nexports.watch = watch;\n","'use strict';\n\nconst {sep} = require('path');\nconst {platform} = process;\n\nexports.EV_ALL = 'all';\nexports.EV_READY = 'ready';\nexports.EV_ADD = 'add';\nexports.EV_CHANGE = 'change';\nexports.EV_ADD_DIR = 'addDir';\nexports.EV_UNLINK = 'unlink';\nexports.EV_UNLINK_DIR = 'unlinkDir';\nexports.EV_RAW = 'raw';\nexports.EV_ERROR = 'error';\n\nexports.STR_DATA = 'data';\nexports.STR_END = 'end';\nexports.STR_CLOSE = 'close';\n\nexports.FSEVENT_CREATED = 'created';\nexports.FSEVENT_MODIFIED = 'modified';\nexports.FSEVENT_DELETED = 'deleted';\nexports.FSEVENT_MOVED = 'moved';\nexports.FSEVENT_CLONED = 'cloned';\nexports.FSEVENT_UNKNOWN = 'unknown';\nexports.FSEVENT_TYPE_FILE = 'file';\nexports.FSEVENT_TYPE_DIRECTORY = 'directory';\nexports.FSEVENT_TYPE_SYMLINK = 'symlink';\n\nexports.KEY_LISTENERS = 'listeners';\nexports.KEY_ERR = 'errHandlers';\nexports.KEY_RAW = 'rawEmitters';\nexports.HANDLER_KEYS = [exports.KEY_LISTENERS, exports.KEY_ERR, exports.KEY_RAW];\n\nexports.DOT_SLASH = `.${sep}`;\n\nexports.BACK_SLASH_RE = /\\\\/g;\nexports.DOUBLE_SLASH_RE = /\\/\\//;\nexports.SLASH_OR_BACK_SLASH_RE = /[/\\\\]/;\nexports.DOT_RE = /\\..*\\.(sw[px])$|~$|\\.subl.*\\.tmp/;\nexports.REPLACER_RE = /^\\.[/\\\\]/;\n\nexports.SLASH = '/';\nexports.SLASH_SLASH = '//';\nexports.BRACE_START = '{';\nexports.BANG = '!';\nexports.ONE_DOT = '.';\nexports.TWO_DOTS = '..';\nexports.STAR = '*';\nexports.GLOBSTAR = '**';\nexports.ROOT_GLOBSTAR = '/**/*';\nexports.SLASH_GLOBSTAR = '/**';\nexports.DIR_SUFFIX = 'Dir';\nexports.ANYMATCH_OPTS = {dot: true};\nexports.STRING_TYPE = 'string';\nexports.FUNCTION_TYPE = 'function';\nexports.EMPTY_STR = '';\nexports.EMPTY_FN = () => {};\nexports.IDENTITY_FN = val => val;\n\nexports.isWindows = platform === 'win32';\nexports.isMacos = platform === 'darwin';\nexports.isLinux = platform === 'linux';\n","'use strict';\n\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\n\nlet fsevents;\ntry {\n  fsevents = require('fsevents');\n} catch (error) {\n  if (process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR) console.error(error);\n}\n\nif (fsevents) {\n  // TODO: real check\n  const mtch = process.version.match(/v(\\d+)\\.(\\d+)/);\n  if (mtch && mtch[1] && mtch[2]) {\n    const maj = Number.parseInt(mtch[1], 10);\n    const min = Number.parseInt(mtch[2], 10);\n    if (maj === 8 && min < 16) {\n      fsevents = undefined;\n    }\n  }\n}\n\nconst {\n  EV_ADD,\n  EV_CHANGE,\n  EV_ADD_DIR,\n  EV_UNLINK,\n  EV_ERROR,\n  STR_DATA,\n  STR_END,\n  FSEVENT_CREATED,\n  FSEVENT_MODIFIED,\n  FSEVENT_DELETED,\n  FSEVENT_MOVED,\n  // FSEVENT_CLONED,\n  FSEVENT_UNKNOWN,\n  FSEVENT_TYPE_FILE,\n  FSEVENT_TYPE_DIRECTORY,\n  FSEVENT_TYPE_SYMLINK,\n\n  ROOT_GLOBSTAR,\n  DIR_SUFFIX,\n  DOT_SLASH,\n  FUNCTION_TYPE,\n  EMPTY_FN,\n  IDENTITY_FN\n} = require('./constants');\n\nconst Depth = (value) => isNaN(value) ? {} : {depth: value};\n\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst realpath = promisify(fs.realpath);\n\nconst statMethods = { stat, lstat };\n\n/**\n * @typedef {String} Path\n */\n\n/**\n * @typedef {Object} FsEventsWatchContainer\n * @property {Set<Function>} listeners\n * @property {Function} rawEmitter\n * @property {{stop: Function}} watcher\n */\n\n// fsevents instance helper functions\n/**\n * Object to hold per-process fsevents instances (may be shared across chokidar FSWatcher instances)\n * @type {Map<Path,FsEventsWatchContainer>}\n */\nconst FSEventsWatchers = new Map();\n\n// Threshold of duplicate path prefixes at which to start\n// consolidating going forward\nconst consolidateThreshhold = 10;\n\nconst wrongEventFlags = new Set([\n  69888, 70400, 71424, 72704, 73472, 131328, 131840, 262912\n]);\n\n/**\n * Instantiates the fsevents interface\n * @param {Path} path path to be watched\n * @param {Function} callback called when fsevents is bound and ready\n * @returns {{stop: Function}} new fsevents instance\n */\nconst createFSEventsInstance = (path, callback) => {\n  const stop = fsevents.watch(path, callback);\n  return {stop};\n};\n\n/**\n * Instantiates the fsevents interface or binds listeners to an existing one covering\n * the same file tree.\n * @param {Path} path           - to be watched\n * @param {Path} realPath       - real path for symlinks\n * @param {Function} listener   - called when fsevents emits events\n * @param {Function} rawEmitter - passes data to listeners of the 'raw' event\n * @returns {Function} closer\n */\nfunction setFSEventsListener(path, realPath, listener, rawEmitter) {\n  let watchPath = sysPath.extname(path) ? sysPath.dirname(path) : path;\n  const parentPath = sysPath.dirname(watchPath);\n  let cont = FSEventsWatchers.get(watchPath);\n\n  // If we've accumulated a substantial number of paths that\n  // could have been consolidated by watching one directory\n  // above the current one, create a watcher on the parent\n  // path instead, so that we do consolidate going forward.\n  if (couldConsolidate(parentPath)) {\n    watchPath = parentPath;\n  }\n\n  const resolvedPath = sysPath.resolve(path);\n  const hasSymlink = resolvedPath !== realPath;\n\n  const filteredListener = (fullPath, flags, info) => {\n    if (hasSymlink) fullPath = fullPath.replace(realPath, resolvedPath);\n    if (\n      fullPath === resolvedPath ||\n      !fullPath.indexOf(resolvedPath + sysPath.sep)\n    ) listener(fullPath, flags, info);\n  };\n\n  // check if there is already a watcher on a parent path\n  // modifies `watchPath` to the parent path when it finds a match\n  let watchedParent = false;\n  for (const watchedPath of FSEventsWatchers.keys()) {\n    if (realPath.indexOf(sysPath.resolve(watchedPath) + sysPath.sep) === 0) {\n      watchPath = watchedPath;\n      cont = FSEventsWatchers.get(watchPath);\n      watchedParent = true;\n      break;\n    }\n  }\n\n  if (cont || watchedParent) {\n    cont.listeners.add(filteredListener);\n  } else {\n    cont = {\n      listeners: new Set([filteredListener]),\n      rawEmitter,\n      watcher: createFSEventsInstance(watchPath, (fullPath, flags) => {\n        if (!cont.listeners.size) return;\n        const info = fsevents.getInfo(fullPath, flags);\n        cont.listeners.forEach(list => {\n          list(fullPath, flags, info);\n        });\n\n        cont.rawEmitter(info.event, fullPath, info);\n      })\n    };\n    FSEventsWatchers.set(watchPath, cont);\n  }\n\n  // removes this instance's listeners and closes the underlying fsevents\n  // instance if there are no more listeners left\n  return () => {\n    const lst = cont.listeners;\n\n    lst.delete(filteredListener);\n    if (!lst.size) {\n      FSEventsWatchers.delete(watchPath);\n      if (cont.watcher) return cont.watcher.stop().then(() => {\n        cont.rawEmitter = cont.watcher = undefined;\n        Object.freeze(cont);\n      });\n    }\n  };\n}\n\n// Decide whether or not we should start a new higher-level\n// parent watcher\nconst couldConsolidate = (path) => {\n  let count = 0;\n  for (const watchPath of FSEventsWatchers.keys()) {\n    if (watchPath.indexOf(path) === 0) {\n      count++;\n      if (count >= consolidateThreshhold) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\n// returns boolean indicating whether fsevents can be used\nconst canUse = () => fsevents && FSEventsWatchers.size < 128;\n\n// determines subdirectory traversal levels from root to path\nconst calcDepth = (path, root) => {\n  let i = 0;\n  while (!path.indexOf(root) && (path = sysPath.dirname(path)) !== root) i++;\n  return i;\n};\n\n// returns boolean indicating whether the fsevents' event info has the same type\n// as the one returned by fs.stat\nconst sameTypes = (info, stats) => (\n  info.type === FSEVENT_TYPE_DIRECTORY && stats.isDirectory() ||\n  info.type === FSEVENT_TYPE_SYMLINK && stats.isSymbolicLink() ||\n  info.type === FSEVENT_TYPE_FILE && stats.isFile()\n)\n\n/**\n * @mixin\n */\nclass FsEventsHandler {\n\n/**\n * @param {import('../index').FSWatcher} fsw\n */\nconstructor(fsw) {\n  this.fsw = fsw;\n}\ncheckIgnored(path, stats) {\n  const ipaths = this.fsw._ignoredPaths;\n  if (this.fsw._isIgnored(path, stats)) {\n    ipaths.add(path);\n    if (stats && stats.isDirectory()) {\n      ipaths.add(path + ROOT_GLOBSTAR);\n    }\n    return true;\n  }\n\n  ipaths.delete(path);\n  ipaths.delete(path + ROOT_GLOBSTAR);\n}\n\naddOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  const event = watchedDir.has(item) ? EV_CHANGE : EV_ADD;\n  this.handleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n}\n\nasync checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  try {\n    const stats = await stat(path)\n    if (this.fsw.closed) return;\n    if (sameTypes(info, stats)) {\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    } else {\n      this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    }\n  } catch (error) {\n    if (error.code === 'EACCES') {\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    } else {\n      this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    }\n  }\n}\n\nhandleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  if (this.fsw.closed || this.checkIgnored(path)) return;\n\n  if (event === EV_UNLINK) {\n    const isDirectory = info.type === FSEVENT_TYPE_DIRECTORY\n    // suppress unlink events on never before seen files\n    if (isDirectory || watchedDir.has(item)) {\n      this.fsw._remove(parent, item, isDirectory);\n    }\n  } else {\n    if (event === EV_ADD) {\n      // track new directories\n      if (info.type === FSEVENT_TYPE_DIRECTORY) this.fsw._getWatchedDir(path);\n\n      if (info.type === FSEVENT_TYPE_SYMLINK && opts.followSymlinks) {\n        // push symlinks back to the top of the stack to get handled\n        const curDepth = opts.depth === undefined ?\n          undefined : calcDepth(fullPath, realPath) + 1;\n        return this._addToFsEvents(path, false, true, curDepth);\n      }\n\n      // track new paths\n      // (other than symlinks being followed, which will be tracked soon)\n      this.fsw._getWatchedDir(parent).add(item);\n    }\n    /**\n     * @type {'add'|'addDir'|'unlink'|'unlinkDir'}\n     */\n    const eventName = info.type === FSEVENT_TYPE_DIRECTORY ? event + DIR_SUFFIX : event;\n    this.fsw._emit(eventName, path);\n    if (eventName === EV_ADD_DIR) this._addToFsEvents(path, false, true);\n  }\n}\n\n/**\n * Handle symlinks encountered during directory scan\n * @param {String} watchPath  - file/dir path to be watched with fsevents\n * @param {String} realPath   - real path (in case of symlinks)\n * @param {Function} transform  - path transformer\n * @param {Function} globFilter - path filter in case a glob pattern was provided\n * @returns {Function} closer for the watcher instance\n*/\n_watchWithFsEvents(watchPath, realPath, transform, globFilter) {\n  if (this.fsw.closed || this.fsw._isIgnored(watchPath)) return;\n  const opts = this.fsw.options;\n  const watchCallback = async (fullPath, flags, info) => {\n    if (this.fsw.closed) return;\n    if (\n      opts.depth !== undefined &&\n      calcDepth(fullPath, realPath) > opts.depth\n    ) return;\n    const path = transform(sysPath.join(\n      watchPath, sysPath.relative(watchPath, fullPath)\n    ));\n    if (globFilter && !globFilter(path)) return;\n    // ensure directories are tracked\n    const parent = sysPath.dirname(path);\n    const item = sysPath.basename(path);\n    const watchedDir = this.fsw._getWatchedDir(\n      info.type === FSEVENT_TYPE_DIRECTORY ? path : parent\n    );\n\n    // correct for wrong events emitted\n    if (wrongEventFlags.has(flags) || info.event === FSEVENT_UNKNOWN) {\n      if (typeof opts.ignored === FUNCTION_TYPE) {\n        let stats;\n        try {\n          stats = await stat(path);\n        } catch (error) {}\n        if (this.fsw.closed) return;\n        if (this.checkIgnored(path, stats)) return;\n        if (sameTypes(info, stats)) {\n          this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n        } else {\n          this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n        }\n      } else {\n        this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      }\n    } else {\n      switch (info.event) {\n      case FSEVENT_CREATED:\n      case FSEVENT_MODIFIED:\n        return this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      case FSEVENT_DELETED:\n      case FSEVENT_MOVED:\n        return this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      }\n    }\n  };\n\n  const closer = setFSEventsListener(\n    watchPath,\n    realPath,\n    watchCallback,\n    this.fsw._emitRaw\n  );\n\n  this.fsw._emitReady();\n  return closer;\n}\n\n/**\n * Handle symlinks encountered during directory scan\n * @param {String} linkPath path to symlink\n * @param {String} fullPath absolute path to the symlink\n * @param {Function} transform pre-existing path transformer\n * @param {Number} curDepth level of subdirectories traversed to where symlink is\n * @returns {Promise<void>}\n */\nasync _handleFsEventsSymlink(linkPath, fullPath, transform, curDepth) {\n  // don't follow the same symlink more than once\n  if (this.fsw.closed || this.fsw._symlinkPaths.has(fullPath)) return;\n\n  this.fsw._symlinkPaths.set(fullPath, true);\n  this.fsw._incrReadyCount();\n\n  try {\n    const linkTarget = await realpath(linkPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(linkTarget)) {\n      return this.fsw._emitReady();\n    }\n\n    this.fsw._incrReadyCount();\n\n    // add the linkTarget for watching with a wrapper for transform\n    // that causes emitted paths to incorporate the link's path\n    this._addToFsEvents(linkTarget || linkPath, (path) => {\n      let aliasedPath = linkPath;\n      if (linkTarget && linkTarget !== DOT_SLASH) {\n        aliasedPath = path.replace(linkTarget, linkPath);\n      } else if (path !== DOT_SLASH) {\n        aliasedPath = sysPath.join(linkPath, path);\n      }\n      return transform(aliasedPath);\n    }, false, curDepth);\n  } catch(error) {\n    if (this.fsw._handleError(error)) {\n      return this.fsw._emitReady();\n    }\n  }\n}\n\n/**\n *\n * @param {Path} newPath\n * @param {fs.Stats} stats\n */\nemitAdd(newPath, stats, processPath, opts, forceAdd) {\n  const pp = processPath(newPath);\n  const isDir = stats.isDirectory();\n  const dirObj = this.fsw._getWatchedDir(sysPath.dirname(pp));\n  const base = sysPath.basename(pp);\n\n  // ensure empty dirs get tracked\n  if (isDir) this.fsw._getWatchedDir(pp);\n  if (dirObj.has(base)) return;\n  dirObj.add(base);\n\n  if (!opts.ignoreInitial || forceAdd === true) {\n    this.fsw._emit(isDir ? EV_ADD_DIR : EV_ADD, pp, stats);\n  }\n}\n\ninitWatch(realPath, path, wh, processPath) {\n  if (this.fsw.closed) return;\n  const closer = this._watchWithFsEvents(\n    wh.watchPath,\n    sysPath.resolve(realPath || wh.watchPath),\n    processPath,\n    wh.globFilter\n  );\n  this.fsw._addPathCloser(path, closer);\n}\n\n/**\n * Handle added path with fsevents\n * @param {String} path file/dir path or glob pattern\n * @param {Function|Boolean=} transform converts working path to what the user expects\n * @param {Boolean=} forceAdd ensure add is emitted\n * @param {Number=} priorDepth Level of subdirectories already traversed.\n * @returns {Promise<void>}\n */\nasync _addToFsEvents(path, transform, forceAdd, priorDepth) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const opts = this.fsw.options;\n  const processPath = typeof transform === FUNCTION_TYPE ? transform : IDENTITY_FN;\n\n  const wh = this.fsw._getWatchHelpers(path);\n\n  // evaluate what is at the path we're being asked to watch\n  try {\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\n      throw null;\n    }\n    if (stats.isDirectory()) {\n      // emit addDir unless this is a glob parent\n      if (!wh.globFilter) this.emitAdd(processPath(path), stats, processPath, opts, forceAdd);\n\n      // don't recurse further if it would exceed depth setting\n      if (priorDepth && priorDepth > opts.depth) return;\n\n      // scan the contents of the dir\n      this.fsw._readdirp(wh.watchPath, {\n        fileFilter: entry => wh.filterPath(entry),\n        directoryFilter: entry => wh.filterDir(entry),\n        ...Depth(opts.depth - (priorDepth || 0))\n      }).on(STR_DATA, (entry) => {\n        // need to check filterPath on dirs b/c filterDir is less restrictive\n        if (this.fsw.closed) {\n          return;\n        }\n        if (entry.stats.isDirectory() && !wh.filterPath(entry)) return;\n\n        const joinedPath = sysPath.join(wh.watchPath, entry.path);\n        const {fullPath} = entry;\n\n        if (wh.followSymlinks && entry.stats.isSymbolicLink()) {\n          // preserve the current depth here since it can't be derived from\n          // real paths past the symlink\n          const curDepth = opts.depth === undefined ?\n            undefined : calcDepth(joinedPath, sysPath.resolve(wh.watchPath)) + 1;\n\n          this._handleFsEventsSymlink(joinedPath, fullPath, processPath, curDepth);\n        } else {\n          this.emitAdd(joinedPath, entry.stats, processPath, opts, forceAdd);\n        }\n      }).on(EV_ERROR, EMPTY_FN).on(STR_END, () => {\n        this.fsw._emitReady();\n      });\n    } else {\n      this.emitAdd(wh.watchPath, stats, processPath, opts, forceAdd);\n      this.fsw._emitReady();\n    }\n  } catch (error) {\n    if (!error || this.fsw._handleError(error)) {\n      // TODO: Strange thing: \"should not choke on an ignored watch path\" will be failed without 2 ready calls -__-\n      this.fsw._emitReady();\n      this.fsw._emitReady();\n    }\n  }\n\n  if (opts.persistent && forceAdd !== true) {\n    if (typeof transform === FUNCTION_TYPE) {\n      // realpath has already been resolved\n      this.initWatch(undefined, path, wh, processPath);\n    } else {\n      let realPath;\n      try {\n        realPath = await realpath(wh.watchPath);\n      } catch (e) {}\n      this.initWatch(realPath, path, wh, processPath);\n    }\n  }\n}\n\n}\n\nmodule.exports = FsEventsHandler;\nmodule.exports.canUse = canUse;\n","'use strict';\n\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst isBinaryPath = require('is-binary-path');\nconst {\n  isWindows,\n  isLinux,\n  EMPTY_FN,\n  EMPTY_STR,\n  KEY_LISTENERS,\n  KEY_ERR,\n  KEY_RAW,\n  HANDLER_KEYS,\n  EV_CHANGE,\n  EV_ADD,\n  EV_ADD_DIR,\n  EV_ERROR,\n  STR_DATA,\n  STR_END,\n  BRACE_START,\n  STAR\n} = require('./constants');\n\nconst THROTTLE_MODE_WATCH = 'watch';\n\nconst open = promisify(fs.open);\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst close = promisify(fs.close);\nconst fsrealpath = promisify(fs.realpath);\n\nconst statMethods = { lstat, stat };\n\n// TODO: emit errors properly. Example: EMFILE on Macos.\nconst foreach = (val, fn) => {\n  if (val instanceof Set) {\n    val.forEach(fn);\n  } else {\n    fn(val);\n  }\n};\n\nconst addAndConvert = (main, prop, item) => {\n  let container = main[prop];\n  if (!(container instanceof Set)) {\n    main[prop] = container = new Set([container]);\n  }\n  container.add(item);\n};\n\nconst clearItem = cont => key => {\n  const set = cont[key];\n  if (set instanceof Set) {\n    set.clear();\n  } else {\n    delete cont[key];\n  }\n};\n\nconst delFromSet = (main, prop, item) => {\n  const container = main[prop];\n  if (container instanceof Set) {\n    container.delete(item);\n  } else if (container === item) {\n    delete main[prop];\n  }\n};\n\nconst isEmptySet = (val) => val instanceof Set ? val.size === 0 : !val;\n\n/**\n * @typedef {String} Path\n */\n\n// fs_watch helpers\n\n// object to hold per-process fs_watch instances\n// (may be shared across chokidar FSWatcher instances)\n\n/**\n * @typedef {Object} FsWatchContainer\n * @property {Set} listeners\n * @property {Set} errHandlers\n * @property {Set} rawEmitters\n * @property {fs.FSWatcher=} watcher\n * @property {Boolean=} watcherUnusable\n */\n\n/**\n * @type {Map<String,FsWatchContainer>}\n */\nconst FsWatchInstances = new Map();\n\n/**\n * Instantiates the fs_watch interface\n * @param {String} path to be watched\n * @param {Object} options to be passed to fs_watch\n * @param {Function} listener main event handler\n * @param {Function} errHandler emits info about errors\n * @param {Function} emitRaw emits raw event data\n * @returns {fs.FSWatcher} new fsevents instance\n */\nfunction createFsWatchInstance(path, options, listener, errHandler, emitRaw) {\n  const handleEvent = (rawEvent, evPath) => {\n    listener(path);\n    emitRaw(rawEvent, evPath, {watchedPath: path});\n\n    // emit based on events occurring for files from a directory's watcher in\n    // case the file's watcher misses it (and rely on throttling to de-dupe)\n    if (evPath && path !== evPath) {\n      fsWatchBroadcast(\n        sysPath.resolve(path, evPath), KEY_LISTENERS, sysPath.join(path, evPath)\n      );\n    }\n  };\n  try {\n    return fs.watch(path, options, handleEvent);\n  } catch (error) {\n    errHandler(error);\n  }\n}\n\n/**\n * Helper for passing fs_watch event data to a collection of listeners\n * @param {Path} fullPath absolute path bound to fs_watch instance\n * @param {String} type listener type\n * @param {*=} val1 arguments to be passed to listeners\n * @param {*=} val2\n * @param {*=} val3\n */\nconst fsWatchBroadcast = (fullPath, type, val1, val2, val3) => {\n  const cont = FsWatchInstances.get(fullPath);\n  if (!cont) return;\n  foreach(cont[type], (listener) => {\n    listener(val1, val2, val3);\n  });\n};\n\n/**\n * Instantiates the fs_watch interface or binds listeners\n * to an existing one covering the same file system entry\n * @param {String} path\n * @param {String} fullPath absolute path\n * @param {Object} options to be passed to fs_watch\n * @param {Object} handlers container for event listener functions\n */\nconst setFsWatchListener = (path, fullPath, options, handlers) => {\n  const {listener, errHandler, rawEmitter} = handlers;\n  let cont = FsWatchInstances.get(fullPath);\n\n  /** @type {fs.FSWatcher=} */\n  let watcher;\n  if (!options.persistent) {\n    watcher = createFsWatchInstance(\n      path, options, listener, errHandler, rawEmitter\n    );\n    return watcher.close.bind(watcher);\n  }\n  if (cont) {\n    addAndConvert(cont, KEY_LISTENERS, listener);\n    addAndConvert(cont, KEY_ERR, errHandler);\n    addAndConvert(cont, KEY_RAW, rawEmitter);\n  } else {\n    watcher = createFsWatchInstance(\n      path,\n      options,\n      fsWatchBroadcast.bind(null, fullPath, KEY_LISTENERS),\n      errHandler, // no need to use broadcast here\n      fsWatchBroadcast.bind(null, fullPath, KEY_RAW)\n    );\n    if (!watcher) return;\n    watcher.on(EV_ERROR, async (error) => {\n      const broadcastErr = fsWatchBroadcast.bind(null, fullPath, KEY_ERR);\n      cont.watcherUnusable = true; // documented since Node 10.4.1\n      // Workaround for https://github.com/joyent/node/issues/4337\n      if (isWindows && error.code === 'EPERM') {\n        try {\n          const fd = await open(path, 'r');\n          await close(fd);\n          broadcastErr(error);\n        } catch (err) {}\n      } else {\n        broadcastErr(error);\n      }\n    });\n    cont = {\n      listeners: listener,\n      errHandlers: errHandler,\n      rawEmitters: rawEmitter,\n      watcher\n    };\n    FsWatchInstances.set(fullPath, cont);\n  }\n  // const index = cont.listeners.indexOf(listener);\n\n  // removes this instance's listeners and closes the underlying fs_watch\n  // instance if there are no more listeners left\n  return () => {\n    delFromSet(cont, KEY_LISTENERS, listener);\n    delFromSet(cont, KEY_ERR, errHandler);\n    delFromSet(cont, KEY_RAW, rawEmitter);\n    if (isEmptySet(cont.listeners)) {\n      // Check to protect against issue gh-730.\n      // if (cont.watcherUnusable) {\n      cont.watcher.close();\n      // }\n      FsWatchInstances.delete(fullPath);\n      HANDLER_KEYS.forEach(clearItem(cont));\n      cont.watcher = undefined;\n      Object.freeze(cont);\n    }\n  };\n};\n\n// fs_watchFile helpers\n\n// object to hold per-process fs_watchFile instances\n// (may be shared across chokidar FSWatcher instances)\nconst FsWatchFileInstances = new Map();\n\n/**\n * Instantiates the fs_watchFile interface or binds listeners\n * to an existing one covering the same file system entry\n * @param {String} path to be watched\n * @param {String} fullPath absolute path\n * @param {Object} options options to be passed to fs_watchFile\n * @param {Object} handlers container for event listener functions\n * @returns {Function} closer\n */\nconst setFsWatchFileListener = (path, fullPath, options, handlers) => {\n  const {listener, rawEmitter} = handlers;\n  let cont = FsWatchFileInstances.get(fullPath);\n\n  /* eslint-disable no-unused-vars, prefer-destructuring */\n  let listeners = new Set();\n  let rawEmitters = new Set();\n\n  const copts = cont && cont.options;\n  if (copts && (copts.persistent < options.persistent || copts.interval > options.interval)) {\n    // \"Upgrade\" the watcher to persistence or a quicker interval.\n    // This creates some unlikely edge case issues if the user mixes\n    // settings in a very weird way, but solving for those cases\n    // doesn't seem worthwhile for the added complexity.\n    listeners = cont.listeners;\n    rawEmitters = cont.rawEmitters;\n    fs.unwatchFile(fullPath);\n    cont = undefined;\n  }\n\n  /* eslint-enable no-unused-vars, prefer-destructuring */\n\n  if (cont) {\n    addAndConvert(cont, KEY_LISTENERS, listener);\n    addAndConvert(cont, KEY_RAW, rawEmitter);\n  } else {\n    // TODO\n    // listeners.add(listener);\n    // rawEmitters.add(rawEmitter);\n    cont = {\n      listeners: listener,\n      rawEmitters: rawEmitter,\n      options,\n      watcher: fs.watchFile(fullPath, options, (curr, prev) => {\n        foreach(cont.rawEmitters, (rawEmitter) => {\n          rawEmitter(EV_CHANGE, fullPath, {curr, prev});\n        });\n        const currmtime = curr.mtimeMs;\n        if (curr.size !== prev.size || currmtime > prev.mtimeMs || currmtime === 0) {\n          foreach(cont.listeners, (listener) => listener(path, curr));\n        }\n      })\n    };\n    FsWatchFileInstances.set(fullPath, cont);\n  }\n  // const index = cont.listeners.indexOf(listener);\n\n  // Removes this instance's listeners and closes the underlying fs_watchFile\n  // instance if there are no more listeners left.\n  return () => {\n    delFromSet(cont, KEY_LISTENERS, listener);\n    delFromSet(cont, KEY_RAW, rawEmitter);\n    if (isEmptySet(cont.listeners)) {\n      FsWatchFileInstances.delete(fullPath);\n      fs.unwatchFile(fullPath);\n      cont.options = cont.watcher = undefined;\n      Object.freeze(cont);\n    }\n  };\n};\n\n/**\n * @mixin\n */\nclass NodeFsHandler {\n\n/**\n * @param {import(\"../index\").FSWatcher} fsW\n */\nconstructor(fsW) {\n  this.fsw = fsW;\n  this._boundHandleError = (error) => fsW._handleError(error);\n}\n\n/**\n * Watch file for changes with fs_watchFile or fs_watch.\n * @param {String} path to file or dir\n * @param {Function} listener on fs change\n * @returns {Function} closer for the watcher instance\n */\n_watchWithNodeFs(path, listener) {\n  const opts = this.fsw.options;\n  const directory = sysPath.dirname(path);\n  const basename = sysPath.basename(path);\n  const parent = this.fsw._getWatchedDir(directory);\n  parent.add(basename);\n  const absolutePath = sysPath.resolve(path);\n  const options = {persistent: opts.persistent};\n  if (!listener) listener = EMPTY_FN;\n\n  let closer;\n  if (opts.usePolling) {\n    options.interval = opts.enableBinaryInterval && isBinaryPath(basename) ?\n      opts.binaryInterval : opts.interval;\n    closer = setFsWatchFileListener(path, absolutePath, options, {\n      listener,\n      rawEmitter: this.fsw._emitRaw\n    });\n  } else {\n    closer = setFsWatchListener(path, absolutePath, options, {\n      listener,\n      errHandler: this._boundHandleError,\n      rawEmitter: this.fsw._emitRaw\n    });\n  }\n  return closer;\n}\n\n/**\n * Watch a file and emit add event if warranted.\n * @param {Path} file Path\n * @param {fs.Stats} stats result of fs_stat\n * @param {Boolean} initialAdd was the file added at watch instantiation?\n * @returns {Function} closer for the watcher instance\n */\n_handleFile(file, stats, initialAdd) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const dirname = sysPath.dirname(file);\n  const basename = sysPath.basename(file);\n  const parent = this.fsw._getWatchedDir(dirname);\n  // stats is always present\n  let prevStats = stats;\n\n  // if the file is already being watched, do nothing\n  if (parent.has(basename)) return;\n\n  const listener = async (path, newStats) => {\n    if (!this.fsw._throttle(THROTTLE_MODE_WATCH, file, 5)) return;\n    if (!newStats || newStats.mtimeMs === 0) {\n      try {\n        const newStats = await stat(file);\n        if (this.fsw.closed) return;\n        // Check that change event was not fired because of changed only accessTime.\n        const at = newStats.atimeMs;\n        const mt = newStats.mtimeMs;\n        if (!at || at <= mt || mt !== prevStats.mtimeMs) {\n          this.fsw._emit(EV_CHANGE, file, newStats);\n        }\n        if (isLinux && prevStats.ino !== newStats.ino) {\n          this.fsw._closeFile(path)\n          prevStats = newStats;\n          this.fsw._addPathCloser(path, this._watchWithNodeFs(file, listener));\n        } else {\n          prevStats = newStats;\n        }\n      } catch (error) {\n        // Fix issues where mtime is null but file is still present\n        this.fsw._remove(dirname, basename);\n      }\n      // add is about to be emitted if file not already tracked in parent\n    } else if (parent.has(basename)) {\n      // Check that change event was not fired because of changed only accessTime.\n      const at = newStats.atimeMs;\n      const mt = newStats.mtimeMs;\n      if (!at || at <= mt || mt !== prevStats.mtimeMs) {\n        this.fsw._emit(EV_CHANGE, file, newStats);\n      }\n      prevStats = newStats;\n    }\n  }\n  // kick off the watcher\n  const closer = this._watchWithNodeFs(file, listener);\n\n  // emit an add event if we're supposed to\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && this.fsw._isntIgnored(file)) {\n    if (!this.fsw._throttle(EV_ADD, file, 0)) return;\n    this.fsw._emit(EV_ADD, file, stats);\n  }\n\n  return closer;\n}\n\n/**\n * Handle symlinks encountered while reading a dir.\n * @param {Object} entry returned by readdirp\n * @param {String} directory path of dir being read\n * @param {String} path of this item\n * @param {String} item basename of this item\n * @returns {Promise<Boolean>} true if no more processing is needed for this entry.\n */\nasync _handleSymlink(entry, directory, path, item) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const full = entry.fullPath;\n  const dir = this.fsw._getWatchedDir(directory);\n\n  if (!this.fsw.options.followSymlinks) {\n    // watch symlink directly (don't follow) and detect changes\n    this.fsw._incrReadyCount();\n    const linkPath = await fsrealpath(path);\n    if (this.fsw.closed) return;\n    if (dir.has(item)) {\n      if (this.fsw._symlinkPaths.get(full) !== linkPath) {\n        this.fsw._symlinkPaths.set(full, linkPath);\n        this.fsw._emit(EV_CHANGE, path, entry.stats);\n      }\n    } else {\n      dir.add(item);\n      this.fsw._symlinkPaths.set(full, linkPath);\n      this.fsw._emit(EV_ADD, path, entry.stats);\n    }\n    this.fsw._emitReady();\n    return true;\n  }\n\n  // don't follow the same symlink more than once\n  if (this.fsw._symlinkPaths.has(full)) {\n    return true;\n  }\n\n  this.fsw._symlinkPaths.set(full, true);\n}\n\n_handleRead(directory, initialAdd, wh, target, dir, depth, throttler) {\n  // Normalize the directory name on Windows\n  directory = sysPath.join(directory, EMPTY_STR);\n\n  if (!wh.hasGlob) {\n    throttler = this.fsw._throttle('readdir', directory, 1000);\n    if (!throttler) return;\n  }\n\n  const previous = this.fsw._getWatchedDir(wh.path);\n  const current = new Set();\n\n  let stream = this.fsw._readdirp(directory, {\n    fileFilter: entry => wh.filterPath(entry),\n    directoryFilter: entry => wh.filterDir(entry),\n    depth: 0\n  }).on(STR_DATA, async (entry) => {\n    if (this.fsw.closed) {\n      stream = undefined;\n      return;\n    }\n    const item = entry.path;\n    let path = sysPath.join(directory, item);\n    current.add(item);\n\n    if (entry.stats.isSymbolicLink() && await this._handleSymlink(entry, directory, path, item)) {\n      return;\n    }\n\n    if (this.fsw.closed) {\n      stream = undefined;\n      return;\n    }\n    // Files that present in current directory snapshot\n    // but absent in previous are added to watch list and\n    // emit `add` event.\n    if (item === target || !target && !previous.has(item)) {\n      this.fsw._incrReadyCount();\n\n      // ensure relativeness of path is preserved in case of watcher reuse\n      path = sysPath.join(dir, sysPath.relative(dir, path));\n\n      this._addToNodeFs(path, initialAdd, wh, depth + 1);\n    }\n  }).on(EV_ERROR, this._boundHandleError);\n\n  return new Promise(resolve =>\n    stream.once(STR_END, () => {\n      if (this.fsw.closed) {\n        stream = undefined;\n        return;\n      }\n      const wasThrottled = throttler ? throttler.clear() : false;\n\n      resolve();\n\n      // Files that absent in current directory snapshot\n      // but present in previous emit `remove` event\n      // and are removed from @watched[directory].\n      previous.getChildren().filter((item) => {\n        return item !== directory &&\n          !current.has(item) &&\n          // in case of intersecting globs;\n          // a path may have been filtered out of this readdir, but\n          // shouldn't be removed because it matches a different glob\n          (!wh.hasGlob || wh.filterPath({\n            fullPath: sysPath.resolve(directory, item)\n          }));\n      }).forEach((item) => {\n        this.fsw._remove(directory, item);\n      });\n\n      stream = undefined;\n\n      // one more time for any missed in case changes came in extremely quickly\n      if (wasThrottled) this._handleRead(directory, false, wh, target, dir, depth, throttler);\n    })\n  );\n}\n\n/**\n * Read directory to add / remove files from `@watched` list and re-read it on change.\n * @param {String} dir fs path\n * @param {fs.Stats} stats\n * @param {Boolean} initialAdd\n * @param {Number} depth relative to user-supplied path\n * @param {String} target child path targeted for watch\n * @param {Object} wh Common watch helpers for this path\n * @param {String} realpath\n * @returns {Promise<Function>} closer for the watcher instance.\n */\nasync _handleDir(dir, stats, initialAdd, depth, target, wh, realpath) {\n  const parentDir = this.fsw._getWatchedDir(sysPath.dirname(dir));\n  const tracked = parentDir.has(sysPath.basename(dir));\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && !target && !tracked) {\n    if (!wh.hasGlob || wh.globFilter(dir)) this.fsw._emit(EV_ADD_DIR, dir, stats);\n  }\n\n  // ensure dir is tracked (harmless if redundant)\n  parentDir.add(sysPath.basename(dir));\n  this.fsw._getWatchedDir(dir);\n  let throttler;\n  let closer;\n\n  const oDepth = this.fsw.options.depth;\n  if ((oDepth == null || depth <= oDepth) && !this.fsw._symlinkPaths.has(realpath)) {\n    if (!target) {\n      await this._handleRead(dir, initialAdd, wh, target, dir, depth, throttler);\n      if (this.fsw.closed) return;\n    }\n\n    closer = this._watchWithNodeFs(dir, (dirPath, stats) => {\n      // if current directory is removed, do nothing\n      if (stats && stats.mtimeMs === 0) return;\n\n      this._handleRead(dirPath, false, wh, target, dir, depth, throttler);\n    });\n  }\n  return closer;\n}\n\n/**\n * Handle added file, directory, or glob pattern.\n * Delegates call to _handleFile / _handleDir after checks.\n * @param {String} path to file or ir\n * @param {Boolean} initialAdd was the file added at watch instantiation?\n * @param {Object} priorWh depth relative to user-supplied path\n * @param {Number} depth Child path actually targeted for watch\n * @param {String=} target Child path actually targeted for watch\n * @returns {Promise}\n */\nasync _addToNodeFs(path, initialAdd, priorWh, depth, target) {\n  const ready = this.fsw._emitReady;\n  if (this.fsw._isIgnored(path) || this.fsw.closed) {\n    ready();\n    return false;\n  }\n\n  const wh = this.fsw._getWatchHelpers(path, depth);\n  if (!wh.hasGlob && priorWh) {\n    wh.hasGlob = priorWh.hasGlob;\n    wh.globFilter = priorWh.globFilter;\n    wh.filterPath = entry => priorWh.filterPath(entry);\n    wh.filterDir = entry => priorWh.filterDir(entry);\n  }\n\n  // evaluate what is at the path we're being asked to watch\n  try {\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\n      ready();\n      return false;\n    }\n\n    const follow = this.fsw.options.followSymlinks && !path.includes(STAR) && !path.includes(BRACE_START);\n    let closer;\n    if (stats.isDirectory()) {\n      const absPath = sysPath.resolve(path);\n      const targetPath = follow ? await fsrealpath(path) : path;\n      if (this.fsw.closed) return;\n      closer = await this._handleDir(wh.watchPath, stats, initialAdd, depth, target, wh, targetPath);\n      if (this.fsw.closed) return;\n      // preserve this symlink's target path\n      if (absPath !== targetPath && targetPath !== undefined) {\n        this.fsw._symlinkPaths.set(absPath, targetPath);\n      }\n    } else if (stats.isSymbolicLink()) {\n      const targetPath = follow ? await fsrealpath(path) : path;\n      if (this.fsw.closed) return;\n      const parent = sysPath.dirname(wh.watchPath);\n      this.fsw._getWatchedDir(parent).add(wh.watchPath);\n      this.fsw._emit(EV_ADD, wh.watchPath, stats);\n      closer = await this._handleDir(parent, stats, initialAdd, depth, path, wh, targetPath);\n      if (this.fsw.closed) return;\n\n      // preserve this symlink's target path\n      if (targetPath !== undefined) {\n        this.fsw._symlinkPaths.set(sysPath.resolve(path), targetPath);\n      }\n    } else {\n      closer = this._handleFile(wh.watchPath, stats, initialAdd);\n    }\n    ready();\n\n    this.fsw._addPathCloser(path, closer);\n    return false;\n\n  } catch (error) {\n    if (this.fsw._handleError(error)) {\n      ready();\n      return path;\n    }\n  }\n}\n\n}\n\nmodule.exports = NodeFsHandler;\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  /* global globalThis -- safe */\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  /* global Symbol -- required for testing */\n  return !Symbol.sham &&\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    (IS_NODE ? V8_VERSION === 38 : V8_VERSION > 37 && V8_VERSION < 41);\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\n// eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.9.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  /* global Symbol -- safe */\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars -- required for `.length`\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","\"use strict\";\n/**\n * Returns a `Buffer` instance from the given data URI `uri`.\n *\n * @param {String} uri Data URI to turn into a Buffer instance\n * @return {Buffer} Buffer instance from Data URI\n * @api public\n */\nfunction dataUriToBuffer(uri) {\n    if (!/^data:/i.test(uri)) {\n        throw new TypeError('`uri` does not appear to be a Data URI (must begin with \"data:\")');\n    }\n    // strip newlines\n    uri = uri.replace(/\\r?\\n/g, '');\n    // split the URI up into the \"metadata\" and the \"data\" portions\n    const firstComma = uri.indexOf(',');\n    if (firstComma === -1 || firstComma <= 4) {\n        throw new TypeError('malformed data: URI');\n    }\n    // remove the \"data:\" scheme and parse the metadata\n    const meta = uri.substring(5, firstComma).split(';');\n    let charset = '';\n    let base64 = false;\n    const type = meta[0] || 'text/plain';\n    let typeFull = type;\n    for (let i = 1; i < meta.length; i++) {\n        if (meta[i] === 'base64') {\n            base64 = true;\n        }\n        else {\n            typeFull += `;${meta[i]}`;\n            if (meta[i].indexOf('charset=') === 0) {\n                charset = meta[i].substring(8);\n            }\n        }\n    }\n    // defaults to US-ASCII only if type is not provided\n    if (!meta[0] && !charset.length) {\n        typeFull += ';charset=US-ASCII';\n        charset = 'US-ASCII';\n    }\n    // get the encoded data portion and decode URI-encoded chars\n    const encoding = base64 ? 'base64' : 'ascii';\n    const data = unescape(uri.substring(firstComma + 1));\n    const buffer = Buffer.from(data, encoding);\n    // set `.type` and `.typeFull` properties to MIME type\n    buffer.type = type;\n    buffer.typeFull = typeFull;\n    // set the `.charset` property\n    buffer.charset = charset;\n    return buffer;\n}\nmodule.exports = dataUriToBuffer;\n//# sourceMappingURL=index.js.map","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when it’s always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","\"use strict\";\nconst path_1 = require(\"path\");\n/**\n * File URI to Path function.\n *\n * @param {String} uri\n * @return {String} path\n * @api public\n */\nfunction fileUriToPath(uri) {\n    if (typeof uri !== 'string' ||\n        uri.length <= 7 ||\n        uri.substring(0, 7) !== 'file://') {\n        throw new TypeError('must pass in a file:// URI to convert to a file path');\n    }\n    const rest = decodeURI(uri.substring(7));\n    const firstSlash = rest.indexOf('/');\n    let host = rest.substring(0, firstSlash);\n    let path = rest.substring(firstSlash + 1);\n    // 2.  Scheme Definition\n    // As a special case, <host> can be the string \"localhost\" or the empty\n    // string; this is interpreted as \"the machine from which the URL is\n    // being interpreted\".\n    if (host === 'localhost') {\n        host = '';\n    }\n    if (host) {\n        host = path_1.sep + path_1.sep + host;\n    }\n    // 3.2  Drives, drive letters, mount points, file system root\n    // Drive letters are mapped into the top of a file URI in various ways,\n    // depending on the implementation; some applications substitute\n    // vertical bar (\"|\") for the colon after the drive letter, yielding\n    // \"file:///c|/tmp/test.txt\".  In some cases, the colon is left\n    // unchanged, as in \"file:///c:/tmp/test.txt\".  In other cases, the\n    // colon is simply omitted, as in \"file:///c/tmp/test.txt\".\n    path = path.replace(/^(.+)\\|/, '$1:');\n    // for Windows, we need to invert the path separators from what a URI uses\n    if (path_1.sep === '\\\\') {\n        path = path.replace(/\\//g, '\\\\');\n    }\n    if (/^.+:/.test(path)) {\n        // has Windows drive at beginning of path\n    }\n    else {\n        // unix path…\n        path = path_1.sep + path;\n    }\n    return host + path;\n}\nmodule.exports = fileUriToPath;\n//# sourceMappingURL=index.js.map","/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n","/**\n * Firefox Profile\n */\n'use strict';\n\nvar os = require('os'),\n  path = require('path'),\n  util = require('util'),\n  fs = require('fs-extra'),\n  // third-party\n  parseString = require('xml2js').parseString,\n  AdmZip = require('adm-zip'),\n  Finder = require('./profile_finder');\n\nvar config = {\n  // from python... Not used\n  // WEBDRIVER_EXT: 'webdriver.xpi',\n  // EXTENSION_NAME: 'fxdriver@googlecode.com',\n  ANONYMOUS_PROFILE_NAME: 'WEBDRIVER_ANONYMOUS_PROFILE',\n  DEFAULT_PREFERENCES: {\n    'app.update.auto': 'false',\n    'app.update.enabled': 'false',\n    'browser.download.manager.showWhenStarting': 'false',\n    'browser.EULA.override': 'true',\n    'browser.EULA.3.accepted': 'true',\n    'browser.link.open_external': '2',\n    'browser.link.open_newwindow': '2',\n    'browser.offline': 'false',\n    'browser.safebrowsing.enabled': 'false',\n    'browser.search.update': 'false',\n    'extensions.blocklist.enabled': 'false',\n    'browser.sessionstore.resume_from_crash': 'false',\n    'browser.shell.checkDefaultBrowser': 'false',\n    'browser.tabs.warnOnClose': 'false',\n    'browser.tabs.warnOnOpen': 'false',\n    'browser.startup.page': '0',\n    'browser.safebrowsing.malware.enabled': 'false',\n    'startup.homepage_welcome_url': '\"about:blank\"',\n    'devtools.errorconsole.enabled': 'true',\n    'dom.disable_open_during_load': 'false',\n    'extensions.autoDisableScopes': 10,\n    'extensions.logging.enabled': 'true',\n    'extensions.update.enabled': 'false',\n    'extensions.update.notifyUser': 'false',\n    'network.manage-offline-status': 'false',\n    'network.http.max-connections-per-server': '10',\n    'network.http.phishy-userpass-length': '255',\n    'offline-apps.allow_by_default': 'true',\n    'prompts.tab_modal.enabled': 'false',\n    'security.fileuri.origin_policy': '3',\n    'security.fileuri.strict_origin_policy': 'false',\n    'security.warn_entering_secure': 'false',\n    'security.warn_entering_secure.show_once': 'false',\n    'security.warn_entering_weak': 'false',\n    'security.warn_entering_weak.show_once': 'false',\n    'security.warn_leaving_secure': 'false',\n    'security.warn_leaving_secure.show_once': 'false',\n    'security.warn_submit_insecure': 'false',\n    'security.warn_viewing_mixed': 'false',\n    'security.warn_viewing_mixed.show_once': 'false',\n    'signon.rememberSignons': 'false',\n    'toolkit.networkmanager.disable': 'true',\n    'toolkit.telemetry.enabled': 'false',\n    'toolkit.telemetry.prompted': '2',\n    'toolkit.telemetry.rejected': 'true',\n    'javascript.options.showInConsole': 'true',\n    'browser.dom.window.dump.enabled': 'true',\n    webdriver_accept_untrusted_certs: 'true',\n    webdriver_enable_native_events: 'true',\n    webdriver_assume_untrusted_issuer: 'true',\n    'dom.max_script_run_time': '30',\n  },\n};\n\n/**\n * Regex taken from XPIProvider.jsm in the Addon Manager to validate proper\n * IDs that are able to be used:\n * https://searchfox.org/mozilla-central/rev/c8ce16e4299a3afd560320d8d094556f2b5504cd/toolkit/mozapps/extensions/internal/XPIProvider.jsm#182\n */\nfunction isValidAOMAddonId (s) {\n  return /^(\\{[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\}|[a-z0-9-\\._]*\\@[a-z0-9-\\._]+)$/i.test(s || \"\");\n}\n\n/**\n * Return the addon id given the addon manifest file.\n *\n * TODO: this still includes backward compatibility with the deprecated jetpack\n * manifest file, it could be removed in a follow up (along with rewriting some\n * of the test cases).\n */\nfunction getID(manifest) {\n  if (manifest.id) {\n    return isValidAOMAddonId(manifest.id) ? manifest.id : null;\n  }\n\n  // This is currently used to keep the backward compatible behavior\n  // expected on the deprecated jetpack extensions manifest file.\n  if (manifest.name && typeof manifest.name == 'string') {\n    const id = `@${manifest.name}`;\n    return isValidAOMAddonId(id) ? id : null;\n  }\n\n  return null;\n}\n\nfunction unprefix(root, node, prefix) {\n  return root[prefix + ':' + node] || root[node];\n}\n\nfunction parseOptions(opts) {\n  if (typeof opts === 'string') {\n    return { profileDirectory: opts };\n  }\n  return opts || {};\n}\n\nfunction isNotLockFile(filePath) {\n  var file = path.basename(filePath);\n  return !/^(parent\\.lock|lock|\\.parentlock)$/.test(file);\n}\n/**\n * Initialize a new instance of a Firefox Profile.\n *\n * Note that this function uses filesystem sync functions to copy an existing profile (id profileDirectory is provided)\n * which is not optimized.\n * If you need optimzed async version, use `FirefoxProfile.copy(profileDirectory, cb);`\n *\n * @param {Object|String|null} options optional.\n *\n *\n * If it is an object, it can contain the following option:\n * * profileDirectory: the profile to copy. Not recommended: use FirefoxProfile.copy instead\n * * destinationDirectory: where the profile will be stored. If not provided,\n *    a tmp directory will be used WARNING: if the tmp directory will be deleted when the process will terminate.\n *\n * if it is a string it will copy the directory synchronously\n *   (not recommended at all, kept for backward compatibility).\n */\nfunction FirefoxProfile(options) {\n  var opts = parseOptions(options),\n    hasDestDir = !!opts.destinationDirectory;\n  this.profileDir = opts.profileDirectory;\n  this.defaultPreferences = {...config.DEFAULT_PREFERENCES};\n  // if true, the profile folder is deleted after\n  this._deleteOnExit = !hasDestDir;\n  // can be turned to false when debugging\n  this._deleteZippedProfile = true;\n  this._preferencesModified = false;\n  if (!this.profileDir) {\n    this.profileDir = opts.destinationDirectory || this._createTempFolder();\n  } else {\n    // create copy\n    var tmpDir = opts.destinationDirectory || this._createTempFolder('copy-');\n    fs.copySync(opts.profileDirectory, tmpDir, {\n      clobber: true,\n      filter: isNotLockFile,\n    });\n    this.profileDir = tmpDir;\n  }\n  this.extensionsDir = path.join(this.profileDir, 'extensions');\n  this.userPrefs = path.join(this.profileDir, 'user.js');\n  if (fs.pathExistsSync(this.userPrefs)) {\n    this._readExistingUserjs();\n  }\n\n  // delete on process.exit()...\n  var self = this;\n  this.onExit = function () {\n    if (self._deleteOnExit) {\n      self._cleanOnExit();\n    }\n  };\n\n  this.onSigInt = function () {\n    process.exit(130);\n  };\n  process.addListener('exit', self.onExit);\n  process.addListener('SIGINT', self.onSigInt);\n}\n\nFirefoxProfile.prototype._copy = function (profileDirectory, cb) {\n  fs.copy(\n    profileDirectory,\n    this.profileDir,\n    {\n      clobber: true,\n      filter: isNotLockFile,\n    },\n    cb\n  );\n};\n\n/**\n * creates a profile Profile from an existing firefox profile directory asynchronously\n *\n * @param {Object|String|null} options\n *\n * if it is an object, the following properties are available:\n * * profileDirectory - required - the profile to copy.\n * * destinationDirectory: where the profile will be stored. If not provided,\n *    a tmp directory will be used. WARNING: if the tmp directory will be deleted when the process exits.\n */\n\nFirefoxProfile.copy = function (options, cb) {\n  var opts = parseOptions(options);\n  if (!opts.profileDirectory) {\n    cb &&\n      cb(new Error('firefoxProfile: .copy() requires profileDirectory option'));\n    return;\n  }\n  var profile = new FirefoxProfile({\n    destinationDirectory: opts.destinationDirectory,\n  });\n  profile._copy(opts.profileDirectory, function () {\n    cb && cb(null, profile);\n  });\n};\n\n/**\n * copy a profile from the current user profile\n *\n * @params {Object} opts an object with the following properties:\n *      - name: property is mandatory.\n *      - userProfilePath optional and passed to Finder constructor.\n *      - destinationDirectory optional\n */\nFirefoxProfile.copyFromUserProfile = function (opts, cb) {\n  if (!opts.name) {\n    cb &&\n      cb(\n        new Error(\n          'firefoxProfile: .copyFromUserProfile() requires a name options'\n        )\n      );\n    return;\n  }\n  var finder = new Finder(opts.userProfilePath);\n  finder.getPath(opts.name, function (err, profilePath) {\n    if (err) {\n      cb(err);\n      return;\n    }\n    FirefoxProfile.copy(\n      {\n        destinationDirectory: opts.destinationDirectory,\n        profileDirectory: profilePath,\n      },\n      cb\n    );\n  });\n};\n\n/**\n * Deletes the profile directory asynchronously.\n *\n * Call it only if you do not need the profile. Otherwise use at your own risk.\n *\n * @param cb a callback function with boolean parameter (false if the dir is not found)\n *        that will be called when the profileDir is deleted\n */\nFirefoxProfile.prototype.deleteDir = function (cb) {\n  var self = this;\n  process.removeListener('exit', self.onExit);\n  process.removeListener('SIGINT', self.onSigInt);\n  this.shouldDeleteOnExit(false);\n  fs.exists(this.profileDir, function (doesExists) {\n    if (!doesExists) {\n      cb && cb();\n      return;\n    }\n    fs.remove(self.profileDir, function () {\n      cb && cb();\n    });\n  });\n};\n\n/**\n * called on exit to delete the profile directory synchronously.\n *\n * this function is automatically called by default (= if willDeleteOnExit() returns true) if a tmp directory is used\n *\n * should not be called directly. process.on('exit') cannot be asynchronous: async code is not called\n *\n */\nFirefoxProfile.prototype._cleanOnExit = function () {\n  if (fs.existsSync(this.profileDir)) {\n    try {\n      fs.removeSync(this.profileDir);\n    } catch (e) {\n      console.warn(\n        '[firefox-profile] cannot delete profileDir on exit',\n        this.profileDir,\n        e\n      );\n    }\n  }\n};\n\n/**\n * Specify if the profile Directory should be deleted on process.exit()\n *\n * Note: by default:\n * * if the constructor is called without param: the new profile directory is deleted\n * * if the constructor is called with param (path to profile dir): the dir is copied at init and the copy is deleted on exit\n *\n * @param {boolean} true\n */\nFirefoxProfile.prototype.shouldDeleteOnExit = function (bool) {\n  this._deleteOnExit = bool;\n};\n\n/**\n * returns true if the profile directory will be deleted on process.exit()\n *\n * @return {boolean} true if (default)\n */\nFirefoxProfile.prototype.willDeleteOnExit = function () {\n  return this._deleteOnExit;\n};\n\n/**\n * Set a user preference.\n *\n * Any modification to the user preference can be persisted using this.updatePreferences()\n * If this.setPreference() is called before calling this.encoded(), then this.updatePreferences()\n * is automatically called.\n * For a comprehensive list of preference keys, see http://kb.mozillazine.org/About:config_entries\n *\n * @param {string} key - the user preference key\n * @param {boolean|string} value\n\n * @see about:config http://kb.mozillazine.org/About:config_entries\n */\nFirefoxProfile.prototype.setPreference = function (key, value) {\n  var cleanValue = '';\n  if (value === true) {\n    cleanValue = 'true';\n  } else if (value === false) {\n    cleanValue = 'false';\n  } else if (typeof value === 'string') {\n    cleanValue = '\"' + value.replace('\\n', '\\\\n') + '\"';\n  } else {\n    cleanValue = parseInt(value, 10).toString();\n  }\n  this.defaultPreferences[key] = cleanValue;\n  this._preferencesModified = true;\n};\n\n/**\n * Add an extension to the profile.\n *\n * @param {string} path - path to a xpi extension file or a unziped extension folder\n * @param {function} callback - the callback function to call when the extension is added\n */\nFirefoxProfile.prototype.addExtension = function (extension, cb) {\n  this._installExtension(extension, cb);\n};\n\n/**\n * Add mutliple extensions to the profile.\n *\n * @param {Array} extensions - arrays of paths to xpi extension files or unziped extension folders\n * @param {function} callback - the callback function to call when the extension is added\n */\n\nFirefoxProfile.prototype.addExtensions = function (extensions, cb) {\n  var addExtension = util.promisify(this.addExtension.bind(this));\n  var promises = extensions.map(extension =>\n    addExtension(path.normalize(extension))\n  );\n  util.callbackify(() => Promise.all(promises))(cb);\n};\n\n/**\n * Save user preferences to the user.js profile file.\n *\n * updatePreferences() is automatically called when encoded() is called\n * (if needed = if setPreference() was called before calling encoded())\n *\n */\nFirefoxProfile.prototype.updatePreferences = function () {\n  this._writeUserPrefs(this.defaultPreferences);\n};\n\n/**\n * @return {string} path of the profile extension directory\n *\n */\nFirefoxProfile.prototype.path = function () {\n  return this.profileDir;\n};\n\n/**\n * @return {boolean} true if webdriver can accept untrusted certificates\n *\n */\nFirefoxProfile.prototype.canAcceptUntrustedCerts = function () {\n  return this._sanitizePref(\n    this.defaultPreferences['webdriver_accept_untrusted_certs']\n  );\n};\n\n/**\n * If not explicitly set, default: true\n *\n * @param {boolean} true to accept untrusted certificates, false otherwise.\n *\n */\nFirefoxProfile.prototype.setAcceptUntrustedCerts = function (val) {\n  this.defaultPreferences['webdriver_accept_untrusted_certs'] = val;\n};\n\n/**\n * @return {boolean} true if webdriver can assume untrusted certificate issuer\n *\n */\nFirefoxProfile.prototype.canAssumeUntrustedCertIssuer = function () {\n  return this._sanitizePref(\n    this.defaultPreferences['webdriver_assume_untrusted_issuer']\n  );\n};\n\n/**\n * If not explicitly set, default: true\n *\n * @param {boolean} true to make webdriver assume untrusted issuer.\n *\n */\nFirefoxProfile.prototype.setAssumeUntrustedCertIssuer = function (val) {\n  this.defaultPreferences['webdriver_assume_untrusted_issuer'] = val;\n};\n\n/**\n * @return {boolean} true if native events are enabled\n *\n */\nFirefoxProfile.prototype.nativeEventsEnabled = function () {\n  return this._sanitizePref(\n    this.defaultPreferences['webdriver_enable_native_events']\n  );\n};\n\n/**\n * If not explicitly set, default: true\n *\n * @param {boolean} boolean true to enable native events.\n *\n */\nFirefoxProfile.prototype.setNativeEventsEnabled = function (val) {\n  this.defaultPreferences['webdriver_enable_native_events'] = val;\n};\n\n/**\n * return zipped, base64 encoded string of the profile directory\n * for use with remote WebDriver JSON wire protocol\n *\n * @param {Function} function a callback function with first param: an error, and 2nd param: a zipped, base64 encoded string of the profile directory\n */\nFirefoxProfile.prototype.encoded = function (cb) {\n  try {\n    var self = this;\n\n    if (this._preferencesModified) {\n      this.updatePreferences();\n    }\n\n    var zip = new AdmZip();\n    zip.addLocalFolder(path.resolve(self.profileDir));\n    var base64 = zip.toBuffer().toString('base64');\n    cb(null, base64);\n  } catch (e) {\n    cb(e);\n  }\n};\n\n// only '1' found in proxy.js\nvar ffValues = {\n  direct: 0,\n  manual: 1,\n  pac: 2,\n  system: 3,\n};\n\n// for compatibility with `selenium-webdriver`\nFirefoxProfile.prototype.encode = FirefoxProfile.prototype.encoded;\n\n/**\n * Set network proxy settings.\n *\n * The parameter `proxy` is a hash which structure depends on the value of mandatory `proxyType` key,\n * which takes one of the following string values:\n *\n * * `direct` - direct connection (no proxy)\n * * `system` - use operating system proxy settings\n * * `pac` - use automatic proxy configuration set based on the value of `autoconfigUrl` key\n * * `manual` - manual proxy settings defined separately for different protocols using values from following keys:\n * `ftpProxy`, `httpProxy`, `sslProxy`, `socksProxy`\n *\n * Examples:\n *\n * * set automatic proxy:\n *\n *      profile.setProxy({\n *          proxyType: 'pac',\n *          autoconfigUrl: 'http://myserver/proxy.pac'\n *      });\n *\n * * set manual http proxy:\n *\n *      profile.setProxy({\n *          proxyType: 'manual',\n *          httpProxy: '127.0.0.1:8080'\n *      });\n *\n * * set manual http and https proxy:\n *\n *      profile.setProxy({\n *          proxyType: 'manual',\n *          httpProxy: '127.0.0.1:8080',\n *          sslProxy: '127.0.0.1:8080'\n *      });\n *\n * @param {Object} proxy a proxy hash, mandatory key `proxyType`\n */\nFirefoxProfile.prototype.setProxy = function (proxy) {\n  if (!proxy || !proxy.proxyType) {\n    throw new Error('firefoxProfile: not a valid proxy type');\n  }\n  this.setPreference('network.proxy.type', ffValues[proxy.proxyType]);\n  switch (proxy.proxyType) {\n    case 'manual':\n      if (proxy.noProxy) {\n        this.setPreference('network.proxy.no_proxies_on', proxy.noProxy);\n      }\n      this._setManualProxyPreference('ftp', proxy.ftpProxy);\n      this._setManualProxyPreference('http', proxy.httpProxy);\n      this._setManualProxyPreference('ssl', proxy.sslProxy);\n      this._setManualProxyPreference('socks', proxy.socksProxy);\n      break;\n    case 'pac':\n      this.setPreference('network.proxy.autoconfig_url', proxy.autoconfigUrl);\n      break;\n  }\n};\n\n// private\nFirefoxProfile.prototype._writeUserPrefs = function (userPrefs) {\n  var content = '';\n  Object.keys(userPrefs).forEach(function (val) {\n    content = content + 'user_pref(\"' + val + '\", ' + userPrefs[val] + ');\\n';\n  });\n  fs.writeFileSync(this.userPrefs, content); // defaults to utf8 (node 0.8 compat)\n};\n\nFirefoxProfile.prototype._readExistingUserjs = function () {\n  var self = this,\n    regExp = /user_pref\\(['\"](.*)[\"'],\\s*(.*)\\)/,\n    contentLines = fs.readFileSync(this.userPrefs, 'utf8').split('\\n');\n  contentLines.forEach(function (line) {\n    var found = line.match(regExp);\n    if (found) {\n      self.defaultPreferences[found[1]] = found[2];\n    }\n  });\n};\n\nFirefoxProfile.prototype._installExtension = function (addon, cb) {\n  // from python... not needed. specify full path instead when calling addExtension\n  // if (addon === config.WEBDRIVER_EXT) {\n  //   addon = path.join(__dirname, config.WEBDRIVER_EXT);\n  // }\n  var tmpDir = null, // to unzip xpi\n    xpiFile = null,\n    self = this;\n\n  if (addon.slice(-4) === '.xpi') {\n    tmpDir = this._createTempFolder(addon.split(path.sep).pop());\n    var zip = new AdmZip(addon);\n    zip.extractAllTo(tmpDir, true);\n    xpiFile = addon;\n    addon = tmpDir;\n  }\n\n  // find out the addon id\n  this._addonDetails(addon, function (addonDetails) {\n    var addonId = getID(addonDetails);\n    var unpack = addonDetails.unpack === undefined ? true : addonDetails.unpack;\n\n    if (!addonId) {\n      cb(new Error('FirefoxProfile: the addon id could not be found!'));\n    }\n    var addonPath = path.join(self.extensionsDir, path.sep, addonId);\n    util.callbackify(async function run() {\n      await fs.mkdirp(self.extensionsDir);\n      if (!unpack && xpiFile) {\n        await fs.copy(xpiFile, addonPath + '.xpi');\n      } else {\n        await fs.mkdir(addonPath);\n        await fs.copy(\n          addon,\n          addonPath,\n          {\n            clobber: true,\n          }\n        );\n      }\n\n      if (tmpDir) {\n        await fs.remove(tmpDir);\n      }\n\n      return addonDetails;\n    })(cb)\n  });\n};\n\nFirefoxProfile.prototype._addonDetails = function (addonPath, cb) {\n  var details = {\n      id: null,\n      name: null,\n      unpack: true,\n      version: null,\n      isNative: false,\n    },\n    self = this;\n\n  function getNamespaceId(doc, url) {\n    var namespaces = doc[Object.keys(doc)[0]].$,\n      pref = null;\n    Object.keys(namespaces).forEach(function (prefix) {\n      if (namespaces[prefix] === url) {\n        pref = prefix.replace('xmlns:', '');\n        return false;\n      }\n    });\n    return pref;\n  }\n\n  // Attempt to parse the `install.rdf` inside the extension\n  var doc;\n  try {\n    doc = fs.readFileSync(path.join(addonPath, 'install.rdf'));\n  } catch (e) {\n    // If not found, this is probably a webextension, so parse\n    // the `manifest.json` file for addon details\n    try {\n      var webExtManifest = JSON.parse(\n        fs.readFileSync(path.join(addonPath, 'manifest.json'))\n      );\n      details.unpack = false;\n\n      webExtManifest = webExtManifest || {};\n\n      // browser specific id takes precedence over the old-style\n      // `applications.gecko.id`\n      // see: https://bugzilla.mozilla.org/show_bug.cgi?id=1255564\n      details.id = (\n        (webExtManifest.browser_specific_settings || {}).gecko || {}\n      ).id;\n      if (!details.id) {\n        details.id = ((webExtManifest.applications || {}).gecko || {}).id;\n      }\n\n      details.name = webExtManifest.name;\n      details.version = webExtManifest.version;\n      cb && cb(details);\n      return;\n    } catch (e) {\n      // still not found, maybe this is a jetpack style addon, so parse the\n      // `package.json.json` file for addon details\n      var manifest = require(path.join(addonPath, 'package.json'));\n\n      // Jetpack addons are packed by default\n      details.unpack = false;\n      details.isNative = true;\n      Object.keys(details).forEach(function (prop) {\n        if (manifest[prop] !== undefined) {\n          details[prop] = manifest[prop];\n        }\n      });\n\n      cb && cb(details);\n      return;\n    }\n  }\n\n  parseString(doc, function (err, doc) {\n    var em = getNamespaceId(doc, 'http://www.mozilla.org/2004/em-rdf#'),\n      rdf = getNamespaceId(doc, 'http://www.w3.org/1999/02/22-rdf-syntax-ns#');\n    // first description\n    var rdfNode = unprefix(doc, 'RDF', rdf);\n    var description = unprefix(rdfNode, 'Description', rdf);\n\n    if (description && description[0]) {\n      description = description[0];\n    }\n    Object.keys(description.$).forEach(function (attr) {\n      if (details[attr.replace(em + ':', '')] !== undefined) {\n        details[attr.replace(em + ':', '')] = description.$[attr];\n      }\n    });\n    Object.keys(description).forEach(function (attr) {\n      if (details[attr.replace(em + ':', '')] !== undefined) {\n        // to convert boolean strings into booleans\n        details[attr.replace(em + ':', '')] = self._sanitizePref(\n          description[attr][0]\n        );\n      }\n    });\n\n    cb && cb(details);\n  });\n};\n\nFirefoxProfile.prototype._createTempFolder = function (prefix) {\n  // Don't use an empty string for `prefix` or it might not work on some CIs (Travis)\n  return fs.mkdtempSync(path.resolve(os.tmpdir(), prefix || 'firefox-profile')) + '/';\n};\n\nFirefoxProfile.prototype._sanitizePref = function (val) {\n  if (val === 'true') {\n    return true;\n  }\n  if (val === 'false') {\n    return false;\n  } else {\n    return val;\n  }\n};\n\nFirefoxProfile.prototype._setManualProxyPreference = function (key, setting) {\n  if (!setting || setting === '') {\n    return;\n  }\n  var hostDetails = setting.split(':');\n  this.setPreference('network.proxy.' + key, hostDetails[0]);\n  if (hostDetails[1]) {\n    this.setPreference(\n      'network.proxy.' + key + '_port',\n      parseInt(hostDetails[1], 10)\n    );\n  }\n};\n\nFirefoxProfile.Finder = Finder;\n\nmodule.exports = FirefoxProfile;\n","'use strict';\n\nvar os   = require('os'),\n    fs   = require('fs'),\n    path = require('path'),\n\n    ini = require('ini');\n\n\nfunction locateUserDirectory(platform) {\n  var userDir;\n  switch (platform || os.platform()) {\n    case 'darwin':\n      userDir = path.join(process.env.HOME, '/Library/Application Support/Firefox');\n      break;\n    case 'linux':\n      userDir = path.join(process.env.HOME, '/.mozilla/firefox');\n      break;\n    case 'win32':\n      userDir = path.join(process.env.APPDATA, '/Mozilla/Firefox');\n      break;\n  }\n  return userDir;\n}\n\n/**\n * ProfileFinder constructor\n *\n * @params directory String optional - the user directory that contains `profiles.ini` file.\n * It uses ProfileFinder.locateUserDirectory() if not provided\n */\nfunction ProfileFinder(directory) {\n  this.directory = directory || ProfileFinder.locateUserDirectory();\n  this.hasReadProfiles = false;\n  this.profiles = [];\n}\n\n/**\n * returns default user profile folder\n *\n */\nProfileFinder.locateUserDirectory = locateUserDirectory;\n\n\n/**\n * Reads profiles info and stores it in this.profiles.\n *\n * @params function cb - callbabk(err, profiles)\n *\n */\nProfileFinder.prototype.readProfiles = function(cb) {\n  if (this.hasReadProfiles) { cb(null, this.profiles); }\n\n  var self = this;\n  fs.readFile(path.join(this.directory, 'profiles.ini'), {encoding: 'utf8'}, function(err, data) {\n    if (err) { cb(err); }\n    Object.entries(ini.parse(data)).forEach(function ([key, value]) {\n      if (typeof key === 'string' && key.match(/^Profile/)) {\n        self.profiles.push(value);\n      }\n    });\n    self.hasReadProfiles = true;\n    cb(null, self.profiles);\n  });\n};\n\n/**\n * returns the path to the requested profile\n *\n * @params String name - the name of the requested profile\n * @params function cb - callbabk(err, profiles)\n *\n */\nProfileFinder.prototype.getPath = function(name, cb) {\n  var self = this;\n  function findInProfiles(name, cb) {\n    var pathFound,\n        found = self.profiles.find(function(profile) {\n      return profile.Name === name;\n    });\n    if (found) {\n      pathFound = found.IsRelative ? path.join(self.directory, found.Path) : found.Path;\n    }\n    cb && cb(found ? null : new Error('cannot find profile ' + name), pathFound);\n    return pathFound;\n  }\n  if (!this.hasReadProfiles) {\n    this.readProfiles(function() {\n      findInProfiles(name, cb);\n    });\n    return;\n  }\n  return findInProfiles(name, cb);\n};\n\nmodule.exports = ProfileFinder;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 7480;\nmodule.exports = webpackEmptyContext;","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirsSync = require('../mkdirs').mkdirsSync\nconst utimesMillisSync = require('../util/utimes').utimesMillisSync\nconst stat = require('../util/stat')\n\nfunction copySync (src, dest, opts) {\n  if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  opts = opts || {}\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  const { srcStat, destStat } = stat.checkPathsSync(src, dest, 'copy')\n  stat.checkParentPathsSync(src, srcStat, dest, 'copy')\n  return handleFilterAndCopy(destStat, src, dest, opts)\n}\n\nfunction handleFilterAndCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  const destParent = path.dirname(dest)\n  if (!fs.existsSync(destParent)) mkdirsSync(destParent)\n  return startCopy(destStat, src, dest, opts)\n}\n\nfunction startCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  return getStats(destStat, src, dest, opts)\n}\n\nfunction getStats (destStat, src, dest, opts) {\n  const statSync = opts.dereference ? fs.statSync : fs.lstatSync\n  const srcStat = statSync(src)\n\n  if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isFile() ||\n           srcStat.isCharacterDevice() ||\n           srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts)\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts)\n  return mayCopyFile(srcStat, src, dest, opts)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts) {\n  if (opts.overwrite) {\n    fs.unlinkSync(dest)\n    return copyFile(srcStat, src, dest, opts)\n  } else if (opts.errorOnExist) {\n    throw new Error(`'${dest}' already exists`)\n  }\n}\n\nfunction copyFile (srcStat, src, dest, opts) {\n  fs.copyFileSync(src, dest)\n  if (opts.preserveTimestamps) handleTimestamps(srcStat.mode, src, dest)\n  return setDestMode(dest, srcStat.mode)\n}\n\nfunction handleTimestamps (srcMode, src, dest) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) makeFileWritable(dest, srcMode)\n  return setDestTimestamps(src, dest)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode) {\n  return setDestMode(dest, srcMode | 0o200)\n}\n\nfunction setDestMode (dest, srcMode) {\n  return fs.chmodSync(dest, srcMode)\n}\n\nfunction setDestTimestamps (src, dest) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  const updatedSrcStat = fs.statSync(src)\n  return utimesMillisSync(dest, updatedSrcStat.atime, updatedSrcStat.mtime)\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts)\n  if (destStat && !destStat.isDirectory()) {\n    throw new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`)\n  }\n  return copyDir(src, dest, opts)\n}\n\nfunction mkDirAndCopy (srcMode, src, dest, opts) {\n  fs.mkdirSync(dest)\n  copyDir(src, dest, opts)\n  return setDestMode(dest, srcMode)\n}\n\nfunction copyDir (src, dest, opts) {\n  fs.readdirSync(src).forEach(item => copyDirItem(item, src, dest, opts))\n}\n\nfunction copyDirItem (item, src, dest, opts) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  const { destStat } = stat.checkPathsSync(srcItem, destItem, 'copy')\n  return startCopy(destStat, srcItem, destItem, opts)\n}\n\nfunction onLink (destStat, src, dest, opts) {\n  let resolvedSrc = fs.readlinkSync(src)\n  if (opts.dereference) {\n    resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n  }\n\n  if (!destStat) {\n    return fs.symlinkSync(resolvedSrc, dest)\n  } else {\n    let resolvedDest\n    try {\n      resolvedDest = fs.readlinkSync(dest)\n    } catch (err) {\n      // dest exists and is a regular file or directory,\n      // Windows may throw UNKNOWN error. If dest already exists,\n      // fs throws error anyway, so no need to guard against it here.\n      if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlinkSync(resolvedSrc, dest)\n      throw err\n    }\n    if (opts.dereference) {\n      resolvedDest = path.resolve(process.cwd(), resolvedDest)\n    }\n    if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n      throw new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`)\n    }\n\n    // prevent copy if src is a subdir of dest since unlinking\n    // dest in this case would result in removing src contents\n    // and therefore a broken symlink would be created.\n    if (fs.statSync(dest).isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n      throw new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`)\n    }\n    return copyLink(resolvedSrc, dest)\n  }\n}\n\nfunction copyLink (resolvedSrc, dest) {\n  fs.unlinkSync(dest)\n  return fs.symlinkSync(resolvedSrc, dest)\n}\n\nmodule.exports = copySync\n","'use strict'\n\nmodule.exports = {\n  copySync: require('./copy-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirs = require('../mkdirs').mkdirs\nconst pathExists = require('../path-exists').pathExists\nconst utimesMillis = require('../util/utimes').utimesMillis\nconst stat = require('../util/stat')\n\nfunction copy (src, dest, opts, cb) {\n  if (typeof opts === 'function' && !cb) {\n    cb = opts\n    opts = {}\n  } else if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  cb = cb || function () {}\n  opts = opts || {}\n\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  stat.checkPaths(src, dest, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'copy', err => {\n      if (err) return cb(err)\n      if (opts.filter) return handleFilter(checkParentDir, destStat, src, dest, opts, cb)\n      return checkParentDir(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction checkParentDir (destStat, src, dest, opts, cb) {\n  const destParent = path.dirname(dest)\n  pathExists(destParent, (err, dirExists) => {\n    if (err) return cb(err)\n    if (dirExists) return startCopy(destStat, src, dest, opts, cb)\n    mkdirs(destParent, err => {\n      if (err) return cb(err)\n      return startCopy(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction handleFilter (onInclude, destStat, src, dest, opts, cb) {\n  Promise.resolve(opts.filter(src, dest)).then(include => {\n    if (include) return onInclude(destStat, src, dest, opts, cb)\n    return cb()\n  }, error => cb(error))\n}\n\nfunction startCopy (destStat, src, dest, opts, cb) {\n  if (opts.filter) return handleFilter(getStats, destStat, src, dest, opts, cb)\n  return getStats(destStat, src, dest, opts, cb)\n}\n\nfunction getStats (destStat, src, dest, opts, cb) {\n  const stat = opts.dereference ? fs.stat : fs.lstat\n  stat(src, (err, srcStat) => {\n    if (err) return cb(err)\n\n    if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isFile() ||\n             srcStat.isCharacterDevice() ||\n             srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts, cb)\n  })\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts, cb)\n  return mayCopyFile(srcStat, src, dest, opts, cb)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts, cb) {\n  if (opts.overwrite) {\n    fs.unlink(dest, err => {\n      if (err) return cb(err)\n      return copyFile(srcStat, src, dest, opts, cb)\n    })\n  } else if (opts.errorOnExist) {\n    return cb(new Error(`'${dest}' already exists`))\n  } else return cb()\n}\n\nfunction copyFile (srcStat, src, dest, opts, cb) {\n  fs.copyFile(src, dest, err => {\n    if (err) return cb(err)\n    if (opts.preserveTimestamps) return handleTimestampsAndMode(srcStat.mode, src, dest, cb)\n    return setDestMode(dest, srcStat.mode, cb)\n  })\n}\n\nfunction handleTimestampsAndMode (srcMode, src, dest, cb) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) {\n    return makeFileWritable(dest, srcMode, err => {\n      if (err) return cb(err)\n      return setDestTimestampsAndMode(srcMode, src, dest, cb)\n    })\n  }\n  return setDestTimestampsAndMode(srcMode, src, dest, cb)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode, cb) {\n  return setDestMode(dest, srcMode | 0o200, cb)\n}\n\nfunction setDestTimestampsAndMode (srcMode, src, dest, cb) {\n  setDestTimestamps(src, dest, err => {\n    if (err) return cb(err)\n    return setDestMode(dest, srcMode, cb)\n  })\n}\n\nfunction setDestMode (dest, srcMode, cb) {\n  return fs.chmod(dest, srcMode, cb)\n}\n\nfunction setDestTimestamps (src, dest, cb) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  fs.stat(src, (err, updatedSrcStat) => {\n    if (err) return cb(err)\n    return utimesMillis(dest, updatedSrcStat.atime, updatedSrcStat.mtime, cb)\n  })\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts, cb)\n  if (destStat && !destStat.isDirectory()) {\n    return cb(new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`))\n  }\n  return copyDir(src, dest, opts, cb)\n}\n\nfunction mkDirAndCopy (srcMode, src, dest, opts, cb) {\n  fs.mkdir(dest, err => {\n    if (err) return cb(err)\n    copyDir(src, dest, opts, err => {\n      if (err) return cb(err)\n      return setDestMode(dest, srcMode, cb)\n    })\n  })\n}\n\nfunction copyDir (src, dest, opts, cb) {\n  fs.readdir(src, (err, items) => {\n    if (err) return cb(err)\n    return copyDirItems(items, src, dest, opts, cb)\n  })\n}\n\nfunction copyDirItems (items, src, dest, opts, cb) {\n  const item = items.pop()\n  if (!item) return cb()\n  return copyDirItem(items, item, src, dest, opts, cb)\n}\n\nfunction copyDirItem (items, item, src, dest, opts, cb) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  stat.checkPaths(srcItem, destItem, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { destStat } = stats\n    startCopy(destStat, srcItem, destItem, opts, err => {\n      if (err) return cb(err)\n      return copyDirItems(items, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction onLink (destStat, src, dest, opts, cb) {\n  fs.readlink(src, (err, resolvedSrc) => {\n    if (err) return cb(err)\n    if (opts.dereference) {\n      resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n    }\n\n    if (!destStat) {\n      return fs.symlink(resolvedSrc, dest, cb)\n    } else {\n      fs.readlink(dest, (err, resolvedDest) => {\n        if (err) {\n          // dest exists and is a regular file or directory,\n          // Windows may throw UNKNOWN error. If dest already exists,\n          // fs throws error anyway, so no need to guard against it here.\n          if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest, cb)\n          return cb(err)\n        }\n        if (opts.dereference) {\n          resolvedDest = path.resolve(process.cwd(), resolvedDest)\n        }\n        if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n          return cb(new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`))\n        }\n\n        // do not copy if src is a subdir of dest since unlinking\n        // dest in this case would result in removing src contents\n        // and therefore a broken symlink would be created.\n        if (destStat.isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n          return cb(new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`))\n        }\n        return copyLink(resolvedSrc, dest, cb)\n      })\n    }\n  })\n}\n\nfunction copyLink (resolvedSrc, dest, cb) {\n  fs.unlink(dest, err => {\n    if (err) return cb(err)\n    return fs.symlink(resolvedSrc, dest, cb)\n  })\n}\n\nmodule.exports = copy\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  copy: u(require('./copy'))\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst remove = require('../remove')\n\nconst emptyDir = u(function emptyDir (dir, callback) {\n  callback = callback || function () {}\n  fs.readdir(dir, (err, items) => {\n    if (err) return mkdir.mkdirs(dir, callback)\n\n    items = items.map(item => path.join(dir, item))\n\n    deleteItem()\n\n    function deleteItem () {\n      const item = items.pop()\n      if (!item) return callback()\n      remove.remove(item, err => {\n        if (err) return callback(err)\n        deleteItem()\n      })\n    }\n  })\n})\n\nfunction emptyDirSync (dir) {\n  let items\n  try {\n    items = fs.readdirSync(dir)\n  } catch {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(item => {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir,\n  emptydir: emptyDir\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\n\nfunction createFile (file, callback) {\n  function makeFile () {\n    fs.writeFile(file, '', err => {\n      if (err) return callback(err)\n      callback()\n    })\n  }\n\n  fs.stat(file, (err, stats) => { // eslint-disable-line handle-callback-err\n    if (!err && stats.isFile()) return callback()\n    const dir = path.dirname(file)\n    fs.stat(dir, (err, stats) => {\n      if (err) {\n        // if the directory doesn't exist, make it\n        if (err.code === 'ENOENT') {\n          return mkdir.mkdirs(dir, err => {\n            if (err) return callback(err)\n            makeFile()\n          })\n        }\n        return callback(err)\n      }\n\n      if (stats.isDirectory()) makeFile()\n      else {\n        // parent is not a directory\n        // This is just to cause an internal ENOTDIR error to be thrown\n        fs.readdir(dir, err => {\n          if (err) return callback(err)\n        })\n      }\n    })\n  })\n}\n\nfunction createFileSync (file) {\n  let stats\n  try {\n    stats = fs.statSync(file)\n  } catch {}\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n  try {\n    if (!fs.statSync(dir).isDirectory()) {\n      // parent is not a directory\n      // This is just to cause an internal ENOTDIR error to be thrown\n      fs.readdirSync(dir)\n    }\n  } catch (err) {\n    // If the stat call above failed because the directory doesn't exist, create it\n    if (err && err.code === 'ENOENT') mkdir.mkdirsSync(dir)\n    else throw err\n  }\n\n  fs.writeFileSync(file, '')\n}\n\nmodule.exports = {\n  createFile: u(createFile),\n  createFileSync\n}\n","'use strict'\n\nconst file = require('./file')\nconst link = require('./link')\nconst symlink = require('./symlink')\n\nmodule.exports = {\n  // file\n  createFile: file.createFile,\n  createFileSync: file.createFileSync,\n  ensureFile: file.createFile,\n  ensureFileSync: file.createFileSync,\n  // link\n  createLink: link.createLink,\n  createLinkSync: link.createLinkSync,\n  ensureLink: link.createLink,\n  ensureLinkSync: link.createLinkSync,\n  // symlink\n  createSymlink: symlink.createSymlink,\n  createSymlinkSync: symlink.createSymlinkSync,\n  ensureSymlink: symlink.createSymlink,\n  ensureSymlinkSync: symlink.createSymlinkSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createLink (srcpath, dstpath, callback) {\n  function makeLink (srcpath, dstpath) {\n    fs.link(srcpath, dstpath, err => {\n      if (err) return callback(err)\n      callback(null)\n    })\n  }\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureLink')\n        return callback(err)\n      }\n\n      const dir = path.dirname(dstpath)\n      pathExists(dir, (err, dirExists) => {\n        if (err) return callback(err)\n        if (dirExists) return makeLink(srcpath, dstpath)\n        mkdir.mkdirs(dir, err => {\n          if (err) return callback(err)\n          makeLink(srcpath, dstpath)\n        })\n      })\n    })\n  })\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  try {\n    fs.lstatSync(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n","'use strict'\n\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst pathExists = require('../path-exists').pathExists\n\n/**\n * Function that returns two types of paths, one relative to symlink, and one\n * relative to the current working directory. Checks if path is absolute or\n * relative. If the path is relative, this function checks if the path is\n * relative to symlink or relative to current working directory. This is an\n * initiative to find a smarter `srcpath` to supply when building symlinks.\n * This allows you to determine which path to use out of one of three possible\n * types of source paths. The first is an absolute path. This is detected by\n * `path.isAbsolute()`. When an absolute path is provided, it is checked to\n * see if it exists. If it does it's used, if not an error is returned\n * (callback)/ thrown (sync). The other two options for `srcpath` are a\n * relative url. By default Node's `fs.symlink` works by creating a symlink\n * using `dstpath` and expects the `srcpath` to be relative to the newly\n * created symlink. If you provide a `srcpath` that does not exist on the file\n * system it results in a broken symlink. To minimize this, the function\n * checks to see if the 'relative to symlink' source file exists, and if it\n * does it will use it. If it does not, it checks if there's a file that\n * exists that is relative to the current working directory, if does its used.\n * This preserves the expectations of the original fs.symlink spec and adds\n * the ability to pass in `relative to current working direcotry` paths.\n */\n\nfunction symlinkPaths (srcpath, dstpath, callback) {\n  if (path.isAbsolute(srcpath)) {\n    return fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureSymlink')\n        return callback(err)\n      }\n      return callback(null, {\n        toCwd: srcpath,\n        toDst: srcpath\n      })\n    })\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    return pathExists(relativeToDst, (err, exists) => {\n      if (err) return callback(err)\n      if (exists) {\n        return callback(null, {\n          toCwd: relativeToDst,\n          toDst: srcpath\n        })\n      } else {\n        return fs.lstat(srcpath, (err) => {\n          if (err) {\n            err.message = err.message.replace('lstat', 'ensureSymlink')\n            return callback(err)\n          }\n          return callback(null, {\n            toCwd: srcpath,\n            toDst: path.relative(dstdir, srcpath)\n          })\n        })\n      }\n    })\n  }\n}\n\nfunction symlinkPathsSync (srcpath, dstpath) {\n  let exists\n  if (path.isAbsolute(srcpath)) {\n    exists = fs.existsSync(srcpath)\n    if (!exists) throw new Error('absolute srcpath does not exist')\n    return {\n      toCwd: srcpath,\n      toDst: srcpath\n    }\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    exists = fs.existsSync(relativeToDst)\n    if (exists) {\n      return {\n        toCwd: relativeToDst,\n        toDst: srcpath\n      }\n    } else {\n      exists = fs.existsSync(srcpath)\n      if (!exists) throw new Error('relative srcpath does not exist')\n      return {\n        toCwd: srcpath,\n        toDst: path.relative(dstdir, srcpath)\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  symlinkPaths,\n  symlinkPathsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction symlinkType (srcpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n  if (type) return callback(null, type)\n  fs.lstat(srcpath, (err, stats) => {\n    if (err) return callback(null, 'file')\n    type = (stats && stats.isDirectory()) ? 'dir' : 'file'\n    callback(null, type)\n  })\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  let stats\n\n  if (type) return type\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType,\n  symlinkTypeSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst _mkdirs = require('../mkdirs')\nconst mkdirs = _mkdirs.mkdirs\nconst mkdirsSync = _mkdirs.mkdirsSync\n\nconst _symlinkPaths = require('./symlink-paths')\nconst symlinkPaths = _symlinkPaths.symlinkPaths\nconst symlinkPathsSync = _symlinkPaths.symlinkPathsSync\n\nconst _symlinkType = require('./symlink-type')\nconst symlinkType = _symlinkType.symlinkType\nconst symlinkTypeSync = _symlinkType.symlinkTypeSync\n\nconst pathExists = require('../path-exists').pathExists\n\nfunction createSymlink (srcpath, dstpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    symlinkPaths(srcpath, dstpath, (err, relative) => {\n      if (err) return callback(err)\n      srcpath = relative.toDst\n      symlinkType(relative.toCwd, type, (err, type) => {\n        if (err) return callback(err)\n        const dir = path.dirname(dstpath)\n        pathExists(dir, (err, dirExists) => {\n          if (err) return callback(err)\n          if (dirExists) return fs.symlink(srcpath, dstpath, type, callback)\n          mkdirs(dir, err => {\n            if (err) return callback(err)\n            fs.symlink(srcpath, dstpath, type, callback)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction createSymlinkSync (srcpath, dstpath, type) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  const relative = symlinkPathsSync(srcpath, dstpath)\n  srcpath = relative.toDst\n  type = symlinkTypeSync(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n  const exists = fs.existsSync(dir)\n  if (exists) return fs.symlinkSync(srcpath, dstpath, type)\n  mkdirsSync(dir)\n  return fs.symlinkSync(srcpath, dstpath, type)\n}\n\nmodule.exports = {\n  createSymlink: u(createSymlink),\n  createSymlinkSync\n}\n","'use strict'\n// This is adapted from https://github.com/normalize/mz\n// Copyright (c) 2014-2016 Jonathan Ong me@jongleberry.com and Contributors\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\n\nconst api = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'copyFile',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchmod',\n  'lchown',\n  'link',\n  'lstat',\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'opendir',\n  'readdir',\n  'readFile',\n  'readlink',\n  'realpath',\n  'rename',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile'\n].filter(key => {\n  // Some commands are not available on some systems. Ex:\n  // fs.opendir was added in Node.js v12.12.0\n  // fs.lchown is not available on at least some Linux\n  return typeof fs[key] === 'function'\n})\n\n// Export all keys:\nObject.keys(fs).forEach(key => {\n  if (key === 'promises') {\n    // fs.promises is a getter property that triggers ExperimentalWarning\n    // Don't re-export it here, the getter is defined in \"lib/index.js\"\n    return\n  }\n  exports[key] = fs[key]\n})\n\n// Universalify async methods:\napi.forEach(method => {\n  exports[method] = u(fs[method])\n})\n\n// We differ from mz/fs in that we still ship the old, broken, fs.exists()\n// since we are a drop-in replacement for the native module\nexports.exists = function (filename, callback) {\n  if (typeof callback === 'function') {\n    return fs.exists(filename, callback)\n  }\n  return new Promise(resolve => {\n    return fs.exists(filename, resolve)\n  })\n}\n\n// fs.read(), fs.write(), & fs.writev() need special treatment due to multiple callback args\n\nexports.read = function (fd, buffer, offset, length, position, callback) {\n  if (typeof callback === 'function') {\n    return fs.read(fd, buffer, offset, length, position, callback)\n  }\n  return new Promise((resolve, reject) => {\n    fs.read(fd, buffer, offset, length, position, (err, bytesRead, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffer })\n    })\n  })\n}\n\n// Function signature can be\n// fs.write(fd, buffer[, offset[, length[, position]]], callback)\n// OR\n// fs.write(fd, string[, position[, encoding]], callback)\n// We need to handle both cases, so we use ...args\nexports.write = function (fd, buffer, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.write(fd, buffer, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.write(fd, buffer, ...args, (err, bytesWritten, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffer })\n    })\n  })\n}\n\n// fs.writev only available in Node v12.9.0+\nif (typeof fs.writev === 'function') {\n  // Function signature is\n  // s.writev(fd, buffers[, position], callback)\n  // We need to handle the optional arg, so we use ...args\n  exports.writev = function (fd, buffers, ...args) {\n    if (typeof args[args.length - 1] === 'function') {\n      return fs.writev(fd, buffers, ...args)\n    }\n\n    return new Promise((resolve, reject) => {\n      fs.writev(fd, buffers, ...args, (err, bytesWritten, buffers) => {\n        if (err) return reject(err)\n        resolve({ bytesWritten, buffers })\n      })\n    })\n  }\n}\n\n// fs.realpath.native only available in Node v9.2+\nif (typeof fs.realpath.native === 'function') {\n  exports.realpath.native = u(fs.realpath.native)\n}\n","'use strict'\n\nmodule.exports = {\n  // Export promiseified graceful-fs:\n  ...require('./fs'),\n  // Export extra methods:\n  ...require('./copy-sync'),\n  ...require('./copy'),\n  ...require('./empty'),\n  ...require('./ensure'),\n  ...require('./json'),\n  ...require('./mkdirs'),\n  ...require('./move-sync'),\n  ...require('./move'),\n  ...require('./output'),\n  ...require('./path-exists'),\n  ...require('./remove')\n}\n\n// Export fs.promises as a getter property so that we don't trigger\n// ExperimentalWarning before fs.promises is actually accessed.\nconst fs = require('fs')\nif (Object.getOwnPropertyDescriptor(fs, 'promises')) {\n  Object.defineProperty(module.exports, 'promises', {\n    get () { return fs.promises }\n  })\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst jsonFile = require('./jsonfile')\n\njsonFile.outputJson = u(require('./output-json'))\njsonFile.outputJsonSync = require('./output-json-sync')\n// aliases\njsonFile.outputJSON = jsonFile.outputJson\njsonFile.outputJSONSync = jsonFile.outputJsonSync\njsonFile.writeJSON = jsonFile.writeJson\njsonFile.writeJSONSync = jsonFile.writeJsonSync\njsonFile.readJSON = jsonFile.readJson\njsonFile.readJSONSync = jsonFile.readJsonSync\n\nmodule.exports = jsonFile\n","'use strict'\n\nconst jsonFile = require('jsonfile')\n\nmodule.exports = {\n  // jsonfile exports\n  readJson: jsonFile.readFile,\n  readJsonSync: jsonFile.readFileSync,\n  writeJson: jsonFile.writeFile,\n  writeJsonSync: jsonFile.writeFileSync\n}\n","'use strict'\n\nconst { stringify } = require('jsonfile/utils')\nconst { outputFileSync } = require('../output')\n\nfunction outputJsonSync (file, data, options) {\n  const str = stringify(data, options)\n\n  outputFileSync(file, str, options)\n}\n\nmodule.exports = outputJsonSync\n","'use strict'\n\nconst { stringify } = require('jsonfile/utils')\nconst { outputFile } = require('../output')\n\nasync function outputJson (file, data, options = {}) {\n  const str = stringify(data, options)\n\n  await outputFile(file, str, options)\n}\n\nmodule.exports = outputJson\n","'use strict'\nconst u = require('universalify').fromPromise\nconst { makeDir: _makeDir, makeDirSync } = require('./make-dir')\nconst makeDir = u(_makeDir)\n\nmodule.exports = {\n  mkdirs: makeDir,\n  mkdirsSync: makeDirSync,\n  // alias\n  mkdirp: makeDir,\n  mkdirpSync: makeDirSync,\n  ensureDir: makeDir,\n  ensureDirSync: makeDirSync\n}\n","// Adapted from https://github.com/sindresorhus/make-dir\n// Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict'\nconst fs = require('../fs')\nconst path = require('path')\nconst atLeastNode = require('at-least-node')\n\nconst useNativeRecursiveOption = atLeastNode('10.12.0')\n\n// https://github.com/nodejs/node/issues/8987\n// https://github.com/libuv/libuv/pull/1088\nconst checkPath = pth => {\n  if (process.platform === 'win32') {\n    const pathHasInvalidWinCharacters = /[<>:\"|?*]/.test(pth.replace(path.parse(pth).root, ''))\n\n    if (pathHasInvalidWinCharacters) {\n      const error = new Error(`Path contains invalid characters: ${pth}`)\n      error.code = 'EINVAL'\n      throw error\n    }\n  }\n}\n\nconst processOptions = options => {\n  const defaults = { mode: 0o777 }\n  if (typeof options === 'number') options = { mode: options }\n  return { ...defaults, ...options }\n}\n\nconst permissionError = pth => {\n  // This replicates the exception of `fs.mkdir` with native the\n  // `recusive` option when run on an invalid drive under Windows.\n  const error = new Error(`operation not permitted, mkdir '${pth}'`)\n  error.code = 'EPERM'\n  error.errno = -4048\n  error.path = pth\n  error.syscall = 'mkdir'\n  return error\n}\n\nmodule.exports.makeDir = async (input, options) => {\n  checkPath(input)\n  options = processOptions(options)\n\n  if (useNativeRecursiveOption) {\n    const pth = path.resolve(input)\n\n    return fs.mkdir(pth, {\n      mode: options.mode,\n      recursive: true\n    })\n  }\n\n  const make = async pth => {\n    try {\n      await fs.mkdir(pth, options.mode)\n    } catch (error) {\n      if (error.code === 'EPERM') {\n        throw error\n      }\n\n      if (error.code === 'ENOENT') {\n        if (path.dirname(pth) === pth) {\n          throw permissionError(pth)\n        }\n\n        if (error.message.includes('null bytes')) {\n          throw error\n        }\n\n        await make(path.dirname(pth))\n        return make(pth)\n      }\n\n      try {\n        const stats = await fs.stat(pth)\n        if (!stats.isDirectory()) {\n          // This error is never exposed to the user\n          // it is caught below, and the original error is thrown\n          throw new Error('The path is not a directory')\n        }\n      } catch {\n        throw error\n      }\n    }\n  }\n\n  return make(path.resolve(input))\n}\n\nmodule.exports.makeDirSync = (input, options) => {\n  checkPath(input)\n  options = processOptions(options)\n\n  if (useNativeRecursiveOption) {\n    const pth = path.resolve(input)\n\n    return fs.mkdirSync(pth, {\n      mode: options.mode,\n      recursive: true\n    })\n  }\n\n  const make = pth => {\n    try {\n      fs.mkdirSync(pth, options.mode)\n    } catch (error) {\n      if (error.code === 'EPERM') {\n        throw error\n      }\n\n      if (error.code === 'ENOENT') {\n        if (path.dirname(pth) === pth) {\n          throw permissionError(pth)\n        }\n\n        if (error.message.includes('null bytes')) {\n          throw error\n        }\n\n        make(path.dirname(pth))\n        return make(pth)\n      }\n\n      try {\n        if (!fs.statSync(pth).isDirectory()) {\n          // This error is never exposed to the user\n          // it is caught below, and the original error is thrown\n          throw new Error('The path is not a directory')\n        }\n      } catch {\n        throw error\n      }\n    }\n  }\n\n  return make(path.resolve(input))\n}\n","'use strict'\n\nmodule.exports = {\n  moveSync: require('./move-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy-sync').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirpSync\nconst stat = require('../util/stat')\n\nfunction moveSync (src, dest, opts) {\n  opts = opts || {}\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat } = stat.checkPathsSync(src, dest, 'move')\n  stat.checkParentPathsSync(src, srcStat, dest, 'move')\n  mkdirpSync(path.dirname(dest))\n  return doRename(src, dest, overwrite)\n}\n\nfunction doRename (src, dest, overwrite) {\n  if (overwrite) {\n    removeSync(dest)\n    return rename(src, dest, overwrite)\n  }\n  if (fs.existsSync(dest)) throw new Error('dest already exists.')\n  return rename(src, dest, overwrite)\n}\n\nfunction rename (src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err\n    return moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copySync(src, dest, opts)\n  return removeSync(src)\n}\n\nmodule.exports = moveSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  move: u(require('./move'))\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copy = require('../copy').copy\nconst remove = require('../remove').remove\nconst mkdirp = require('../mkdirs').mkdirp\nconst pathExists = require('../path-exists').pathExists\nconst stat = require('../util/stat')\n\nfunction move (src, dest, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  stat.checkPaths(src, dest, 'move', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'move', err => {\n      if (err) return cb(err)\n      mkdirp(path.dirname(dest), err => {\n        if (err) return cb(err)\n        return doRename(src, dest, overwrite, cb)\n      })\n    })\n  })\n}\n\nfunction doRename (src, dest, overwrite, cb) {\n  if (overwrite) {\n    return remove(dest, err => {\n      if (err) return cb(err)\n      return rename(src, dest, overwrite, cb)\n    })\n  }\n  pathExists(dest, (err, destExists) => {\n    if (err) return cb(err)\n    if (destExists) return cb(new Error('dest already exists.'))\n    return rename(src, dest, overwrite, cb)\n  })\n}\n\nfunction rename (src, dest, overwrite, cb) {\n  fs.rename(src, dest, err => {\n    if (!err) return cb()\n    if (err.code !== 'EXDEV') return cb(err)\n    return moveAcrossDevice(src, dest, overwrite, cb)\n  })\n}\n\nfunction moveAcrossDevice (src, dest, overwrite, cb) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copy(src, dest, opts, err => {\n    if (err) return cb(err)\n    return remove(src, cb)\n  })\n}\n\nmodule.exports = move\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction outputFile (file, data, encoding, callback) {\n  if (typeof encoding === 'function') {\n    callback = encoding\n    encoding = 'utf8'\n  }\n\n  const dir = path.dirname(file)\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return fs.writeFile(file, data, encoding, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n\n      fs.writeFile(file, data, encoding, callback)\n    })\n  })\n}\n\nfunction outputFileSync (file, ...args) {\n  const dir = path.dirname(file)\n  if (fs.existsSync(dir)) {\n    return fs.writeFileSync(file, ...args)\n  }\n  mkdir.mkdirsSync(dir)\n  fs.writeFileSync(file, ...args)\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n}\n","'use strict'\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\n\nfunction pathExists (path) {\n  return fs.access(path).then(() => true).catch(() => false)\n}\n\nmodule.exports = {\n  pathExists: u(pathExists),\n  pathExistsSync: fs.existsSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst rimraf = require('./rimraf')\n\nmodule.exports = {\n  remove: u(rimraf),\n  removeSync: rimraf.sync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst assert = require('assert')\n\nconst isWindows = (process.platform === 'win32')\n\nfunction defaults (options) {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n}\n\nfunction rimraf (p, options, cb) {\n  let busyTries = 0\n\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert.strictEqual(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  rimraf_(p, options, function CB (er) {\n    if (er) {\n      if ((er.code === 'EBUSY' || er.code === 'ENOTEMPTY' || er.code === 'EPERM') &&\n          busyTries < options.maxBusyTries) {\n        busyTries++\n        const time = busyTries * 100\n        // try again, with the same exact callback as this one.\n        return setTimeout(() => rimraf_(p, options, CB), time)\n      }\n\n      // already gone\n      if (er.code === 'ENOENT') er = null\n    }\n\n    cb(er)\n  })\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === 'ENOENT') {\n      return cb(null)\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === 'EPERM' && isWindows) {\n      return fixWinEPERM(p, options, er, cb)\n    }\n\n    if (st && st.isDirectory()) {\n      return rmdir(p, options, er, cb)\n    }\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === 'ENOENT') {\n          return cb(null)\n        }\n        if (er.code === 'EPERM') {\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        }\n        if (er.code === 'EISDIR') {\n          return rmdir(p, options, er, cb)\n        }\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2) {\n      cb(er2.code === 'ENOENT' ? null : er)\n    } else {\n      options.stat(p, (er3, stats) => {\n        if (er3) {\n          cb(er3.code === 'ENOENT' ? null : er)\n        } else if (stats.isDirectory()) {\n          rmdir(p, options, er, cb)\n        } else {\n          options.unlink(p, cb)\n        }\n      })\n    }\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  let stats\n\n  assert(p)\n  assert(options)\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  if (stats.isDirectory()) {\n    rmdirSync(p, options, er)\n  } else {\n    options.unlinkSync(p)\n  }\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM')) {\n      rmkids(p, options, cb)\n    } else if (er && er.code === 'ENOTDIR') {\n      cb(originalEr)\n    } else {\n      cb(er)\n    }\n  })\n}\n\nfunction rmkids (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er) return cb(er)\n\n    let n = files.length\n    let errState\n\n    if (n === 0) return options.rmdir(p, cb)\n\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState) {\n          return\n        }\n        if (er) return cb(errState = er)\n        if (--n === 0) {\n          options.rmdir(p, cb)\n        }\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  let st\n\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  try {\n    st = options.lstatSync(p)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er.code === 'EPERM' && isWindows) {\n      fixWinEPERMSync(p, options, er)\n    }\n  }\n\n  try {\n    // sunos lets the root user unlink directories, which is... weird.\n    if (st && st.isDirectory()) {\n      rmdirSync(p, options, null)\n    } else {\n      options.unlinkSync(p)\n    }\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    } else if (er.code === 'EPERM') {\n      return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n    } else if (er.code !== 'EISDIR') {\n      throw er\n    }\n    rmdirSync(p, options, er)\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === 'ENOTDIR') {\n      throw originalEr\n    } else if (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM') {\n      rmkidsSync(p, options)\n    } else if (er.code !== 'ENOENT') {\n      throw er\n    }\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  if (isWindows) {\n    // We only end up here once we got ENOTEMPTY at least once, and\n    // at this point, we are guaranteed to have removed all the kids.\n    // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n    // try really hard to delete stuff on windows, because it has a\n    // PROFOUNDLY annoying habit of not closing handles promptly when\n    // files are deleted, resulting in spurious ENOTEMPTY errors.\n    const startTime = Date.now()\n    do {\n      try {\n        const ret = options.rmdirSync(p, options)\n        return ret\n      } catch {}\n    } while (Date.now() - startTime < 500) // give up after 500ms\n  } else {\n    const ret = options.rmdirSync(p, options)\n    return ret\n  }\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","'use strict'\n\nconst fs = require('../fs')\nconst path = require('path')\nconst util = require('util')\nconst atLeastNode = require('at-least-node')\n\nconst nodeSupportsBigInt = atLeastNode('10.5.0')\nconst stat = (file) => nodeSupportsBigInt ? fs.stat(file, { bigint: true }) : fs.stat(file)\nconst statSync = (file) => nodeSupportsBigInt ? fs.statSync(file, { bigint: true }) : fs.statSync(file)\n\nfunction getStats (src, dest) {\n  return Promise.all([\n    stat(src),\n    stat(dest).catch(err => {\n      if (err.code === 'ENOENT') return null\n      throw err\n    })\n  ]).then(([srcStat, destStat]) => ({ srcStat, destStat }))\n}\n\nfunction getStatsSync (src, dest) {\n  let destStat\n  const srcStat = statSync(src)\n  try {\n    destStat = statSync(dest)\n  } catch (err) {\n    if (err.code === 'ENOENT') return { srcStat, destStat: null }\n    throw err\n  }\n  return { srcStat, destStat }\n}\n\nfunction checkPaths (src, dest, funcName, cb) {\n  util.callbackify(getStats)(src, dest, (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    if (destStat && areIdentical(srcStat, destStat)) {\n      return cb(new Error('Source and destination must not be the same.'))\n    }\n    if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n      return cb(new Error(errMsg(src, dest, funcName)))\n    }\n    return cb(null, { srcStat, destStat })\n  })\n}\n\nfunction checkPathsSync (src, dest, funcName) {\n  const { srcStat, destStat } = getStatsSync(src, dest)\n  if (destStat && areIdentical(srcStat, destStat)) {\n    throw new Error('Source and destination must not be the same.')\n  }\n  if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return { srcStat, destStat }\n}\n\n// recursively check if dest parent is a subdirectory of src.\n// It works for all file types including symlinks since it\n// checks the src and dest inodes. It starts from the deepest\n// parent and stops once it reaches the src parent or the root path.\nfunction checkParentPaths (src, srcStat, dest, funcName, cb) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return cb()\n  const callback = (err, destStat) => {\n    if (err) {\n      if (err.code === 'ENOENT') return cb()\n      return cb(err)\n    }\n    if (areIdentical(srcStat, destStat)) {\n      return cb(new Error(errMsg(src, dest, funcName)))\n    }\n    return checkParentPaths(src, srcStat, destParent, funcName, cb)\n  }\n  if (nodeSupportsBigInt) fs.stat(destParent, { bigint: true }, callback)\n  else fs.stat(destParent, callback)\n}\n\nfunction checkParentPathsSync (src, srcStat, dest, funcName) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return\n  let destStat\n  try {\n    destStat = statSync(destParent)\n  } catch (err) {\n    if (err.code === 'ENOENT') return\n    throw err\n  }\n  if (areIdentical(srcStat, destStat)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return checkParentPathsSync(src, srcStat, destParent, funcName)\n}\n\nfunction areIdentical (srcStat, destStat) {\n  if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n    if (nodeSupportsBigInt || destStat.ino < Number.MAX_SAFE_INTEGER) {\n      // definitive answer\n      return true\n    }\n    // Use additional heuristics if we can't use 'bigint'.\n    // Different 'ino' could be represented the same if they are >= Number.MAX_SAFE_INTEGER\n    // See issue 657\n    if (destStat.size === srcStat.size &&\n        destStat.mode === srcStat.mode &&\n        destStat.nlink === srcStat.nlink &&\n        destStat.atimeMs === srcStat.atimeMs &&\n        destStat.mtimeMs === srcStat.mtimeMs &&\n        destStat.ctimeMs === srcStat.ctimeMs &&\n        destStat.birthtimeMs === srcStat.birthtimeMs) {\n      // heuristic answer\n      return true\n    }\n  }\n  return false\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// It only checks the path strings.\nfunction isSrcSubdir (src, dest) {\n  const srcArr = path.resolve(src).split(path.sep).filter(i => i)\n  const destArr = path.resolve(dest).split(path.sep).filter(i => i)\n  return srcArr.reduce((acc, cur, i) => acc && destArr[i] === cur, true)\n}\n\nfunction errMsg (src, dest, funcName) {\n  return `Cannot ${funcName} '${src}' to a subdirectory of itself, '${dest}'.`\n}\n\nmodule.exports = {\n  checkPaths,\n  checkPathsSync,\n  checkParentPaths,\n  checkParentPathsSync,\n  isSrcSubdir\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction utimesMillis (path, atime, mtime, callback) {\n  // if (!HAS_MILLIS_RES) return fs.utimes(path, atime, mtime, callback)\n  fs.open(path, 'r+', (err, fd) => {\n    if (err) return callback(err)\n    fs.futimes(fd, atime, mtime, futimesErr => {\n      fs.close(fd, closeErr => {\n        if (callback) callback(futimesErr || closeErr)\n      })\n    })\n  })\n}\n\nfunction utimesMillisSync (path, atime, mtime) {\n  const fd = fs.openSync(path, 'r+')\n  fs.futimesSync(fd, atime, mtime)\n  return fs.closeSync(fd)\n}\n\nmodule.exports = {\n  utimesMillis,\n  utimesMillisSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirsSync = require('../mkdirs').mkdirsSync\nconst utimesMillisSync = require('../util/utimes').utimesMillisSync\nconst stat = require('../util/stat')\n\nfunction copySync (src, dest, opts) {\n  if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  opts = opts || {}\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  const { srcStat, destStat } = stat.checkPathsSync(src, dest, 'copy')\n  stat.checkParentPathsSync(src, srcStat, dest, 'copy')\n  return handleFilterAndCopy(destStat, src, dest, opts)\n}\n\nfunction handleFilterAndCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  const destParent = path.dirname(dest)\n  if (!fs.existsSync(destParent)) mkdirsSync(destParent)\n  return startCopy(destStat, src, dest, opts)\n}\n\nfunction startCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  return getStats(destStat, src, dest, opts)\n}\n\nfunction getStats (destStat, src, dest, opts) {\n  const statSync = opts.dereference ? fs.statSync : fs.lstatSync\n  const srcStat = statSync(src)\n\n  if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isFile() ||\n           srcStat.isCharacterDevice() ||\n           srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts)\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts)\n  return mayCopyFile(srcStat, src, dest, opts)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts) {\n  if (opts.overwrite) {\n    fs.unlinkSync(dest)\n    return copyFile(srcStat, src, dest, opts)\n  } else if (opts.errorOnExist) {\n    throw new Error(`'${dest}' already exists`)\n  }\n}\n\nfunction copyFile (srcStat, src, dest, opts) {\n  fs.copyFileSync(src, dest)\n  if (opts.preserveTimestamps) handleTimestamps(srcStat.mode, src, dest)\n  return setDestMode(dest, srcStat.mode)\n}\n\nfunction handleTimestamps (srcMode, src, dest) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) makeFileWritable(dest, srcMode)\n  return setDestTimestamps(src, dest)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode) {\n  return setDestMode(dest, srcMode | 0o200)\n}\n\nfunction setDestMode (dest, srcMode) {\n  return fs.chmodSync(dest, srcMode)\n}\n\nfunction setDestTimestamps (src, dest) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  const updatedSrcStat = fs.statSync(src)\n  return utimesMillisSync(dest, updatedSrcStat.atime, updatedSrcStat.mtime)\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts)\n  if (destStat && !destStat.isDirectory()) {\n    throw new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`)\n  }\n  return copyDir(src, dest, opts)\n}\n\nfunction mkDirAndCopy (srcMode, src, dest, opts) {\n  fs.mkdirSync(dest)\n  copyDir(src, dest, opts)\n  return setDestMode(dest, srcMode)\n}\n\nfunction copyDir (src, dest, opts) {\n  fs.readdirSync(src).forEach(item => copyDirItem(item, src, dest, opts))\n}\n\nfunction copyDirItem (item, src, dest, opts) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  const { destStat } = stat.checkPathsSync(srcItem, destItem, 'copy')\n  return startCopy(destStat, srcItem, destItem, opts)\n}\n\nfunction onLink (destStat, src, dest, opts) {\n  let resolvedSrc = fs.readlinkSync(src)\n  if (opts.dereference) {\n    resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n  }\n\n  if (!destStat) {\n    return fs.symlinkSync(resolvedSrc, dest)\n  } else {\n    let resolvedDest\n    try {\n      resolvedDest = fs.readlinkSync(dest)\n    } catch (err) {\n      // dest exists and is a regular file or directory,\n      // Windows may throw UNKNOWN error. If dest already exists,\n      // fs throws error anyway, so no need to guard against it here.\n      if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlinkSync(resolvedSrc, dest)\n      throw err\n    }\n    if (opts.dereference) {\n      resolvedDest = path.resolve(process.cwd(), resolvedDest)\n    }\n    if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n      throw new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`)\n    }\n\n    // prevent copy if src is a subdir of dest since unlinking\n    // dest in this case would result in removing src contents\n    // and therefore a broken symlink would be created.\n    if (fs.statSync(dest).isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n      throw new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`)\n    }\n    return copyLink(resolvedSrc, dest)\n  }\n}\n\nfunction copyLink (resolvedSrc, dest) {\n  fs.unlinkSync(dest)\n  return fs.symlinkSync(resolvedSrc, dest)\n}\n\nmodule.exports = copySync\n","'use strict'\n\nmodule.exports = {\n  copySync: require('./copy-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirs = require('../mkdirs').mkdirs\nconst pathExists = require('../path-exists').pathExists\nconst utimesMillis = require('../util/utimes').utimesMillis\nconst stat = require('../util/stat')\n\nfunction copy (src, dest, opts, cb) {\n  if (typeof opts === 'function' && !cb) {\n    cb = opts\n    opts = {}\n  } else if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  cb = cb || function () {}\n  opts = opts || {}\n\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  stat.checkPaths(src, dest, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'copy', err => {\n      if (err) return cb(err)\n      if (opts.filter) return handleFilter(checkParentDir, destStat, src, dest, opts, cb)\n      return checkParentDir(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction checkParentDir (destStat, src, dest, opts, cb) {\n  const destParent = path.dirname(dest)\n  pathExists(destParent, (err, dirExists) => {\n    if (err) return cb(err)\n    if (dirExists) return startCopy(destStat, src, dest, opts, cb)\n    mkdirs(destParent, err => {\n      if (err) return cb(err)\n      return startCopy(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction handleFilter (onInclude, destStat, src, dest, opts, cb) {\n  Promise.resolve(opts.filter(src, dest)).then(include => {\n    if (include) return onInclude(destStat, src, dest, opts, cb)\n    return cb()\n  }, error => cb(error))\n}\n\nfunction startCopy (destStat, src, dest, opts, cb) {\n  if (opts.filter) return handleFilter(getStats, destStat, src, dest, opts, cb)\n  return getStats(destStat, src, dest, opts, cb)\n}\n\nfunction getStats (destStat, src, dest, opts, cb) {\n  const stat = opts.dereference ? fs.stat : fs.lstat\n  stat(src, (err, srcStat) => {\n    if (err) return cb(err)\n\n    if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isFile() ||\n             srcStat.isCharacterDevice() ||\n             srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts, cb)\n  })\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts, cb)\n  return mayCopyFile(srcStat, src, dest, opts, cb)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts, cb) {\n  if (opts.overwrite) {\n    fs.unlink(dest, err => {\n      if (err) return cb(err)\n      return copyFile(srcStat, src, dest, opts, cb)\n    })\n  } else if (opts.errorOnExist) {\n    return cb(new Error(`'${dest}' already exists`))\n  } else return cb()\n}\n\nfunction copyFile (srcStat, src, dest, opts, cb) {\n  fs.copyFile(src, dest, err => {\n    if (err) return cb(err)\n    if (opts.preserveTimestamps) return handleTimestampsAndMode(srcStat.mode, src, dest, cb)\n    return setDestMode(dest, srcStat.mode, cb)\n  })\n}\n\nfunction handleTimestampsAndMode (srcMode, src, dest, cb) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) {\n    return makeFileWritable(dest, srcMode, err => {\n      if (err) return cb(err)\n      return setDestTimestampsAndMode(srcMode, src, dest, cb)\n    })\n  }\n  return setDestTimestampsAndMode(srcMode, src, dest, cb)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode, cb) {\n  return setDestMode(dest, srcMode | 0o200, cb)\n}\n\nfunction setDestTimestampsAndMode (srcMode, src, dest, cb) {\n  setDestTimestamps(src, dest, err => {\n    if (err) return cb(err)\n    return setDestMode(dest, srcMode, cb)\n  })\n}\n\nfunction setDestMode (dest, srcMode, cb) {\n  return fs.chmod(dest, srcMode, cb)\n}\n\nfunction setDestTimestamps (src, dest, cb) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  fs.stat(src, (err, updatedSrcStat) => {\n    if (err) return cb(err)\n    return utimesMillis(dest, updatedSrcStat.atime, updatedSrcStat.mtime, cb)\n  })\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts, cb)\n  if (destStat && !destStat.isDirectory()) {\n    return cb(new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`))\n  }\n  return copyDir(src, dest, opts, cb)\n}\n\nfunction mkDirAndCopy (srcMode, src, dest, opts, cb) {\n  fs.mkdir(dest, err => {\n    if (err) return cb(err)\n    copyDir(src, dest, opts, err => {\n      if (err) return cb(err)\n      return setDestMode(dest, srcMode, cb)\n    })\n  })\n}\n\nfunction copyDir (src, dest, opts, cb) {\n  fs.readdir(src, (err, items) => {\n    if (err) return cb(err)\n    return copyDirItems(items, src, dest, opts, cb)\n  })\n}\n\nfunction copyDirItems (items, src, dest, opts, cb) {\n  const item = items.pop()\n  if (!item) return cb()\n  return copyDirItem(items, item, src, dest, opts, cb)\n}\n\nfunction copyDirItem (items, item, src, dest, opts, cb) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  stat.checkPaths(srcItem, destItem, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { destStat } = stats\n    startCopy(destStat, srcItem, destItem, opts, err => {\n      if (err) return cb(err)\n      return copyDirItems(items, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction onLink (destStat, src, dest, opts, cb) {\n  fs.readlink(src, (err, resolvedSrc) => {\n    if (err) return cb(err)\n    if (opts.dereference) {\n      resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n    }\n\n    if (!destStat) {\n      return fs.symlink(resolvedSrc, dest, cb)\n    } else {\n      fs.readlink(dest, (err, resolvedDest) => {\n        if (err) {\n          // dest exists and is a regular file or directory,\n          // Windows may throw UNKNOWN error. If dest already exists,\n          // fs throws error anyway, so no need to guard against it here.\n          if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest, cb)\n          return cb(err)\n        }\n        if (opts.dereference) {\n          resolvedDest = path.resolve(process.cwd(), resolvedDest)\n        }\n        if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n          return cb(new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`))\n        }\n\n        // do not copy if src is a subdir of dest since unlinking\n        // dest in this case would result in removing src contents\n        // and therefore a broken symlink would be created.\n        if (destStat.isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n          return cb(new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`))\n        }\n        return copyLink(resolvedSrc, dest, cb)\n      })\n    }\n  })\n}\n\nfunction copyLink (resolvedSrc, dest, cb) {\n  fs.unlink(dest, err => {\n    if (err) return cb(err)\n    return fs.symlink(resolvedSrc, dest, cb)\n  })\n}\n\nmodule.exports = copy\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  copy: u(require('./copy'))\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst remove = require('../remove')\n\nconst emptyDir = u(function emptyDir (dir, callback) {\n  callback = callback || function () {}\n  fs.readdir(dir, (err, items) => {\n    if (err) return mkdir.mkdirs(dir, callback)\n\n    items = items.map(item => path.join(dir, item))\n\n    deleteItem()\n\n    function deleteItem () {\n      const item = items.pop()\n      if (!item) return callback()\n      remove.remove(item, err => {\n        if (err) return callback(err)\n        deleteItem()\n      })\n    }\n  })\n})\n\nfunction emptyDirSync (dir) {\n  let items\n  try {\n    items = fs.readdirSync(dir)\n  } catch {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(item => {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir,\n  emptydir: emptyDir\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\n\nfunction createFile (file, callback) {\n  function makeFile () {\n    fs.writeFile(file, '', err => {\n      if (err) return callback(err)\n      callback()\n    })\n  }\n\n  fs.stat(file, (err, stats) => { // eslint-disable-line handle-callback-err\n    if (!err && stats.isFile()) return callback()\n    const dir = path.dirname(file)\n    fs.stat(dir, (err, stats) => {\n      if (err) {\n        // if the directory doesn't exist, make it\n        if (err.code === 'ENOENT') {\n          return mkdir.mkdirs(dir, err => {\n            if (err) return callback(err)\n            makeFile()\n          })\n        }\n        return callback(err)\n      }\n\n      if (stats.isDirectory()) makeFile()\n      else {\n        // parent is not a directory\n        // This is just to cause an internal ENOTDIR error to be thrown\n        fs.readdir(dir, err => {\n          if (err) return callback(err)\n        })\n      }\n    })\n  })\n}\n\nfunction createFileSync (file) {\n  let stats\n  try {\n    stats = fs.statSync(file)\n  } catch {}\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n  try {\n    if (!fs.statSync(dir).isDirectory()) {\n      // parent is not a directory\n      // This is just to cause an internal ENOTDIR error to be thrown\n      fs.readdirSync(dir)\n    }\n  } catch (err) {\n    // If the stat call above failed because the directory doesn't exist, create it\n    if (err && err.code === 'ENOENT') mkdir.mkdirsSync(dir)\n    else throw err\n  }\n\n  fs.writeFileSync(file, '')\n}\n\nmodule.exports = {\n  createFile: u(createFile),\n  createFileSync\n}\n","'use strict'\n\nconst file = require('./file')\nconst link = require('./link')\nconst symlink = require('./symlink')\n\nmodule.exports = {\n  // file\n  createFile: file.createFile,\n  createFileSync: file.createFileSync,\n  ensureFile: file.createFile,\n  ensureFileSync: file.createFileSync,\n  // link\n  createLink: link.createLink,\n  createLinkSync: link.createLinkSync,\n  ensureLink: link.createLink,\n  ensureLinkSync: link.createLinkSync,\n  // symlink\n  createSymlink: symlink.createSymlink,\n  createSymlinkSync: symlink.createSymlinkSync,\n  ensureSymlink: symlink.createSymlink,\n  ensureSymlinkSync: symlink.createSymlinkSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createLink (srcpath, dstpath, callback) {\n  function makeLink (srcpath, dstpath) {\n    fs.link(srcpath, dstpath, err => {\n      if (err) return callback(err)\n      callback(null)\n    })\n  }\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureLink')\n        return callback(err)\n      }\n\n      const dir = path.dirname(dstpath)\n      pathExists(dir, (err, dirExists) => {\n        if (err) return callback(err)\n        if (dirExists) return makeLink(srcpath, dstpath)\n        mkdir.mkdirs(dir, err => {\n          if (err) return callback(err)\n          makeLink(srcpath, dstpath)\n        })\n      })\n    })\n  })\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  try {\n    fs.lstatSync(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n","'use strict'\n\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst pathExists = require('../path-exists').pathExists\n\n/**\n * Function that returns two types of paths, one relative to symlink, and one\n * relative to the current working directory. Checks if path is absolute or\n * relative. If the path is relative, this function checks if the path is\n * relative to symlink or relative to current working directory. This is an\n * initiative to find a smarter `srcpath` to supply when building symlinks.\n * This allows you to determine which path to use out of one of three possible\n * types of source paths. The first is an absolute path. This is detected by\n * `path.isAbsolute()`. When an absolute path is provided, it is checked to\n * see if it exists. If it does it's used, if not an error is returned\n * (callback)/ thrown (sync). The other two options for `srcpath` are a\n * relative url. By default Node's `fs.symlink` works by creating a symlink\n * using `dstpath` and expects the `srcpath` to be relative to the newly\n * created symlink. If you provide a `srcpath` that does not exist on the file\n * system it results in a broken symlink. To minimize this, the function\n * checks to see if the 'relative to symlink' source file exists, and if it\n * does it will use it. If it does not, it checks if there's a file that\n * exists that is relative to the current working directory, if does its used.\n * This preserves the expectations of the original fs.symlink spec and adds\n * the ability to pass in `relative to current working direcotry` paths.\n */\n\nfunction symlinkPaths (srcpath, dstpath, callback) {\n  if (path.isAbsolute(srcpath)) {\n    return fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureSymlink')\n        return callback(err)\n      }\n      return callback(null, {\n        toCwd: srcpath,\n        toDst: srcpath\n      })\n    })\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    return pathExists(relativeToDst, (err, exists) => {\n      if (err) return callback(err)\n      if (exists) {\n        return callback(null, {\n          toCwd: relativeToDst,\n          toDst: srcpath\n        })\n      } else {\n        return fs.lstat(srcpath, (err) => {\n          if (err) {\n            err.message = err.message.replace('lstat', 'ensureSymlink')\n            return callback(err)\n          }\n          return callback(null, {\n            toCwd: srcpath,\n            toDst: path.relative(dstdir, srcpath)\n          })\n        })\n      }\n    })\n  }\n}\n\nfunction symlinkPathsSync (srcpath, dstpath) {\n  let exists\n  if (path.isAbsolute(srcpath)) {\n    exists = fs.existsSync(srcpath)\n    if (!exists) throw new Error('absolute srcpath does not exist')\n    return {\n      toCwd: srcpath,\n      toDst: srcpath\n    }\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    exists = fs.existsSync(relativeToDst)\n    if (exists) {\n      return {\n        toCwd: relativeToDst,\n        toDst: srcpath\n      }\n    } else {\n      exists = fs.existsSync(srcpath)\n      if (!exists) throw new Error('relative srcpath does not exist')\n      return {\n        toCwd: srcpath,\n        toDst: path.relative(dstdir, srcpath)\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  symlinkPaths,\n  symlinkPathsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction symlinkType (srcpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n  if (type) return callback(null, type)\n  fs.lstat(srcpath, (err, stats) => {\n    if (err) return callback(null, 'file')\n    type = (stats && stats.isDirectory()) ? 'dir' : 'file'\n    callback(null, type)\n  })\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  let stats\n\n  if (type) return type\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType,\n  symlinkTypeSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst _mkdirs = require('../mkdirs')\nconst mkdirs = _mkdirs.mkdirs\nconst mkdirsSync = _mkdirs.mkdirsSync\n\nconst _symlinkPaths = require('./symlink-paths')\nconst symlinkPaths = _symlinkPaths.symlinkPaths\nconst symlinkPathsSync = _symlinkPaths.symlinkPathsSync\n\nconst _symlinkType = require('./symlink-type')\nconst symlinkType = _symlinkType.symlinkType\nconst symlinkTypeSync = _symlinkType.symlinkTypeSync\n\nconst pathExists = require('../path-exists').pathExists\n\nfunction createSymlink (srcpath, dstpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    symlinkPaths(srcpath, dstpath, (err, relative) => {\n      if (err) return callback(err)\n      srcpath = relative.toDst\n      symlinkType(relative.toCwd, type, (err, type) => {\n        if (err) return callback(err)\n        const dir = path.dirname(dstpath)\n        pathExists(dir, (err, dirExists) => {\n          if (err) return callback(err)\n          if (dirExists) return fs.symlink(srcpath, dstpath, type, callback)\n          mkdirs(dir, err => {\n            if (err) return callback(err)\n            fs.symlink(srcpath, dstpath, type, callback)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction createSymlinkSync (srcpath, dstpath, type) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  const relative = symlinkPathsSync(srcpath, dstpath)\n  srcpath = relative.toDst\n  type = symlinkTypeSync(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n  const exists = fs.existsSync(dir)\n  if (exists) return fs.symlinkSync(srcpath, dstpath, type)\n  mkdirsSync(dir)\n  return fs.symlinkSync(srcpath, dstpath, type)\n}\n\nmodule.exports = {\n  createSymlink: u(createSymlink),\n  createSymlinkSync\n}\n","'use strict'\n// This is adapted from https://github.com/normalize/mz\n// Copyright (c) 2014-2016 Jonathan Ong me@jongleberry.com and Contributors\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\n\nconst api = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'copyFile',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchmod',\n  'lchown',\n  'link',\n  'lstat',\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'opendir',\n  'readdir',\n  'readFile',\n  'readlink',\n  'realpath',\n  'rename',\n  'rm',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile'\n].filter(key => {\n  // Some commands are not available on some systems. Ex:\n  // fs.opendir was added in Node.js v12.12.0\n  // fs.rm was added in Node.js v14.14.0\n  // fs.lchown is not available on at least some Linux\n  return typeof fs[key] === 'function'\n})\n\n// Export all keys:\nObject.keys(fs).forEach(key => {\n  if (key === 'promises') {\n    // fs.promises is a getter property that triggers ExperimentalWarning\n    // Don't re-export it here, the getter is defined in \"lib/index.js\"\n    return\n  }\n  exports[key] = fs[key]\n})\n\n// Universalify async methods:\napi.forEach(method => {\n  exports[method] = u(fs[method])\n})\n\n// We differ from mz/fs in that we still ship the old, broken, fs.exists()\n// since we are a drop-in replacement for the native module\nexports.exists = function (filename, callback) {\n  if (typeof callback === 'function') {\n    return fs.exists(filename, callback)\n  }\n  return new Promise(resolve => {\n    return fs.exists(filename, resolve)\n  })\n}\n\n// fs.read(), fs.write(), & fs.writev() need special treatment due to multiple callback args\n\nexports.read = function (fd, buffer, offset, length, position, callback) {\n  if (typeof callback === 'function') {\n    return fs.read(fd, buffer, offset, length, position, callback)\n  }\n  return new Promise((resolve, reject) => {\n    fs.read(fd, buffer, offset, length, position, (err, bytesRead, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffer })\n    })\n  })\n}\n\n// Function signature can be\n// fs.write(fd, buffer[, offset[, length[, position]]], callback)\n// OR\n// fs.write(fd, string[, position[, encoding]], callback)\n// We need to handle both cases, so we use ...args\nexports.write = function (fd, buffer, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.write(fd, buffer, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.write(fd, buffer, ...args, (err, bytesWritten, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffer })\n    })\n  })\n}\n\n// fs.writev only available in Node v12.9.0+\nif (typeof fs.writev === 'function') {\n  // Function signature is\n  // s.writev(fd, buffers[, position], callback)\n  // We need to handle the optional arg, so we use ...args\n  exports.writev = function (fd, buffers, ...args) {\n    if (typeof args[args.length - 1] === 'function') {\n      return fs.writev(fd, buffers, ...args)\n    }\n\n    return new Promise((resolve, reject) => {\n      fs.writev(fd, buffers, ...args, (err, bytesWritten, buffers) => {\n        if (err) return reject(err)\n        resolve({ bytesWritten, buffers })\n      })\n    })\n  }\n}\n\n// fs.realpath.native only available in Node v9.2+\nif (typeof fs.realpath.native === 'function') {\n  exports.realpath.native = u(fs.realpath.native)\n}\n","'use strict'\n\nmodule.exports = {\n  // Export promiseified graceful-fs:\n  ...require('./fs'),\n  // Export extra methods:\n  ...require('./copy-sync'),\n  ...require('./copy'),\n  ...require('./empty'),\n  ...require('./ensure'),\n  ...require('./json'),\n  ...require('./mkdirs'),\n  ...require('./move-sync'),\n  ...require('./move'),\n  ...require('./output'),\n  ...require('./path-exists'),\n  ...require('./remove')\n}\n\n// Export fs.promises as a getter property so that we don't trigger\n// ExperimentalWarning before fs.promises is actually accessed.\nconst fs = require('fs')\nif (Object.getOwnPropertyDescriptor(fs, 'promises')) {\n  Object.defineProperty(module.exports, 'promises', {\n    get () { return fs.promises }\n  })\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst jsonFile = require('./jsonfile')\n\njsonFile.outputJson = u(require('./output-json'))\njsonFile.outputJsonSync = require('./output-json-sync')\n// aliases\njsonFile.outputJSON = jsonFile.outputJson\njsonFile.outputJSONSync = jsonFile.outputJsonSync\njsonFile.writeJSON = jsonFile.writeJson\njsonFile.writeJSONSync = jsonFile.writeJsonSync\njsonFile.readJSON = jsonFile.readJson\njsonFile.readJSONSync = jsonFile.readJsonSync\n\nmodule.exports = jsonFile\n","'use strict'\n\nconst jsonFile = require('jsonfile')\n\nmodule.exports = {\n  // jsonfile exports\n  readJson: jsonFile.readFile,\n  readJsonSync: jsonFile.readFileSync,\n  writeJson: jsonFile.writeFile,\n  writeJsonSync: jsonFile.writeFileSync\n}\n","'use strict'\n\nconst { stringify } = require('jsonfile/utils')\nconst { outputFileSync } = require('../output')\n\nfunction outputJsonSync (file, data, options) {\n  const str = stringify(data, options)\n\n  outputFileSync(file, str, options)\n}\n\nmodule.exports = outputJsonSync\n","'use strict'\n\nconst { stringify } = require('jsonfile/utils')\nconst { outputFile } = require('../output')\n\nasync function outputJson (file, data, options = {}) {\n  const str = stringify(data, options)\n\n  await outputFile(file, str, options)\n}\n\nmodule.exports = outputJson\n","'use strict'\nconst u = require('universalify').fromPromise\nconst { makeDir: _makeDir, makeDirSync } = require('./make-dir')\nconst makeDir = u(_makeDir)\n\nmodule.exports = {\n  mkdirs: makeDir,\n  mkdirsSync: makeDirSync,\n  // alias\n  mkdirp: makeDir,\n  mkdirpSync: makeDirSync,\n  ensureDir: makeDir,\n  ensureDirSync: makeDirSync\n}\n","// Adapted from https://github.com/sindresorhus/make-dir\n// Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict'\nconst fs = require('../fs')\nconst path = require('path')\nconst atLeastNode = require('at-least-node')\n\nconst useNativeRecursiveOption = atLeastNode('10.12.0')\n\n// https://github.com/nodejs/node/issues/8987\n// https://github.com/libuv/libuv/pull/1088\nconst checkPath = pth => {\n  if (process.platform === 'win32') {\n    const pathHasInvalidWinCharacters = /[<>:\"|?*]/.test(pth.replace(path.parse(pth).root, ''))\n\n    if (pathHasInvalidWinCharacters) {\n      const error = new Error(`Path contains invalid characters: ${pth}`)\n      error.code = 'EINVAL'\n      throw error\n    }\n  }\n}\n\nconst processOptions = options => {\n  const defaults = { mode: 0o777 }\n  if (typeof options === 'number') options = { mode: options }\n  return { ...defaults, ...options }\n}\n\nconst permissionError = pth => {\n  // This replicates the exception of `fs.mkdir` with native the\n  // `recusive` option when run on an invalid drive under Windows.\n  const error = new Error(`operation not permitted, mkdir '${pth}'`)\n  error.code = 'EPERM'\n  error.errno = -4048\n  error.path = pth\n  error.syscall = 'mkdir'\n  return error\n}\n\nmodule.exports.makeDir = async (input, options) => {\n  checkPath(input)\n  options = processOptions(options)\n\n  if (useNativeRecursiveOption) {\n    const pth = path.resolve(input)\n\n    return fs.mkdir(pth, {\n      mode: options.mode,\n      recursive: true\n    })\n  }\n\n  const make = async pth => {\n    try {\n      await fs.mkdir(pth, options.mode)\n    } catch (error) {\n      if (error.code === 'EPERM') {\n        throw error\n      }\n\n      if (error.code === 'ENOENT') {\n        if (path.dirname(pth) === pth) {\n          throw permissionError(pth)\n        }\n\n        if (error.message.includes('null bytes')) {\n          throw error\n        }\n\n        await make(path.dirname(pth))\n        return make(pth)\n      }\n\n      try {\n        const stats = await fs.stat(pth)\n        if (!stats.isDirectory()) {\n          // This error is never exposed to the user\n          // it is caught below, and the original error is thrown\n          throw new Error('The path is not a directory')\n        }\n      } catch {\n        throw error\n      }\n    }\n  }\n\n  return make(path.resolve(input))\n}\n\nmodule.exports.makeDirSync = (input, options) => {\n  checkPath(input)\n  options = processOptions(options)\n\n  if (useNativeRecursiveOption) {\n    const pth = path.resolve(input)\n\n    return fs.mkdirSync(pth, {\n      mode: options.mode,\n      recursive: true\n    })\n  }\n\n  const make = pth => {\n    try {\n      fs.mkdirSync(pth, options.mode)\n    } catch (error) {\n      if (error.code === 'EPERM') {\n        throw error\n      }\n\n      if (error.code === 'ENOENT') {\n        if (path.dirname(pth) === pth) {\n          throw permissionError(pth)\n        }\n\n        if (error.message.includes('null bytes')) {\n          throw error\n        }\n\n        make(path.dirname(pth))\n        return make(pth)\n      }\n\n      try {\n        if (!fs.statSync(pth).isDirectory()) {\n          // This error is never exposed to the user\n          // it is caught below, and the original error is thrown\n          throw new Error('The path is not a directory')\n        }\n      } catch {\n        throw error\n      }\n    }\n  }\n\n  return make(path.resolve(input))\n}\n","'use strict'\n\nmodule.exports = {\n  moveSync: require('./move-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy-sync').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirpSync\nconst stat = require('../util/stat')\n\nfunction moveSync (src, dest, opts) {\n  opts = opts || {}\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat } = stat.checkPathsSync(src, dest, 'move')\n  stat.checkParentPathsSync(src, srcStat, dest, 'move')\n  mkdirpSync(path.dirname(dest))\n  return doRename(src, dest, overwrite)\n}\n\nfunction doRename (src, dest, overwrite) {\n  if (overwrite) {\n    removeSync(dest)\n    return rename(src, dest, overwrite)\n  }\n  if (fs.existsSync(dest)) throw new Error('dest already exists.')\n  return rename(src, dest, overwrite)\n}\n\nfunction rename (src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err\n    return moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copySync(src, dest, opts)\n  return removeSync(src)\n}\n\nmodule.exports = moveSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  move: u(require('./move'))\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copy = require('../copy').copy\nconst remove = require('../remove').remove\nconst mkdirp = require('../mkdirs').mkdirp\nconst pathExists = require('../path-exists').pathExists\nconst stat = require('../util/stat')\n\nfunction move (src, dest, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  stat.checkPaths(src, dest, 'move', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'move', err => {\n      if (err) return cb(err)\n      mkdirp(path.dirname(dest), err => {\n        if (err) return cb(err)\n        return doRename(src, dest, overwrite, cb)\n      })\n    })\n  })\n}\n\nfunction doRename (src, dest, overwrite, cb) {\n  if (overwrite) {\n    return remove(dest, err => {\n      if (err) return cb(err)\n      return rename(src, dest, overwrite, cb)\n    })\n  }\n  pathExists(dest, (err, destExists) => {\n    if (err) return cb(err)\n    if (destExists) return cb(new Error('dest already exists.'))\n    return rename(src, dest, overwrite, cb)\n  })\n}\n\nfunction rename (src, dest, overwrite, cb) {\n  fs.rename(src, dest, err => {\n    if (!err) return cb()\n    if (err.code !== 'EXDEV') return cb(err)\n    return moveAcrossDevice(src, dest, overwrite, cb)\n  })\n}\n\nfunction moveAcrossDevice (src, dest, overwrite, cb) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copy(src, dest, opts, err => {\n    if (err) return cb(err)\n    return remove(src, cb)\n  })\n}\n\nmodule.exports = move\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction outputFile (file, data, encoding, callback) {\n  if (typeof encoding === 'function') {\n    callback = encoding\n    encoding = 'utf8'\n  }\n\n  const dir = path.dirname(file)\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return fs.writeFile(file, data, encoding, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n\n      fs.writeFile(file, data, encoding, callback)\n    })\n  })\n}\n\nfunction outputFileSync (file, ...args) {\n  const dir = path.dirname(file)\n  if (fs.existsSync(dir)) {\n    return fs.writeFileSync(file, ...args)\n  }\n  mkdir.mkdirsSync(dir)\n  fs.writeFileSync(file, ...args)\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n}\n","'use strict'\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\n\nfunction pathExists (path) {\n  return fs.access(path).then(() => true).catch(() => false)\n}\n\nmodule.exports = {\n  pathExists: u(pathExists),\n  pathExistsSync: fs.existsSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst rimraf = require('./rimraf')\n\nmodule.exports = {\n  remove: u(rimraf),\n  removeSync: rimraf.sync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst assert = require('assert')\n\nconst isWindows = (process.platform === 'win32')\n\nfunction defaults (options) {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n}\n\nfunction rimraf (p, options, cb) {\n  let busyTries = 0\n\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert.strictEqual(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  rimraf_(p, options, function CB (er) {\n    if (er) {\n      if ((er.code === 'EBUSY' || er.code === 'ENOTEMPTY' || er.code === 'EPERM') &&\n          busyTries < options.maxBusyTries) {\n        busyTries++\n        const time = busyTries * 100\n        // try again, with the same exact callback as this one.\n        return setTimeout(() => rimraf_(p, options, CB), time)\n      }\n\n      // already gone\n      if (er.code === 'ENOENT') er = null\n    }\n\n    cb(er)\n  })\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === 'ENOENT') {\n      return cb(null)\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === 'EPERM' && isWindows) {\n      return fixWinEPERM(p, options, er, cb)\n    }\n\n    if (st && st.isDirectory()) {\n      return rmdir(p, options, er, cb)\n    }\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === 'ENOENT') {\n          return cb(null)\n        }\n        if (er.code === 'EPERM') {\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        }\n        if (er.code === 'EISDIR') {\n          return rmdir(p, options, er, cb)\n        }\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2) {\n      cb(er2.code === 'ENOENT' ? null : er)\n    } else {\n      options.stat(p, (er3, stats) => {\n        if (er3) {\n          cb(er3.code === 'ENOENT' ? null : er)\n        } else if (stats.isDirectory()) {\n          rmdir(p, options, er, cb)\n        } else {\n          options.unlink(p, cb)\n        }\n      })\n    }\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  let stats\n\n  assert(p)\n  assert(options)\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  if (stats.isDirectory()) {\n    rmdirSync(p, options, er)\n  } else {\n    options.unlinkSync(p)\n  }\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM')) {\n      rmkids(p, options, cb)\n    } else if (er && er.code === 'ENOTDIR') {\n      cb(originalEr)\n    } else {\n      cb(er)\n    }\n  })\n}\n\nfunction rmkids (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er) return cb(er)\n\n    let n = files.length\n    let errState\n\n    if (n === 0) return options.rmdir(p, cb)\n\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState) {\n          return\n        }\n        if (er) return cb(errState = er)\n        if (--n === 0) {\n          options.rmdir(p, cb)\n        }\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  let st\n\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  try {\n    st = options.lstatSync(p)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er.code === 'EPERM' && isWindows) {\n      fixWinEPERMSync(p, options, er)\n    }\n  }\n\n  try {\n    // sunos lets the root user unlink directories, which is... weird.\n    if (st && st.isDirectory()) {\n      rmdirSync(p, options, null)\n    } else {\n      options.unlinkSync(p)\n    }\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    } else if (er.code === 'EPERM') {\n      return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n    } else if (er.code !== 'EISDIR') {\n      throw er\n    }\n    rmdirSync(p, options, er)\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === 'ENOTDIR') {\n      throw originalEr\n    } else if (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM') {\n      rmkidsSync(p, options)\n    } else if (er.code !== 'ENOENT') {\n      throw er\n    }\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  if (isWindows) {\n    // We only end up here once we got ENOTEMPTY at least once, and\n    // at this point, we are guaranteed to have removed all the kids.\n    // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n    // try really hard to delete stuff on windows, because it has a\n    // PROFOUNDLY annoying habit of not closing handles promptly when\n    // files are deleted, resulting in spurious ENOTEMPTY errors.\n    const startTime = Date.now()\n    do {\n      try {\n        const ret = options.rmdirSync(p, options)\n        return ret\n      } catch {}\n    } while (Date.now() - startTime < 500) // give up after 500ms\n  } else {\n    const ret = options.rmdirSync(p, options)\n    return ret\n  }\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","'use strict'\n\nconst fs = require('../fs')\nconst path = require('path')\nconst util = require('util')\nconst atLeastNode = require('at-least-node')\n\nconst nodeSupportsBigInt = atLeastNode('10.5.0')\nconst stat = (file) => nodeSupportsBigInt ? fs.stat(file, { bigint: true }) : fs.stat(file)\nconst statSync = (file) => nodeSupportsBigInt ? fs.statSync(file, { bigint: true }) : fs.statSync(file)\n\nfunction getStats (src, dest) {\n  return Promise.all([\n    stat(src),\n    stat(dest).catch(err => {\n      if (err.code === 'ENOENT') return null\n      throw err\n    })\n  ]).then(([srcStat, destStat]) => ({ srcStat, destStat }))\n}\n\nfunction getStatsSync (src, dest) {\n  let destStat\n  const srcStat = statSync(src)\n  try {\n    destStat = statSync(dest)\n  } catch (err) {\n    if (err.code === 'ENOENT') return { srcStat, destStat: null }\n    throw err\n  }\n  return { srcStat, destStat }\n}\n\nfunction checkPaths (src, dest, funcName, cb) {\n  util.callbackify(getStats)(src, dest, (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    if (destStat && areIdentical(srcStat, destStat)) {\n      return cb(new Error('Source and destination must not be the same.'))\n    }\n    if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n      return cb(new Error(errMsg(src, dest, funcName)))\n    }\n    return cb(null, { srcStat, destStat })\n  })\n}\n\nfunction checkPathsSync (src, dest, funcName) {\n  const { srcStat, destStat } = getStatsSync(src, dest)\n  if (destStat && areIdentical(srcStat, destStat)) {\n    throw new Error('Source and destination must not be the same.')\n  }\n  if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return { srcStat, destStat }\n}\n\n// recursively check if dest parent is a subdirectory of src.\n// It works for all file types including symlinks since it\n// checks the src and dest inodes. It starts from the deepest\n// parent and stops once it reaches the src parent or the root path.\nfunction checkParentPaths (src, srcStat, dest, funcName, cb) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return cb()\n  const callback = (err, destStat) => {\n    if (err) {\n      if (err.code === 'ENOENT') return cb()\n      return cb(err)\n    }\n    if (areIdentical(srcStat, destStat)) {\n      return cb(new Error(errMsg(src, dest, funcName)))\n    }\n    return checkParentPaths(src, srcStat, destParent, funcName, cb)\n  }\n  if (nodeSupportsBigInt) fs.stat(destParent, { bigint: true }, callback)\n  else fs.stat(destParent, callback)\n}\n\nfunction checkParentPathsSync (src, srcStat, dest, funcName) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return\n  let destStat\n  try {\n    destStat = statSync(destParent)\n  } catch (err) {\n    if (err.code === 'ENOENT') return\n    throw err\n  }\n  if (areIdentical(srcStat, destStat)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return checkParentPathsSync(src, srcStat, destParent, funcName)\n}\n\nfunction areIdentical (srcStat, destStat) {\n  if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n    if (nodeSupportsBigInt || destStat.ino < Number.MAX_SAFE_INTEGER) {\n      // definitive answer\n      return true\n    }\n    // Use additional heuristics if we can't use 'bigint'.\n    // Different 'ino' could be represented the same if they are >= Number.MAX_SAFE_INTEGER\n    // See issue 657\n    if (destStat.size === srcStat.size &&\n        destStat.mode === srcStat.mode &&\n        destStat.nlink === srcStat.nlink &&\n        destStat.atimeMs === srcStat.atimeMs &&\n        destStat.mtimeMs === srcStat.mtimeMs &&\n        destStat.ctimeMs === srcStat.ctimeMs &&\n        destStat.birthtimeMs === srcStat.birthtimeMs) {\n      // heuristic answer\n      return true\n    }\n  }\n  return false\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// It only checks the path strings.\nfunction isSrcSubdir (src, dest) {\n  const srcArr = path.resolve(src).split(path.sep).filter(i => i)\n  const destArr = path.resolve(dest).split(path.sep).filter(i => i)\n  return srcArr.reduce((acc, cur, i) => acc && destArr[i] === cur, true)\n}\n\nfunction errMsg (src, dest, funcName) {\n  return `Cannot ${funcName} '${src}' to a subdirectory of itself, '${dest}'.`\n}\n\nmodule.exports = {\n  checkPaths,\n  checkPathsSync,\n  checkParentPaths,\n  checkParentPathsSync,\n  isSrcSubdir\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction utimesMillis (path, atime, mtime, callback) {\n  // if (!HAS_MILLIS_RES) return fs.utimes(path, atime, mtime, callback)\n  fs.open(path, 'r+', (err, fd) => {\n    if (err) return callback(err)\n    fs.futimes(fd, atime, mtime, futimesErr => {\n      fs.close(fd, closeErr => {\n        if (callback) callback(futimesErr || closeErr)\n      })\n    })\n  })\n}\n\nfunction utimesMillisSync (path, atime, mtime) {\n  const fd = fs.openSync(path, 'r+')\n  fs.futimesSync(fd, atime, mtime)\n  return fs.closeSync(fd)\n}\n\nmodule.exports = {\n  utimesMillis,\n  utimesMillisSync\n}\n","'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function (...args) {\n    if (typeof args[args.length - 1] === 'function') fn.apply(this, args)\n    else {\n      return new Promise((resolve, reject) => {\n        fn.call(\n          this,\n          ...args,\n          (err, res) => (err != null) ? reject(err) : resolve(res)\n        )\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function (...args) {\n    const cb = args[args.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, args)\n    else fn.apply(this, args.slice(0, -1)).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n","'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n * @returns {string}\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (enclosure.test(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlob(str) || globby.test(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          retry()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      retry()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return fs$copyFile(src, dest, flags, function (err) {\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([fs$copyFile, [src, dest, flags, cb]])\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    })\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n}\n\nfunction retry () {\n  var elem = fs[gracefulQueue].shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","const { hasOwnProperty } = Object.prototype\n\nconst eol = typeof process !== 'undefined' &&\n  process.platform === 'win32' ? '\\r\\n' : '\\n'\n\nconst encode = (obj, opt) => {\n  const children = []\n  let out = ''\n\n  if (typeof opt === 'string') {\n    opt = {\n      section: opt,\n      whitespace: false,\n    }\n  } else {\n    opt = opt || Object.create(null)\n    opt.whitespace = opt.whitespace === true\n  }\n\n  const separator = opt.whitespace ? ' = ' : '='\n\n  for (const k of Object.keys(obj)) {\n    const val = obj[k]\n    if (val && Array.isArray(val)) {\n      for (const item of val)\n        out += safe(k + '[]') + separator + safe(item) + '\\n'\n    } else if (val && typeof val === 'object')\n      children.push(k)\n    else\n      out += safe(k) + separator + safe(val) + eol\n  }\n\n  if (opt.section && out.length)\n    out = '[' + safe(opt.section) + ']' + eol + out\n\n  for (const k of children) {\n    const nk = dotSplit(k).join('\\\\.')\n    const section = (opt.section ? opt.section + '.' : '') + nk\n    const { whitespace } = opt\n    const child = encode(obj[k], {\n      section,\n      whitespace,\n    })\n    if (out.length && child.length)\n      out += eol\n\n    out += child\n  }\n\n  return out\n}\n\nconst dotSplit = str =>\n  str.replace(/\\1/g, '\\u0002LITERAL\\\\1LITERAL\\u0002')\n    .replace(/\\\\\\./g, '\\u0001')\n    .split(/\\./)\n    .map(part =>\n      part.replace(/\\1/g, '\\\\.')\n        .replace(/\\2LITERAL\\\\1LITERAL\\2/g, '\\u0001'))\n\nconst decode = str => {\n  const out = Object.create(null)\n  let p = out\n  let section = null\n  //          section     |key      = value\n  const re = /^\\[([^\\]]*)\\]$|^([^=]+)(=(.*))?$/i\n  const lines = str.split(/[\\r\\n]+/g)\n\n  for (const line of lines) {\n    if (!line || line.match(/^\\s*[;#]/))\n      continue\n    const match = line.match(re)\n    if (!match)\n      continue\n    if (match[1] !== undefined) {\n      section = unsafe(match[1])\n      if (section === '__proto__') {\n        // not allowed\n        // keep parsing the section, but don't attach it.\n        p = Object.create(null)\n        continue\n      }\n      p = out[section] = out[section] || Object.create(null)\n      continue\n    }\n    const keyRaw = unsafe(match[2])\n    const isArray = keyRaw.length > 2 && keyRaw.slice(-2) === '[]'\n    const key = isArray ? keyRaw.slice(0, -2) : keyRaw\n    if (key === '__proto__')\n      continue\n    const valueRaw = match[3] ? unsafe(match[4]) : true\n    const value = valueRaw === 'true' ||\n      valueRaw === 'false' ||\n      valueRaw === 'null' ? JSON.parse(valueRaw)\n      : valueRaw\n\n    // Convert keys with '[]' suffix to an array\n    if (isArray) {\n      if (!hasOwnProperty.call(p, key))\n        p[key] = []\n      else if (!Array.isArray(p[key]))\n        p[key] = [p[key]]\n    }\n\n    // safeguard against resetting a previously defined\n    // array by accidentally forgetting the brackets\n    if (Array.isArray(p[key]))\n      p[key].push(value)\n    else\n      p[key] = value\n  }\n\n  // {a:{y:1},\"a.b\":{x:2}} --> {a:{y:1,b:{x:2}}}\n  // use a filter to return the keys that have to be deleted.\n  const remove = []\n  for (const k of Object.keys(out)) {\n    if (!hasOwnProperty.call(out, k) ||\n        typeof out[k] !== 'object' ||\n        Array.isArray(out[k]))\n      continue\n\n    // see if the parent section is also an object.\n    // if so, add it to that, and mark this one for deletion\n    const parts = dotSplit(k)\n    let p = out\n    const l = parts.pop()\n    const nl = l.replace(/\\\\\\./g, '.')\n    for (const part of parts) {\n      if (part === '__proto__')\n        continue\n      if (!hasOwnProperty.call(p, part) || typeof p[part] !== 'object')\n        p[part] = Object.create(null)\n      p = p[part]\n    }\n    if (p === out && nl === l)\n      continue\n\n    p[nl] = out[k]\n    remove.push(k)\n  }\n  for (const del of remove)\n    delete out[del]\n\n  return out\n}\n\nconst isQuoted = val =>\n  (val.charAt(0) === '\"' && val.slice(-1) === '\"') ||\n    (val.charAt(0) === \"'\" && val.slice(-1) === \"'\")\n\nconst safe = val =>\n  (typeof val !== 'string' ||\n    val.match(/[=\\r\\n]/) ||\n    val.match(/^\\[/) ||\n    (val.length > 1 &&\n     isQuoted(val)) ||\n    val !== val.trim())\n    ? JSON.stringify(val)\n    : val.replace(/;/g, '\\\\;').replace(/#/g, '\\\\#')\n\nconst unsafe = (val, doUnesc) => {\n  val = (val || '').trim()\n  if (isQuoted(val)) {\n    // remove the single quotes before calling JSON.parse\n    if (val.charAt(0) === \"'\")\n      val = val.substr(1, val.length - 2)\n\n    try {\n      val = JSON.parse(val)\n    } catch (_) {}\n  } else {\n    // walk the val to find the first not-escaped ; character\n    let esc = false\n    let unesc = ''\n    for (let i = 0, l = val.length; i < l; i++) {\n      const c = val.charAt(i)\n      if (esc) {\n        if ('\\\\;#'.indexOf(c) !== -1)\n          unesc += c\n        else\n          unesc += '\\\\' + c\n\n        esc = false\n      } else if (';#'.indexOf(c) !== -1)\n        break\n      else if (c === '\\\\')\n        esc = true\n      else\n        unesc += c\n    }\n    if (esc)\n      unesc += '\\\\'\n\n    return unesc.trim()\n  }\n  return val\n}\n\nmodule.exports = {\n  parse: decode,\n  decode,\n  stringify: encode,\n  encode,\n  safe,\n  unsafe,\n}\n","'use strict';\n\nmodule.exports = url => {\n\tif (typeof url !== 'string') {\n\t\tthrow new TypeError(`Expected a \\`string\\`, got \\`${typeof url}\\``);\n\t}\n\n\t// Don't match Windows paths `c:\\`\n\tif (/^[a-zA-Z]:\\\\/.test(url)) {\n\t\treturn false;\n\t}\n\n\t// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n\t// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n\treturn /^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(url);\n};\n","'use strict';\nconst path = require('path');\nconst binaryExtensions = require('binary-extensions');\n\nconst extensions = new Set(binaryExtensions);\n\nmodule.exports = filePath => extensions.has(path.extname(filePath).slice(1).toLowerCase());\n","/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n","/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictRegex = /\\\\(.)|(^!|\\*|[\\].+)]\\?|\\[[^\\\\\\]]+\\]|\\{[^\\\\}]+\\}|\\(\\?[:!=][^\\\\)]+\\)|\\([^|]+\\|[^\\\\)]+\\))/;\nvar relaxedRegex = /\\\\(.)|(^!|[*?{}()[\\]]|\\(\\?)/;\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var regex = strictRegex;\n  var match;\n\n  // optionally relax regex\n  if (options && options.strict === false) {\n    regex = relaxedRegex;\n  }\n\n  while ((match = regex.exec(str))) {\n    if (match[2]) return true;\n    var idx = match.index + match[0].length;\n\n    // if an open bracket/brace/paren is escaped,\n    // set the index to the next closing character\n    var open = match[1];\n    var close = open ? chars[open] : null;\n    if (open && close) {\n      var n = str.indexOf(close, idx);\n      if (n !== -1) {\n        idx = n + 1;\n      }\n    }\n\n    str = str.slice(idx);\n  }\n  return false;\n};\n","/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n","let _fs\ntry {\n  _fs = require('graceful-fs')\n} catch (_) {\n  _fs = require('fs')\n}\nconst universalify = require('universalify')\nconst { stringify, stripBom } = require('./utils')\n\nasync function _readFile (file, options = {}) {\n  if (typeof options === 'string') {\n    options = { encoding: options }\n  }\n\n  const fs = options.fs || _fs\n\n  const shouldThrow = 'throws' in options ? options.throws : true\n\n  let data = await universalify.fromCallback(fs.readFile)(file, options)\n\n  data = stripBom(data)\n\n  let obj\n  try {\n    obj = JSON.parse(data, options ? options.reviver : null)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = `${file}: ${err.message}`\n      throw err\n    } else {\n      return null\n    }\n  }\n\n  return obj\n}\n\nconst readFile = universalify.fromPromise(_readFile)\n\nfunction readFileSync (file, options = {}) {\n  if (typeof options === 'string') {\n    options = { encoding: options }\n  }\n\n  const fs = options.fs || _fs\n\n  const shouldThrow = 'throws' in options ? options.throws : true\n\n  try {\n    let content = fs.readFileSync(file, options)\n    content = stripBom(content)\n    return JSON.parse(content, options.reviver)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = `${file}: ${err.message}`\n      throw err\n    } else {\n      return null\n    }\n  }\n}\n\nasync function _writeFile (file, obj, options = {}) {\n  const fs = options.fs || _fs\n\n  const str = stringify(obj, options)\n\n  await universalify.fromCallback(fs.writeFile)(file, str, options)\n}\n\nconst writeFile = universalify.fromPromise(_writeFile)\n\nfunction writeFileSync (file, obj, options = {}) {\n  const fs = options.fs || _fs\n\n  const str = stringify(obj, options)\n  // not sure if fs.writeFileSync returns anything, but just in case\n  return fs.writeFileSync(file, str, options)\n}\n\nconst jsonfile = {\n  readFile,\n  readFileSync,\n  writeFile,\n  writeFileSync\n}\n\nmodule.exports = jsonfile\n","'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function (...args) {\n    if (typeof args[args.length - 1] === 'function') fn.apply(this, args)\n    else {\n      return new Promise((resolve, reject) => {\n        fn.call(\n          this,\n          ...args,\n          (err, res) => (err != null) ? reject(err) : resolve(res)\n        )\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function (...args) {\n    const cb = args[args.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, args)\n    else fn.apply(this, args.slice(0, -1)).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n","function stringify (obj, { EOL = '\\n', finalEOL = true, replacer = null, spaces } = {}) {\n  const EOF = finalEOL ? EOL : ''\n  const str = JSON.stringify(obj, replacer, spaces)\n\n  return str.replace(/\\n/g, EOL) + EOF\n}\n\nfunction stripBom (content) {\n  // we do this because JSON.parse would convert it to a utf8 string if encoding wasn't specified\n  if (Buffer.isBuffer(content)) content = content.toString('utf8')\n  return content.replace(/^\\uFEFF/, '')\n}\n\nmodule.exports = { stringify, stripBom }\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n    \n    var cb = f || function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                if (path.dirname(p) === p) return cb(er);\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) {\n                    throw err0;\n                }\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","/*!\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nmodule.exports = function(path, stripTrailing) {\n  if (typeof path !== 'string') {\n    throw new TypeError('expected path to be a string');\n  }\n\n  if (path === '\\\\' || path === '/') return '/';\n\n  var len = path.length;\n  if (len <= 1) return path;\n\n  // ensure that win32 namespaces has two leading slashes, so that the path is\n  // handled properly by the win32 version of path.parse() after being normalized\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\n  var prefix = '';\n  if (len > 4 && path[3] === '\\\\') {\n    var ch = path[2];\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\n      path = path.slice(2);\n      prefix = '//';\n    }\n  }\n\n  var segs = path.split(/[/\\\\]+/);\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\n    segs.pop();\n  }\n  return prefix + segs.join('/');\n};\n","'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = (opts) => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index];\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren' && !EXTGLOB_CHARS[tok.value]) {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.prev.type === 'bos' && eos()) {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance() || '';\n      } else {\n        value += advance() || '';\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = (opts) => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.compileRe = (parsed, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return parsed.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${parsed.output})${append}`;\n  if (parsed && parsed.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = parsed;\n  }\n\n  return regex;\n};\n\npicomatch.makeRe = (input, options, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  const opts = options || {};\n  let parsed = { negated: false, fastpaths: true };\n  let prefix = '';\n  let output;\n\n  if (input.startsWith('./')) {\n    input = input.slice(2);\n    prefix = parsed.prefix = './';\n  }\n\n  if (opts.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    output = parse.fastpaths(input, options);\n  }\n\n  if (output === undefined) {\n    parsed = parse(input, options);\n    parsed.prefix = prefix + (parsed.prefix || '');\n  } else {\n    parsed.output = output;\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), and `negated` (true if the path starts with `!`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n          break;\n        }\n      }\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","'use strict';\n\nconst fs = require('fs');\nconst { Readable } = require('stream');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst picomatch = require('picomatch');\n\nconst readdir = promisify(fs.readdir);\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst realpath = promisify(fs.realpath);\n\n/**\n * @typedef {Object} EntryInfo\n * @property {String} path\n * @property {String} fullPath\n * @property {fs.Stats=} stats\n * @property {fs.Dirent=} dirent\n * @property {String} basename\n */\n\nconst BANG = '!';\nconst NORMAL_FLOW_ERRORS = new Set(['ENOENT', 'EPERM', 'EACCES', 'ELOOP']);\nconst FILE_TYPE = 'files';\nconst DIR_TYPE = 'directories';\nconst FILE_DIR_TYPE = 'files_directories';\nconst EVERYTHING_TYPE = 'all';\nconst ALL_TYPES = [FILE_TYPE, DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE];\n\nconst isNormalFlowError = error => NORMAL_FLOW_ERRORS.has(error.code);\n\nconst normalizeFilter = filter => {\n  if (filter === undefined) return;\n  if (typeof filter === 'function') return filter;\n\n  if (typeof filter === 'string') {\n    const glob = picomatch(filter.trim());\n    return entry => glob(entry.basename);\n  }\n\n  if (Array.isArray(filter)) {\n    const positive = [];\n    const negative = [];\n    for (const item of filter) {\n      const trimmed = item.trim();\n      if (trimmed.charAt(0) === BANG) {\n        negative.push(picomatch(trimmed.slice(1)));\n      } else {\n        positive.push(picomatch(trimmed));\n      }\n    }\n\n    if (negative.length > 0) {\n      if (positive.length > 0) {\n        return entry =>\n          positive.some(f => f(entry.basename)) && !negative.some(f => f(entry.basename));\n      }\n      return entry => !negative.some(f => f(entry.basename));\n    }\n    return entry => positive.some(f => f(entry.basename));\n  }\n};\n\nclass ReaddirpStream extends Readable {\n  static get defaultOptions() {\n    return {\n      root: '.',\n      /* eslint-disable no-unused-vars */\n      fileFilter: (path) => true,\n      directoryFilter: (path) => true,\n      /* eslint-enable no-unused-vars */\n      type: FILE_TYPE,\n      lstat: false,\n      depth: 2147483648,\n      alwaysStat: false\n    };\n  }\n\n  constructor(options = {}) {\n    super({\n      objectMode: true,\n      autoDestroy: true,\n      highWaterMark: options.highWaterMark || 4096\n    });\n    const opts = { ...ReaddirpStream.defaultOptions, ...options };\n    const { root, type } = opts;\n\n    this._fileFilter = normalizeFilter(opts.fileFilter);\n    this._directoryFilter = normalizeFilter(opts.directoryFilter);\n\n    const statMethod = opts.lstat ? lstat : stat;\n    // Use bigint stats if it's windows and stat() supports options (node 10+).\n    if (process.platform === 'win32' && stat.length === 3) {\n      this._stat = path => statMethod(path, { bigint: true });\n    } else {\n      this._stat = statMethod;\n    }\n\n    this._maxDepth = opts.depth;\n    this._wantsDir = [DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\n    this._wantsFile = [FILE_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\n    this._wantsEverything = type === EVERYTHING_TYPE;\n    this._root = sysPath.resolve(root);\n    this._isDirent = ('Dirent' in fs) && !opts.alwaysStat;\n    this._statsProp = this._isDirent ? 'dirent' : 'stats';\n    this._rdOptions = { encoding: 'utf8', withFileTypes: this._isDirent };\n\n    // Launch stream with one parent, the root dir.\n    this.parents = [this._exploreDir(root, 1)];\n    this.reading = false;\n    this.parent = undefined;\n  }\n\n  async _read(batch) {\n    if (this.reading) return;\n    this.reading = true;\n\n    try {\n      while (!this.destroyed && batch > 0) {\n        const { path, depth, files = [] } = this.parent || {};\n\n        if (files.length > 0) {\n          const slice = files.splice(0, batch).map(dirent => this._formatEntry(dirent, path));\n          for (const entry of await Promise.all(slice)) {\n            if (this.destroyed) return;\n\n            const entryType = await this._getEntryType(entry);\n            if (entryType === 'directory' && this._directoryFilter(entry)) {\n              if (depth <= this._maxDepth) {\n                this.parents.push(this._exploreDir(entry.fullPath, depth + 1));\n              }\n\n              if (this._wantsDir) {\n                this.push(entry);\n                batch--;\n              }\n            } else if ((entryType === 'file' || this._includeAsFile(entry)) && this._fileFilter(entry)) {\n              if (this._wantsFile) {\n                this.push(entry);\n                batch--;\n              }\n            }\n          }\n        } else {\n          const parent = this.parents.pop();\n          if (!parent) {\n            this.push(null);\n            break;\n          }\n          this.parent = await parent;\n          if (this.destroyed) return;\n        }\n      }\n    } catch (error) {\n      this.destroy(error);\n    } finally {\n      this.reading = false;\n    }\n  }\n\n  async _exploreDir(path, depth) {\n    let files;\n    try {\n      files = await readdir(path, this._rdOptions);\n    } catch (error) {\n      this._onError(error);\n    }\n    return {files, depth, path};\n  }\n\n  async _formatEntry(dirent, path) {\n    let entry;\n    try {\n      const basename = this._isDirent ? dirent.name : dirent;\n      const fullPath = sysPath.resolve(sysPath.join(path, basename));\n      entry = {path: sysPath.relative(this._root, fullPath), fullPath, basename};\n      entry[this._statsProp] = this._isDirent ? dirent : await this._stat(fullPath);\n    } catch (err) {\n      this._onError(err);\n    }\n    return entry;\n  }\n\n  _onError(err) {\n    if (isNormalFlowError(err) && !this.destroyed) {\n      this.emit('warn', err);\n    } else {\n      this.destroy(err);\n    }\n  }\n\n  async _getEntryType(entry) {\n    // entry may be undefined, because a warning or an error were emitted\n    // and the statsProp is undefined\n    const stats = entry && entry[this._statsProp];\n    if (!stats) {\n      return;\n    }\n    if (stats.isFile()) {\n      return 'file';\n    }\n    if (stats.isDirectory()) {\n      return 'directory';\n    }\n    if (stats && stats.isSymbolicLink()) {\n      const full = entry.fullPath;\n      try {\n        const entryRealPath = await realpath(full);\n        const entryRealPathStats = await lstat(entryRealPath);\n        if (entryRealPathStats.isFile()) {\n          return 'file';\n        }\n        if (entryRealPathStats.isDirectory()) {\n          const len = entryRealPath.length;\n          if (full.startsWith(entryRealPath) && full.substr(len, 1) === sysPath.sep) {\n            return this._onError(new Error(\n              `Circular symlink detected: \"${full}\" points to \"${entryRealPath}\"`\n            ));\n          }\n          return 'directory';\n        }\n      } catch (error) {\n        this._onError(error);\n      }\n    }\n  }\n\n  _includeAsFile(entry) {\n    const stats = entry && entry[this._statsProp];\n\n    return stats && this._wantsEverything && !stats.isDirectory();\n  }\n}\n\n/**\n * @typedef {Object} ReaddirpArguments\n * @property {Function=} fileFilter\n * @property {Function=} directoryFilter\n * @property {String=} type\n * @property {Number=} depth\n * @property {String=} root\n * @property {Boolean=} lstat\n * @property {Boolean=} bigint\n */\n\n/**\n * Main function which ends up calling readdirRec and reads all files and directories in given root recursively.\n * @param {String} root Root directory\n * @param {ReaddirpArguments=} options Options to specify root (start directory), filters and recursion depth\n */\nconst readdirp = (root, options = {}) => {\n  let type = options.entryType || options.type;\n  if (type === 'both') type = FILE_DIR_TYPE; // backwards-compatibility\n  if (type) options.type = type;\n  if (!root) {\n    throw new Error('readdirp: root argument is required. Usage: readdirp(root, options)');\n  } else if (typeof root !== 'string') {\n    throw new TypeError('readdirp: root argument must be a string. Usage: readdirp(root, options)');\n  } else if (type && !ALL_TYPES.includes(type)) {\n    throw new Error(`readdirp: Invalid type passed. Use one of ${ALL_TYPES.join(', ')}`);\n  }\n\n  options.root = root;\n  return new ReaddirpStream(options);\n};\n\nconst readdirpPromise = (root, options = {}) => {\n  return new Promise((resolve, reject) => {\n    const files = [];\n    readdirp(root, options)\n      .on('data', entry => files.push(entry))\n      .on('end', () => resolve(files))\n      .on('error', error => reject(error));\n  });\n};\n\nreaddirp.promise = readdirpPromise;\nreaddirp.ReaddirpStream = ReaddirpStream;\nreaddirp.default = readdirp;\n\nmodule.exports = readdirp;\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nclass ArraySet {\n  constructor() {\n    this._array = [];\n    this._set = new Map();\n  }\n\n  /**\n   * Static method for creating ArraySet instances from an existing array.\n   */\n  static fromArray(aArray, aAllowDuplicates) {\n    const set = new ArraySet();\n    for (let i = 0, len = aArray.length; i < len; i++) {\n      set.add(aArray[i], aAllowDuplicates);\n    }\n    return set;\n  }\n\n  /**\n   * Return how many unique items are in this ArraySet. If duplicates have been\n   * added, than those do not count towards the size.\n   *\n   * @returns Number\n   */\n  size() {\n    return this._set.size;\n  }\n\n  /**\n   * Add the given string to this set.\n   *\n   * @param String aStr\n   */\n  add(aStr, aAllowDuplicates) {\n    const isDuplicate = this.has(aStr);\n    const idx = this._array.length;\n    if (!isDuplicate || aAllowDuplicates) {\n      this._array.push(aStr);\n    }\n    if (!isDuplicate) {\n      this._set.set(aStr, idx);\n    }\n  }\n\n  /**\n   * Is the given string a member of this set?\n   *\n   * @param String aStr\n   */\n  has(aStr) {\n      return this._set.has(aStr);\n  }\n\n  /**\n   * What is the index of the given string in the array?\n   *\n   * @param String aStr\n   */\n  indexOf(aStr) {\n    const idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n    throw new Error('\"' + aStr + '\" is not in the set.');\n  }\n\n  /**\n   * What is the element at the given index?\n   *\n   * @param Number aIdx\n   */\n  at(aIdx) {\n    if (aIdx >= 0 && aIdx < this._array.length) {\n      return this._array[aIdx];\n    }\n    throw new Error(\"No element indexed by \" + aIdx);\n  }\n\n  /**\n   * Returns the array representation of this set (which has the proper indices\n   * indicated by indexOf). Note that this is a copy of the internal array used\n   * for storing the members so that no one can mess with internal state.\n   */\n  toArray() {\n    return this._array.slice();\n  }\n}\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst base64 = require(\"./base64\");\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nconst VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nconst VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nconst VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nconst VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\n// eslint-disable-next-line no-unused-vars\nfunction fromVLQSigned(aValue) {\n  const isNegative = (aValue & 1) === 1;\n  const shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  let encoded = \"\";\n  let digit;\n\n  let vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nconst intToCharMap = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function(number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  const mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  const cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  } else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    }\n    return mid;\n  }\n\n  // Our needle is less than aHaystack[mid].\n  if (mid - aLow > 1) {\n    // The element is in the lower half.\n    return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n  }\n\n  // we are in termination case (3) or (2) and return the appropriate thing.\n  if (aBias == exports.LEAST_UPPER_BOUND) {\n    return mid;\n  }\n  return aLow < 0 ? -1 : aLow;\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  let index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nconst util = require(\"./util\");\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  const lineA = mappingA.generatedLine;\n  const lineB = mappingB.generatedLine;\n  const columnA = mappingA.generatedColumn;\n  const columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a negligible overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nclass MappingList {\n  constructor() {\n    this._array = [];\n    this._sorted = true;\n    // Serves as infimum\n    this._last = {generatedLine: -1, generatedColumn: 0};\n  }\n\n  /**\n   * Iterate through internal items. This method takes the same arguments that\n   * `Array.prototype.forEach` takes.\n   *\n   * NOTE: The order of the mappings is NOT guaranteed.\n   */\n  unsortedForEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  }\n\n  /**\n   * Add the given source mapping.\n   *\n   * @param Object aMapping\n   */\n  add(aMapping) {\n    if (generatedPositionAfter(this._last, aMapping)) {\n      this._last = aMapping;\n      this._array.push(aMapping);\n    } else {\n      this._sorted = false;\n      this._array.push(aMapping);\n    }\n  }\n\n  /**\n   * Returns the flat, sorted array of mappings. The mappings are sorted by\n   * generated position.\n   *\n   * WARNING: This method returns internal data without copying, for\n   * performance. The return value must NOT be mutated, and should be treated as\n   * an immutable borrow. If you want to take ownership, you must make your own\n   * copy.\n   */\n  toArray() {\n    if (!this._sorted) {\n      this._array.sort(util.compareByGeneratedPositionsInflated);\n      this._sorted = true;\n    }\n    return this._array;\n  }\n}\n\nexports.MappingList = MappingList;\n","if (typeof fetch === \"function\") {\n  // Web version of reading a wasm file into an array buffer.\n\n  let mappingsWasmUrl = null;\n\n  module.exports = function readWasm() {\n    if (typeof mappingsWasmUrl !== \"string\") {\n      throw new Error(\"You must provide the URL of lib/mappings.wasm by calling \" +\n                      \"SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) \" +\n                      \"before using SourceMapConsumer\");\n    }\n\n    return fetch(mappingsWasmUrl)\n      .then(response => response.arrayBuffer());\n  };\n\n  module.exports.initialize = url => mappingsWasmUrl = url;\n} else {\n  // Node version of reading a wasm file into an array buffer.\n  const fs = require(\"fs\");\n  const path = require(\"path\");\n\n  module.exports = function readWasm() {\n    return new Promise((resolve, reject) => {\n      const wasmPath = path.join(__dirname, \"mappings.wasm\");\n      fs.readFile(wasmPath, null, (error, data) => {\n        if (error) {\n          reject(error);\n          return;\n        }\n\n        resolve(data.buffer);\n      });\n    });\n  };\n\n  module.exports.initialize = _ => {\n    console.debug(\"SourceMapConsumer.initialize is a no-op when running in node.js\");\n  };\n}\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nconst util = require(\"./util\");\nconst binarySearch = require(\"./binary-search\");\nconst ArraySet = require(\"./array-set\").ArraySet;\nconst base64VLQ = require(\"./base64-vlq\"); // eslint-disable-line no-unused-vars\nconst readWasm = require(\"../lib/read-wasm\");\nconst wasm = require(\"./wasm\");\n\nconst INTERNAL = Symbol(\"smcInternal\");\n\nclass SourceMapConsumer {\n  constructor(aSourceMap, aSourceMapURL) {\n    // If the constructor was called by super(), just return Promise<this>.\n    // Yes, this is a hack to retain the pre-existing API of the base-class\n    // constructor also being an async factory function.\n    if (aSourceMap == INTERNAL) {\n      return Promise.resolve(this);\n    }\n\n    return _factory(aSourceMap, aSourceMapURL);\n  }\n\n  static initialize(opts) {\n    readWasm.initialize(opts[\"lib/mappings.wasm\"]);\n  }\n\n  static fromSourceMap(aSourceMap, aSourceMapURL) {\n    return _factoryBSM(aSourceMap, aSourceMapURL);\n  }\n\n  /**\n   * Construct a new `SourceMapConsumer` from `rawSourceMap` and `sourceMapUrl`\n   * (see the `SourceMapConsumer` constructor for details. Then, invoke the `async\n   * function f(SourceMapConsumer) -> T` with the newly constructed consumer, wait\n   * for `f` to complete, call `destroy` on the consumer, and return `f`'s return\n   * value.\n   *\n   * You must not use the consumer after `f` completes!\n   *\n   * By using `with`, you do not have to remember to manually call `destroy` on\n   * the consumer, since it will be called automatically once `f` completes.\n   *\n   * ```js\n   * const xSquared = await SourceMapConsumer.with(\n   *   myRawSourceMap,\n   *   null,\n   *   async function (consumer) {\n   *     // Use `consumer` inside here and don't worry about remembering\n   *     // to call `destroy`.\n   *\n   *     const x = await whatever(consumer);\n   *     return x * x;\n   *   }\n   * );\n   *\n   * // You may not use that `consumer` anymore out here; it has\n   * // been destroyed. But you can use `xSquared`.\n   * console.log(xSquared);\n   * ```\n   */\n  static with(rawSourceMap, sourceMapUrl, f) {\n    // Note: The `acorn` version that `webpack` currently depends on doesn't\n    // support `async` functions, and the nodes that we support don't all have\n    // `.finally`. Therefore, this is written a bit more convolutedly than it\n    // should really be.\n\n    let consumer = null;\n    const promise = new SourceMapConsumer(rawSourceMap, sourceMapUrl);\n    return promise\n      .then(c => {\n        consumer = c;\n        return f(c);\n      })\n      .then(x => {\n        if (consumer) {\n          consumer.destroy();\n        }\n        return x;\n      }, e => {\n        if (consumer) {\n          consumer.destroy();\n        }\n        throw e;\n      });\n  }\n\n  /**\n   * Parse the mappings in a string in to a data structure which we can easily\n   * query (the ordered arrays in the `this.__generatedMappings` and\n   * `this.__originalMappings` properties).\n   */\n  _parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  }\n\n  /**\n   * Iterate over each mapping between an original source/line/column and a\n   * generated line/column in this source map.\n   *\n   * @param Function aCallback\n   *        The function that is called with each mapping.\n   * @param Object aContext\n   *        Optional. If specified, this object will be the value of `this` every\n   *        time that `aCallback` is called.\n   * @param aOrder\n   *        Either `SourceMapConsumer.GENERATED_ORDER` or\n   *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n   *        iterate over the mappings sorted by the generated file's line/column\n   *        order or the original's source/line/column order, respectively. Defaults to\n   *        `SourceMapConsumer.GENERATED_ORDER`.\n   */\n  eachMapping(aCallback, aContext, aOrder) {\n    throw new Error(\"Subclasses must implement eachMapping\");\n  }\n\n  /**\n   * Returns all generated line and column information for the original source,\n   * line, and column provided. If no column is provided, returns all mappings\n   * corresponding to a either the line we are searching for or the next\n   * closest line that has any mappings. Otherwise, returns all mappings\n   * corresponding to the given line and either the column we are searching for\n   * or the next closest column that has any offsets.\n   *\n   * The only argument is an object with the following properties:\n   *\n   *   - source: The filename of the original source.\n   *   - line: The line number in the original source.  The line number is 1-based.\n   *   - column: Optional. the column number in the original source.\n   *    The column number is 0-based.\n   *\n   * and an array of objects is returned, each with the following properties:\n   *\n   *   - line: The line number in the generated source, or null.  The\n   *    line number is 1-based.\n   *   - column: The column number in the generated source, or null.\n   *    The column number is 0-based.\n   */\n  allGeneratedPositionsFor(aArgs) {\n    throw new Error(\"Subclasses must implement allGeneratedPositionsFor\");\n  }\n\n  destroy() {\n    throw new Error(\"Subclasses must implement destroy\");\n  }\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nclass BasicSourceMapConsumer extends SourceMapConsumer {\n  constructor(aSourceMap, aSourceMapURL) {\n    return super(INTERNAL).then(that => {\n      let sourceMap = aSourceMap;\n      if (typeof aSourceMap === \"string\") {\n        sourceMap = util.parseSourceMapInput(aSourceMap);\n      }\n\n      const version = util.getArg(sourceMap, \"version\");\n      let sources = util.getArg(sourceMap, \"sources\");\n      // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n      // requires the array) to play nice here.\n      const names = util.getArg(sourceMap, \"names\", []);\n      let sourceRoot = util.getArg(sourceMap, \"sourceRoot\", null);\n      const sourcesContent = util.getArg(sourceMap, \"sourcesContent\", null);\n      const mappings = util.getArg(sourceMap, \"mappings\");\n      const file = util.getArg(sourceMap, \"file\", null);\n\n      // Once again, Sass deviates from the spec and supplies the version as a\n      // string rather than a number, so we use loose equality checking here.\n      if (version != that._version) {\n        throw new Error(\"Unsupported version: \" + version);\n      }\n\n      if (sourceRoot) {\n        sourceRoot = util.normalize(sourceRoot);\n      }\n\n      sources = sources\n        .map(String)\n        // Some source maps produce relative source paths like \"./foo.js\" instead of\n        // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n        // See bugzil.la/1090768.\n        .map(util.normalize)\n        // Always ensure that absolute sources are internally stored relative to\n        // the source root, if the source root is absolute. Not doing this would\n        // be particularly problematic when the source root is a prefix of the\n        // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n        .map(function(source) {\n          return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n            ? util.relative(sourceRoot, source)\n            : source;\n        });\n\n      // Pass `true` below to allow duplicate names and sources. While source maps\n      // are intended to be compressed and deduplicated, the TypeScript compiler\n      // sometimes generates source maps with duplicates in them. See Github issue\n      // #72 and bugzil.la/889492.\n      that._names = ArraySet.fromArray(names.map(String), true);\n      that._sources = ArraySet.fromArray(sources, true);\n\n      that._absoluteSources = that._sources.toArray().map(function(s) {\n        return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n      });\n\n      that.sourceRoot = sourceRoot;\n      that.sourcesContent = sourcesContent;\n      that._mappings = mappings;\n      that._sourceMapURL = aSourceMapURL;\n      that.file = file;\n\n      that._computedColumnSpans = false;\n      that._mappingsPtr = 0;\n      that._wasm = null;\n\n      return wasm().then(w => {\n        that._wasm = w;\n        return that;\n      });\n    });\n  }\n\n  /**\n   * Utility function to find the index of a source.  Returns -1 if not\n   * found.\n   */\n  _findSourceIndex(aSource) {\n    let relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    if (this._sources.has(relativeSource)) {\n      return this._sources.indexOf(relativeSource);\n    }\n\n    // Maybe aSource is an absolute URL as returned by |sources|.  In\n    // this case we can't simply undo the transform.\n    for (let i = 0; i < this._absoluteSources.length; ++i) {\n      if (this._absoluteSources[i] == aSource) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /**\n   * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n   *\n   * @param SourceMapGenerator aSourceMap\n   *        The source map that will be consumed.\n   * @param String aSourceMapURL\n   *        The URL at which the source map can be found (optional)\n   * @returns BasicSourceMapConsumer\n   */\n  static fromSourceMap(aSourceMap, aSourceMapURL) {\n    return new BasicSourceMapConsumer(aSourceMap.toString());\n  }\n\n  get sources() {\n    return this._absoluteSources.slice();\n  }\n\n  _getMappingsPtr() {\n    if (this._mappingsPtr === 0) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this._mappingsPtr;\n  }\n\n  /**\n   * Parse the mappings in a string in to a data structure which we can easily\n   * query (the ordered arrays in the `this.__generatedMappings` and\n   * `this.__originalMappings` properties).\n   */\n  _parseMappings(aStr, aSourceRoot) {\n    const size = aStr.length;\n\n    const mappingsBufPtr = this._wasm.exports.allocate_mappings(size);\n    const mappingsBuf = new Uint8Array(this._wasm.exports.memory.buffer, mappingsBufPtr, size);\n    for (let i = 0; i < size; i++) {\n      mappingsBuf[i] = aStr.charCodeAt(i);\n    }\n\n    const mappingsPtr = this._wasm.exports.parse_mappings(mappingsBufPtr);\n\n    if (!mappingsPtr) {\n      const error = this._wasm.exports.get_last_error();\n      let msg = `Error parsing mappings (code ${error}): `;\n\n      // XXX: keep these error codes in sync with `fitzgen/source-map-mappings`.\n      switch (error) {\n        case 1:\n          msg += \"the mappings contained a negative line, column, source index, or name index\";\n          break;\n        case 2:\n          msg += \"the mappings contained a number larger than 2**32\";\n          break;\n        case 3:\n          msg += \"reached EOF while in the middle of parsing a VLQ\";\n          break;\n        case 4:\n          msg += \"invalid base 64 character while parsing a VLQ\";\n          break;\n        default:\n          msg += \"unknown error code\";\n          break;\n      }\n\n      throw new Error(msg);\n    }\n\n    this._mappingsPtr = mappingsPtr;\n  }\n\n  eachMapping(aCallback, aContext, aOrder) {\n    const context = aContext || null;\n    const order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n    const sourceRoot = this.sourceRoot;\n\n    this._wasm.withMappingCallback(\n      mapping => {\n        if (mapping.source !== null) {\n          mapping.source = this._sources.at(mapping.source);\n          mapping.source = util.computeSourceURL(sourceRoot, mapping.source, this._sourceMapURL);\n\n          if (mapping.name !== null) {\n            mapping.name = this._names.at(mapping.name);\n          }\n        }\n\n        aCallback.call(context, mapping);\n      },\n      () => {\n        switch (order) {\n        case SourceMapConsumer.GENERATED_ORDER:\n          this._wasm.exports.by_generated_location(this._getMappingsPtr());\n          break;\n        case SourceMapConsumer.ORIGINAL_ORDER:\n          this._wasm.exports.by_original_location(this._getMappingsPtr());\n          break;\n        default:\n          throw new Error(\"Unknown order of iteration.\");\n        }\n      }\n    );\n  }\n\n  allGeneratedPositionsFor(aArgs) {\n    let source = util.getArg(aArgs, \"source\");\n    const originalLine = util.getArg(aArgs, \"line\");\n    const originalColumn = aArgs.column || 0;\n\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return [];\n    }\n\n    if (originalLine < 1) {\n      throw new Error(\"Line numbers must be >= 1\");\n    }\n\n    if (originalColumn < 0) {\n      throw new Error(\"Column numbers must be >= 0\");\n    }\n\n    const mappings = [];\n\n    this._wasm.withMappingCallback(\n      m => {\n        let lastColumn = m.lastGeneratedColumn;\n        if (this._computedColumnSpans && lastColumn === null) {\n          lastColumn = Infinity;\n        }\n        mappings.push({\n          line: m.generatedLine,\n          column: m.generatedColumn,\n          lastColumn,\n        });\n      }, () => {\n        this._wasm.exports.all_generated_locations_for(\n          this._getMappingsPtr(),\n          source,\n          originalLine - 1,\n          \"column\" in aArgs,\n          originalColumn\n        );\n      }\n    );\n\n    return mappings;\n  }\n\n  destroy() {\n    if (this._mappingsPtr !== 0) {\n      this._wasm.exports.free_mappings(this._mappingsPtr);\n      this._mappingsPtr = 0;\n    }\n  }\n\n  /**\n   * Compute the last column for each generated mapping. The last column is\n   * inclusive.\n   */\n  computeColumnSpans() {\n    if (this._computedColumnSpans) {\n      return;\n    }\n\n    this._wasm.exports.compute_column_spans(this._getMappingsPtr());\n    this._computedColumnSpans = true;\n  }\n\n  /**\n   * Returns the original source, line, and column information for the generated\n   * source's line and column positions provided. The only argument is an object\n   * with the following properties:\n   *\n   *   - line: The line number in the generated source.  The line number\n   *     is 1-based.\n   *   - column: The column number in the generated source.  The column\n   *     number is 0-based.\n   *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n   *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n   *     closest element that is smaller than or greater than the one we are\n   *     searching for, respectively, if the exact element cannot be found.\n   *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n   *\n   * and an object is returned with the following properties:\n   *\n   *   - source: The original source file, or null.\n   *   - line: The line number in the original source, or null.  The\n   *     line number is 1-based.\n   *   - column: The column number in the original source, or null.  The\n   *     column number is 0-based.\n   *   - name: The original identifier, or null.\n   */\n  originalPositionFor(aArgs) {\n    const needle = {\n      generatedLine: util.getArg(aArgs, \"line\"),\n      generatedColumn: util.getArg(aArgs, \"column\")\n    };\n\n    if (needle.generatedLine < 1) {\n      throw new Error(\"Line numbers must be >= 1\");\n    }\n\n    if (needle.generatedColumn < 0) {\n      throw new Error(\"Column numbers must be >= 0\");\n    }\n\n    let bias = util.getArg(aArgs, \"bias\", SourceMapConsumer.GREATEST_LOWER_BOUND);\n    if (bias == null) {\n      bias = SourceMapConsumer.GREATEST_LOWER_BOUND;\n    }\n\n    let mapping;\n    this._wasm.withMappingCallback(m => mapping = m, () => {\n      this._wasm.exports.original_location_for(\n        this._getMappingsPtr(),\n        needle.generatedLine - 1,\n        needle.generatedColumn,\n        bias\n      );\n    });\n\n    if (mapping) {\n      if (mapping.generatedLine === needle.generatedLine) {\n        let source = util.getArg(mapping, \"source\", null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n\n        let name = util.getArg(mapping, \"name\", null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n\n        return {\n          source,\n          line: util.getArg(mapping, \"originalLine\", null),\n          column: util.getArg(mapping, \"originalColumn\", null),\n          name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  }\n\n  /**\n   * Return true if we have the source content for every source in the source\n   * map, false otherwise.\n   */\n  hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function(sc) { return sc == null; });\n  }\n\n  /**\n   * Returns the original source content. The only argument is the url of the\n   * original source file. Returns null if no original source content is\n   * available.\n   */\n  sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    const index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    let relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    let url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      const fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n\n    throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n  }\n\n  /**\n   * Returns the generated line and column information for the original source,\n   * line, and column positions provided. The only argument is an object with\n   * the following properties:\n   *\n   *   - source: The filename of the original source.\n   *   - line: The line number in the original source.  The line number\n   *     is 1-based.\n   *   - column: The column number in the original source.  The column\n   *     number is 0-based.\n   *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n   *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n   *     closest element that is smaller than or greater than the one we are\n   *     searching for, respectively, if the exact element cannot be found.\n   *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n   *\n   * and an object is returned with the following properties:\n   *\n   *   - line: The line number in the generated source, or null.  The\n   *     line number is 1-based.\n   *   - column: The column number in the generated source, or null.\n   *     The column number is 0-based.\n   */\n  generatedPositionFor(aArgs) {\n    let source = util.getArg(aArgs, \"source\");\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    const needle = {\n      source,\n      originalLine: util.getArg(aArgs, \"line\"),\n      originalColumn: util.getArg(aArgs, \"column\")\n    };\n\n    if (needle.originalLine < 1) {\n      throw new Error(\"Line numbers must be >= 1\");\n    }\n\n    if (needle.originalColumn < 0) {\n      throw new Error(\"Column numbers must be >= 0\");\n    }\n\n    let bias = util.getArg(aArgs, \"bias\", SourceMapConsumer.GREATEST_LOWER_BOUND);\n    if (bias == null) {\n      bias = SourceMapConsumer.GREATEST_LOWER_BOUND;\n    }\n\n    let mapping;\n    this._wasm.withMappingCallback(m => mapping = m, () => {\n      this._wasm.exports.generated_location_for(\n        this._getMappingsPtr(),\n        needle.source,\n        needle.originalLine - 1,\n        needle.originalColumn,\n        bias\n      );\n    });\n\n    if (mapping) {\n      if (mapping.source === needle.source) {\n        let lastColumn = mapping.lastGeneratedColumn;\n        if (this._computedColumnSpans && lastColumn === null) {\n          lastColumn = Infinity;\n        }\n        return {\n          line: util.getArg(mapping, \"generatedLine\", null),\n          column: util.getArg(mapping, \"generatedColumn\", null),\n          lastColumn,\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  }\n}\n\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nclass IndexedSourceMapConsumer extends SourceMapConsumer {\n  constructor(aSourceMap, aSourceMapURL) {\n    return super(INTERNAL).then(that => {\n      let sourceMap = aSourceMap;\n      if (typeof aSourceMap === \"string\") {\n        sourceMap = util.parseSourceMapInput(aSourceMap);\n      }\n\n      const version = util.getArg(sourceMap, \"version\");\n      const sections = util.getArg(sourceMap, \"sections\");\n\n      if (version != that._version) {\n        throw new Error(\"Unsupported version: \" + version);\n      }\n\n      that._sources = new ArraySet();\n      that._names = new ArraySet();\n      that.__generatedMappings = null;\n      that.__originalMappings = null;\n      that.__generatedMappingsUnsorted = null;\n      that.__originalMappingsUnsorted = null;\n\n      let lastOffset = {\n        line: -1,\n        column: 0\n      };\n      return Promise.all(sections.map(s => {\n        if (s.url) {\n          // The url field will require support for asynchronicity.\n          // See https://github.com/mozilla/source-map/issues/16\n          throw new Error(\"Support for url field in sections not implemented.\");\n        }\n        const offset = util.getArg(s, \"offset\");\n        const offsetLine = util.getArg(offset, \"line\");\n        const offsetColumn = util.getArg(offset, \"column\");\n\n        if (offsetLine < lastOffset.line ||\n            (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n          throw new Error(\"Section offsets must be ordered and non-overlapping.\");\n        }\n        lastOffset = offset;\n\n        const cons = new SourceMapConsumer(util.getArg(s, \"map\"), aSourceMapURL);\n        return cons.then(consumer => {\n          return {\n            generatedOffset: {\n              // The offset fields are 0-based, but we use 1-based indices when\n              // encoding/decoding from VLQ.\n              generatedLine: offsetLine + 1,\n              generatedColumn: offsetColumn + 1\n            },\n            consumer\n          };\n        });\n      })).then(s => {\n        that._sections = s;\n        return that;\n      });\n    });\n  }\n\n  // `__generatedMappings` and `__originalMappings` are arrays that hold the\n  // parsed mapping coordinates from the source map's \"mappings\" attribute. They\n  // are lazily instantiated, accessed via the `_generatedMappings` and\n  // `_originalMappings` getters respectively, and we only parse the mappings\n  // and create these arrays once queried for a source location. We jump through\n  // these hoops because there can be many thousands of mappings, and parsing\n  // them is expensive, so we only want to do it if we must.\n  //\n  // Each object in the arrays is of the form:\n  //\n  //     {\n  //       generatedLine: The line number in the generated code,\n  //       generatedColumn: The column number in the generated code,\n  //       source: The path to the original source file that generated this\n  //               chunk of code,\n  //       originalLine: The line number in the original source that\n  //                     corresponds to this chunk of generated code,\n  //       originalColumn: The column number in the original source that\n  //                       corresponds to this chunk of generated code,\n  //       name: The name of the original symbol which generated this chunk of\n  //             code.\n  //     }\n  //\n  // All properties except for `generatedLine` and `generatedColumn` can be\n  // `null`.\n  //\n  // `_generatedMappings` is ordered by the generated positions.\n  //\n  // `_originalMappings` is ordered by the original positions.\n  get _generatedMappings() {\n    if (!this.__generatedMappings) {\n      this._sortGeneratedMappings();\n    }\n\n    return this.__generatedMappings;\n  }\n\n  get _originalMappings() {\n    if (!this.__originalMappings) {\n      this._sortOriginalMappings();\n    }\n\n    return this.__originalMappings;\n  }\n\n  get _generatedMappingsUnsorted() {\n    if (!this.__generatedMappingsUnsorted) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappingsUnsorted;\n  }\n\n  get _originalMappingsUnsorted() {\n    if (!this.__originalMappingsUnsorted) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappingsUnsorted;\n  }\n\n  _sortGeneratedMappings() {\n    const mappings = this._generatedMappingsUnsorted;\n    mappings.sort(util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = mappings;\n  }\n\n  _sortOriginalMappings() {\n    const mappings = this._originalMappingsUnsorted;\n    mappings.sort(util.compareByOriginalPositions);\n    this.__originalMappings = mappings;\n  }\n\n  /**\n   * The list of original sources.\n   */\n  get sources() {\n    const sources = [];\n    for (let i = 0; i < this._sections.length; i++) {\n      for (let j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n\n  /**\n   * Returns the original source, line, and column information for the generated\n   * source's line and column positions provided. The only argument is an object\n   * with the following properties:\n   *\n   *   - line: The line number in the generated source.  The line number\n   *     is 1-based.\n   *   - column: The column number in the generated source.  The column\n   *     number is 0-based.\n   *\n   * and an object is returned with the following properties:\n   *\n   *   - source: The original source file, or null.\n   *   - line: The line number in the original source, or null.  The\n   *     line number is 1-based.\n   *   - column: The column number in the original source, or null.  The\n   *     column number is 0-based.\n   *   - name: The original identifier, or null.\n   */\n  originalPositionFor(aArgs) {\n    const needle = {\n      generatedLine: util.getArg(aArgs, \"line\"),\n      generatedColumn: util.getArg(aArgs, \"column\")\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    const sectionIndex = binarySearch.search(needle, this._sections,\n      function(aNeedle, section) {\n        const cmp = aNeedle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (aNeedle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    const section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  }\n\n  /**\n   * Return true if we have the source content for every source in the source\n   * map, false otherwise.\n   */\n  hasContentsOfAllSources() {\n    return this._sections.every(function(s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  }\n\n  /**\n   * Returns the original source content. The only argument is the url of the\n   * original source file. Returns null if no original source content is\n   * available.\n   */\n  sourceContentFor(aSource, nullOnMissing) {\n    for (let i = 0; i < this._sections.length; i++) {\n      const section = this._sections[i];\n\n      const content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n  }\n\n  /**\n   * Returns the generated line and column information for the original source,\n   * line, and column positions provided. The only argument is an object with\n   * the following properties:\n   *\n   *   - source: The filename of the original source.\n   *   - line: The line number in the original source.  The line number\n   *     is 1-based.\n   *   - column: The column number in the original source.  The column\n   *     number is 0-based.\n   *\n   * and an object is returned with the following properties:\n   *\n   *   - line: The line number in the generated source, or null.  The\n   *     line number is 1-based.\n   *   - column: The column number in the generated source, or null.\n   *     The column number is 0-based.\n   */\n  generatedPositionFor(aArgs) {\n    for (let i = 0; i < this._sections.length; i++) {\n      const section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, \"source\")) === -1) {\n        continue;\n      }\n      const generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        const ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  }\n\n  /**\n   * Parse the mappings in a string in to a data structure which we can easily\n   * query (the ordered arrays in the `this.__generatedMappings` and\n   * `this.__originalMappings` properties).\n   */\n  _parseMappings(aStr, aSourceRoot) {\n    const generatedMappings = this.__generatedMappingsUnsorted = [];\n    const originalMappings = this.__originalMappingsUnsorted = [];\n    for (let i = 0; i < this._sections.length; i++) {\n      const section = this._sections[i];\n\n      const sectionMappings = [];\n      section.consumer.eachMapping(m => sectionMappings.push(m));\n\n      for (let j = 0; j < sectionMappings.length; j++) {\n        const mapping = sectionMappings[j];\n\n        // TODO: test if null is correct here.  The original code used\n        // `source`, which would actually have gotten used as null because\n        // var's get hoisted.\n        // See: https://github.com/mozilla/source-map/issues/333\n        let source = util.computeSourceURL(section.consumer.sourceRoot, null, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        let name = null;\n        if (mapping.name) {\n          this._names.add(mapping.name);\n          name = this._names.indexOf(mapping.name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        const adjustedMapping = {\n          source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name\n        };\n\n        generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === \"number\") {\n          originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n  }\n\n  eachMapping(aCallback, aContext, aOrder) {\n    const context = aContext || null;\n    const order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    let mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    const sourceRoot = this.sourceRoot;\n    mappings.map(function(mapping) {\n      let source = null;\n      if (mapping.source !== null) {\n        source = this._sources.at(mapping.source);\n        source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);\n      }\n      return {\n        source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  }\n\n  /**\n   * Find the mapping that best matches the hypothetical \"needle\" mapping that\n   * we are searching for in the given \"haystack\" of mappings.\n   */\n  _findMapping(aNeedle, aMappings, aLineName,\n              aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError(\"Line must be greater than or equal to 1, got \"\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError(\"Column must be greater than or equal to 0, got \"\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  }\n\n  allGeneratedPositionsFor(aArgs) {\n    const line = util.getArg(aArgs, \"line\");\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    const needle = {\n      source: util.getArg(aArgs, \"source\"),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, \"column\", 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    if (needle.originalLine < 1) {\n      throw new Error(\"Line numbers must be >= 1\");\n    }\n\n    if (needle.originalColumn < 0) {\n      throw new Error(\"Column numbers must be >= 0\");\n    }\n\n    const mappings = [];\n\n    let index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      let mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        const originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          let lastColumn = mapping.lastGeneratedColumn;\n          if (this._computedColumnSpans && lastColumn === null) {\n            lastColumn = Infinity;\n          }\n          mappings.push({\n            line: util.getArg(mapping, \"generatedLine\", null),\n            column: util.getArg(mapping, \"generatedColumn\", null),\n            lastColumn,\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        const originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          let lastColumn = mapping.lastGeneratedColumn;\n          if (this._computedColumnSpans && lastColumn === null) {\n            lastColumn = Infinity;\n          }\n          mappings.push({\n            line: util.getArg(mapping, \"generatedLine\", null),\n            column: util.getArg(mapping, \"generatedColumn\", null),\n            lastColumn,\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  }\n\n  destroy() {\n    for (let i = 0; i < this._sections.length; i++) {\n      this._sections[i].consumer.destroy();\n    }\n  }\n}\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n\n/*\n * Cheat to get around inter-twingled classes.  `factory()` can be at the end\n * where it has access to non-hoisted classes, but it gets hoisted itself.\n */\nfunction _factory(aSourceMap, aSourceMapURL) {\n  let sourceMap = aSourceMap;\n  if (typeof aSourceMap === \"string\") {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  const consumer = sourceMap.sections != null\n      ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n      : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n  return Promise.resolve(consumer);\n}\n\nfunction _factoryBSM(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nconst base64VLQ = require(\"./base64-vlq\");\nconst util = require(\"./util\");\nconst ArraySet = require(\"./array-set\").ArraySet;\nconst MappingList = require(\"./mapping-list\").MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nclass SourceMapGenerator {\n  constructor(aArgs) {\n    if (!aArgs) {\n      aArgs = {};\n    }\n    this._file = util.getArg(aArgs, \"file\", null);\n    this._sourceRoot = util.getArg(aArgs, \"sourceRoot\", null);\n    this._skipValidation = util.getArg(aArgs, \"skipValidation\", false);\n    this._sources = new ArraySet();\n    this._names = new ArraySet();\n    this._mappings = new MappingList();\n    this._sourcesContents = null;\n  }\n\n  /**\n   * Creates a new SourceMapGenerator based on a SourceMapConsumer\n   *\n   * @param aSourceMapConsumer The SourceMap.\n   */\n  static fromSourceMap(aSourceMapConsumer) {\n    const sourceRoot = aSourceMapConsumer.sourceRoot;\n    const generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function(mapping) {\n      const newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function(sourceFile) {\n      let sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      const content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  }\n\n  /**\n   * Add a single mapping from original source line and column to the generated\n   * source's line and column for this source map being created. The mapping\n   * object should have the following properties:\n   *\n   *   - generated: An object with the generated line and column positions.\n   *   - original: An object with the original line and column positions.\n   *   - source: The original source file (relative to the sourceRoot).\n   *   - name: An optional original token name for this mapping.\n   */\n  addMapping(aArgs) {\n    const generated = util.getArg(aArgs, \"generated\");\n    const original = util.getArg(aArgs, \"original\", null);\n    let source = util.getArg(aArgs, \"source\", null);\n    let name = util.getArg(aArgs, \"name\", null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source,\n      name\n    });\n  }\n\n  /**\n   * Set the source content for a source file.\n   */\n  setSourceContent(aSourceFile, aSourceContent) {\n    let source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  }\n\n  /**\n   * Applies the mappings of a sub-source-map for a specific source file to the\n   * source map being generated. Each mapping to the supplied source file is\n   * rewritten using the supplied source map. Note: The resolution for the\n   * resulting mappings is the minimium of this map and the supplied map.\n   *\n   * @param aSourceMapConsumer The source map to be applied.\n   * @param aSourceFile Optional. The filename of the source file.\n   *        If omitted, SourceMapConsumer's file property will be used.\n   * @param aSourceMapPath Optional. The dirname of the path to the source map\n   *        to be applied. If relative, it is relative to the SourceMapConsumer.\n   *        This parameter is needed when the two source maps aren't in the same\n   *        directory, and the source map to be applied contains relative source\n   *        paths. If so, those relative source paths need to be rewritten\n   *        relative to the SourceMapGenerator.\n   */\n  applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    let sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          \"SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, \" +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    const sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    const newSources = this._mappings.toArray().length > 0\n      ? new ArraySet()\n      : this._sources;\n    const newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function(mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        const original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source);\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      const source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      const name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function(srcFile) {\n      const content = aSourceMapConsumer.sourceContentFor(srcFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          srcFile = util.join(aSourceMapPath, srcFile);\n        }\n        if (sourceRoot != null) {\n          srcFile = util.relative(sourceRoot, srcFile);\n        }\n        this.setSourceContent(srcFile, content);\n      }\n    }, this);\n  }\n\n  /**\n   * A mapping can have one of the three levels of data:\n   *\n   *   1. Just the generated position.\n   *   2. The Generated position, original position, and original source.\n   *   3. Generated and original position, original source, as well as a name\n   *      token.\n   *\n   * To maintain consistency, we validate that any new mapping being added falls\n   * in to one of these categories.\n   */\n  _validateMapping(aGenerated, aOriginal, aSource, aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== \"number\" && typeof aOriginal.column !== \"number\") {\n        throw new Error(\n            \"original.line and original.column are not numbers -- you probably meant to omit \" +\n            \"the original mapping entirely and only map the generated position. If so, pass \" +\n            \"null for the original mapping instead of an object with empty or null values.\"\n        );\n    }\n\n    if (aGenerated && \"line\" in aGenerated && \"column\" in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n\n    } else if (aGenerated && \"line\" in aGenerated && \"column\" in aGenerated\n             && aOriginal && \"line\" in aOriginal && \"column\" in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n\n    } else {\n      throw new Error(\"Invalid mapping: \" + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  }\n\n  /**\n   * Serialize the accumulated mappings in to the stream of base 64 VLQs\n   * specified by the source map format.\n   */\n  _serializeMappings() {\n    let previousGeneratedColumn = 0;\n    let previousGeneratedLine = 1;\n    let previousOriginalColumn = 0;\n    let previousOriginalLine = 0;\n    let previousName = 0;\n    let previousSource = 0;\n    let result = \"\";\n    let next;\n    let mapping;\n    let nameIdx;\n    let sourceIdx;\n\n    const mappings = this._mappings.toArray();\n    for (let i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = \"\";\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += \";\";\n          previousGeneratedLine++;\n        }\n      } else if (i > 0) {\n        if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n          continue;\n        }\n        next += \",\";\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  }\n\n  _generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function(source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      const key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  }\n\n  /**\n   * Externalize the source map.\n   */\n  toJSON() {\n    const map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  }\n\n  /**\n   * Render the source map being generated to a string.\n   */\n  toString() {\n    return JSON.stringify(this.toJSON());\n  }\n}\n\nSourceMapGenerator.prototype._version = 3;\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nconst SourceMapGenerator = require(\"./source-map-generator\").SourceMapGenerator;\nconst util = require(\"./util\");\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nconst REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nconst NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nconst isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nclass SourceNode {\n  constructor(aLine, aColumn, aSource, aChunks, aName) {\n    this.children = [];\n    this.sourceContents = {};\n    this.line = aLine == null ? null : aLine;\n    this.column = aColumn == null ? null : aColumn;\n    this.source = aSource == null ? null : aSource;\n    this.name = aName == null ? null : aName;\n    this[isSourceNode] = true;\n    if (aChunks != null) this.add(aChunks);\n  }\n\n  /**\n   * Creates a SourceNode from generated code and a SourceMapConsumer.\n   *\n   * @param aGeneratedCode The generated code\n   * @param aSourceMapConsumer The SourceMap for the generated code\n   * @param aRelativePath Optional. The path that relative sources in the\n   *        SourceMapConsumer should be relative to.\n   */\n  static fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    const node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    const remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    let remainingLinesIndex = 0;\n    const shiftNextLine = function() {\n      const lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      const newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    let lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    let lastMapping = null;\n    let nextLine;\n\n    aSourceMapConsumer.eachMapping(function(mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          nextLine = remainingLines[remainingLinesIndex] || \"\";\n          const code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        nextLine = remainingLines[remainingLinesIndex] || \"\";\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function(sourceFile) {\n      const content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        const source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  }\n\n  /**\n   * Add a chunk of generated JS to this source node.\n   *\n   * @param aChunk A string snippet of generated JS code, another instance of\n   *        SourceNode, or an array where each member is one of those things.\n   */\n  add(aChunk) {\n    if (Array.isArray(aChunk)) {\n      aChunk.forEach(function(chunk) {\n        this.add(chunk);\n      }, this);\n    } else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n      if (aChunk) {\n        this.children.push(aChunk);\n      }\n    } else {\n      throw new TypeError(\n        \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n      );\n    }\n    return this;\n  }\n\n  /**\n   * Add a chunk of generated JS to the beginning of this source node.\n   *\n   * @param aChunk A string snippet of generated JS code, another instance of\n   *        SourceNode, or an array where each member is one of those things.\n   */\n  prepend(aChunk) {\n    if (Array.isArray(aChunk)) {\n      for (let i = aChunk.length - 1; i >= 0; i--) {\n        this.prepend(aChunk[i]);\n      }\n    } else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n      this.children.unshift(aChunk);\n    } else {\n      throw new TypeError(\n        \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n      );\n    }\n    return this;\n  }\n\n  /**\n   * Walk over the tree of JS snippets in this node and its children. The\n   * walking function is called once for each snippet of JS and is passed that\n   * snippet and the its original associated source's line/column location.\n   *\n   * @param aFn The traversal function.\n   */\n  walk(aFn) {\n    let chunk;\n    for (let i = 0, len = this.children.length; i < len; i++) {\n      chunk = this.children[i];\n      if (chunk[isSourceNode]) {\n        chunk.walk(aFn);\n      } else if (chunk !== \"\") {\n        aFn(chunk, { source: this.source,\n                      line: this.line,\n                      column: this.column,\n                      name: this.name });\n      }\n    }\n  }\n\n  /**\n   * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n   * each of `this.children`.\n   *\n   * @param aSep The separator.\n   */\n  join(aSep) {\n    let newChildren;\n    let i;\n    const len = this.children.length;\n    if (len > 0) {\n      newChildren = [];\n      for (i = 0; i < len - 1; i++) {\n        newChildren.push(this.children[i]);\n        newChildren.push(aSep);\n      }\n      newChildren.push(this.children[i]);\n      this.children = newChildren;\n    }\n    return this;\n  }\n\n  /**\n   * Call String.prototype.replace on the very right-most source snippet. Useful\n   * for trimming whitespace from the end of a source node, etc.\n   *\n   * @param aPattern The pattern to replace.\n   * @param aReplacement The thing to replace the pattern with.\n   */\n  replaceRight(aPattern, aReplacement) {\n    const lastChild = this.children[this.children.length - 1];\n    if (lastChild[isSourceNode]) {\n      lastChild.replaceRight(aPattern, aReplacement);\n    } else if (typeof lastChild === \"string\") {\n      this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n    } else {\n      this.children.push(\"\".replace(aPattern, aReplacement));\n    }\n    return this;\n  }\n\n  /**\n   * Set the source content for a source file. This will be added to the SourceMapGenerator\n   * in the sourcesContent field.\n   *\n   * @param aSourceFile The filename of the source file\n   * @param aSourceContent The content of the source file\n   */\n  setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  }\n\n  /**\n   * Walk over the tree of SourceNodes. The walking function is called for each\n   * source file content and is passed the filename and source content.\n   *\n   * @param aFn The traversal function.\n   */\n  walkSourceContents(aFn) {\n    for (let i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    const sources = Object.keys(this.sourceContents);\n    for (let i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  }\n\n  /**\n   * Return the string representation of this source node. Walks over the tree\n   * and concatenates all the various snippets together to one string.\n   */\n  toString() {\n    let str = \"\";\n    this.walk(function(chunk) {\n      str += chunk;\n    });\n    return str;\n  }\n\n  /**\n   * Returns the string representation of this source node along with a source\n   * map.\n   */\n  toStringWithSourceMap(aArgs) {\n    const generated = {\n      code: \"\",\n      line: 1,\n      column: 0\n    };\n    const map = new SourceMapGenerator(aArgs);\n    let sourceMappingActive = false;\n    let lastOriginalSource = null;\n    let lastOriginalLine = null;\n    let lastOriginalColumn = null;\n    let lastOriginalName = null;\n    this.walk(function(chunk, original) {\n      generated.code += chunk;\n      if (original.source !== null\n          && original.line !== null\n          && original.column !== null) {\n        if (lastOriginalSource !== original.source\n          || lastOriginalLine !== original.line\n          || lastOriginalColumn !== original.column\n          || lastOriginalName !== original.name) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n        lastOriginalSource = original.source;\n        lastOriginalLine = original.line;\n        lastOriginalColumn = original.column;\n        lastOriginalName = original.name;\n        sourceMappingActive = true;\n      } else if (sourceMappingActive) {\n        map.addMapping({\n          generated: {\n            line: generated.line,\n            column: generated.column\n          }\n        });\n        lastOriginalSource = null;\n        sourceMappingActive = false;\n      }\n      for (let idx = 0, length = chunk.length; idx < length; idx++) {\n        if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n          generated.line++;\n          generated.column = 0;\n          // Mappings end at eol\n          if (idx + 1 === length) {\n            lastOriginalSource = null;\n            sourceMappingActive = false;\n          } else if (sourceMappingActive) {\n            map.addMapping({\n              source: original.source,\n              original: {\n                line: original.line,\n                column: original.column\n              },\n              generated: {\n                line: generated.line,\n                column: generated.column\n              },\n              name: original.name\n            });\n          }\n        } else {\n          generated.column++;\n        }\n      }\n    });\n    this.walkSourceContents(function(sourceFile, sourceContent) {\n      map.setSourceContent(sourceFile, sourceContent);\n    });\n\n    return { code: generated.code, map };\n  }\n}\n\nexports.SourceNode = SourceNode;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  }\n    throw new Error('\"' + aName + '\" is a required argument.');\n\n}\nexports.getArg = getArg;\n\nconst urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nconst dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  const match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  let url = \"\";\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + \":\";\n  }\n  url += \"//\";\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + \"@\";\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port;\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\nconst MAX_CACHED_INPUTS = 32;\n\n/**\n * Takes some function `f(input) -> result` and returns a memoized version of\n * `f`.\n *\n * We keep at most `MAX_CACHED_INPUTS` memoized results of `f` alive. The\n * memoization is a dumb-simple, linear least-recently-used cache.\n */\nfunction lruMemoize(f) {\n  const cache = [];\n\n  return function(input) {\n    for (let i = 0; i < cache.length; i++) {\n      if (cache[i].input === input) {\n        const temp = cache[0];\n        cache[0] = cache[i];\n        cache[i] = temp;\n        return cache[0].result;\n      }\n    }\n\n    const result = f(input);\n\n    cache.unshift({\n      input,\n      result,\n    });\n\n    if (cache.length > MAX_CACHED_INPUTS) {\n      cache.pop();\n    }\n\n    return result;\n  };\n}\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nconst normalize = lruMemoize(function normalize(aPath) {\n  let path = aPath;\n  const url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  const isAbsolute = exports.isAbsolute(path);\n\n  // Split the path into parts between `/` characters. This is much faster than\n  // using `.split(/\\/+/g)`.\n  const parts = [];\n  let start = 0;\n  let i = 0;\n  while (true) {\n    start = i;\n    i = path.indexOf(\"/\", start);\n    if (i === -1) {\n      parts.push(path.slice(start));\n      break;\n    } else {\n      parts.push(path.slice(start, i));\n      while (i < path.length && path[i] === \"/\") {\n        i++;\n      }\n    }\n  }\n\n  let up = 0;\n  for (i = parts.length - 1; i >= 0; i--) {\n    const part = parts[i];\n    if (part === \".\") {\n      parts.splice(i, 1);\n    } else if (part === \"..\") {\n      up++;\n    } else if (up > 0) {\n      if (part === \"\") {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join(\"/\");\n\n  if (path === \"\") {\n    path = isAbsolute ? \"/\" : \".\";\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n});\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  const aPathUrl = urlParse(aPath);\n  const aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || \"/\";\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  const joined = aPath.charAt(0) === \"/\"\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, \"\") + \"/\" + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function(aPath) {\n  return aPath.charAt(0) === \"/\" || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, \"\");\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  let level = 0;\n  while (aPath.indexOf(aRoot + \"/\") !== 0) {\n    const index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nconst supportsNullProto = (function() {\n  const obj = Object.create(null);\n  return !(\"__proto__\" in obj);\n}());\n\nfunction identity(s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return \"$\" + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  const length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  /* eslint-disable no-multi-spaces */\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n  /* eslint-enable no-multi-spaces */\n\n  for (let i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  let cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  let cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  let cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, \"\"));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || \"\";\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== \"/\" && sourceURL[0] !== \"/\") {\n      sourceRoot += \"/\";\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    const parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      const index = parsed.path.lastIndexOf(\"/\");\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","const readWasm = require(\"../lib/read-wasm\");\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.lastGeneratedColumn = null;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\nlet cachedWasm = null;\n\nmodule.exports = function wasm() {\n  if (cachedWasm) {\n    return cachedWasm;\n  }\n\n  const callbackStack = [];\n\n  cachedWasm = readWasm().then(buffer => {\n      return WebAssembly.instantiate(buffer, {\n        env: {\n          mapping_callback(\n            generatedLine,\n            generatedColumn,\n\n            hasLastGeneratedColumn,\n            lastGeneratedColumn,\n\n            hasOriginal,\n            source,\n            originalLine,\n            originalColumn,\n\n            hasName,\n            name\n          ) {\n            const mapping = new Mapping();\n            // JS uses 1-based line numbers, wasm uses 0-based.\n            mapping.generatedLine = generatedLine + 1;\n            mapping.generatedColumn = generatedColumn;\n\n            if (hasLastGeneratedColumn) {\n              // JS uses inclusive last generated column, wasm uses exclusive.\n              mapping.lastGeneratedColumn = lastGeneratedColumn - 1;\n            }\n\n            if (hasOriginal) {\n              mapping.source = source;\n              // JS uses 1-based line numbers, wasm uses 0-based.\n              mapping.originalLine = originalLine + 1;\n              mapping.originalColumn = originalColumn;\n\n              if (hasName) {\n                mapping.name = name;\n              }\n            }\n\n            callbackStack[callbackStack.length - 1](mapping);\n          },\n\n          start_all_generated_locations_for() { console.time(\"all_generated_locations_for\"); },\n          end_all_generated_locations_for() { console.timeEnd(\"all_generated_locations_for\"); },\n\n          start_compute_column_spans() { console.time(\"compute_column_spans\"); },\n          end_compute_column_spans() { console.timeEnd(\"compute_column_spans\"); },\n\n          start_generated_location_for() { console.time(\"generated_location_for\"); },\n          end_generated_location_for() { console.timeEnd(\"generated_location_for\"); },\n\n          start_original_location_for() { console.time(\"original_location_for\"); },\n          end_original_location_for() { console.timeEnd(\"original_location_for\"); },\n\n          start_parse_mappings() { console.time(\"parse_mappings\"); },\n          end_parse_mappings() { console.timeEnd(\"parse_mappings\"); },\n\n          start_sort_by_generated_location() { console.time(\"sort_by_generated_location\"); },\n          end_sort_by_generated_location() { console.timeEnd(\"sort_by_generated_location\"); },\n\n          start_sort_by_original_location() { console.time(\"sort_by_original_location\"); },\n          end_sort_by_original_location() { console.timeEnd(\"sort_by_original_location\"); },\n        }\n      });\n  }).then(Wasm => {\n    return {\n      exports: Wasm.instance.exports,\n      withMappingCallback: (mappingCallback, f) => {\n        callbackStack.push(mappingCallback);\n        try {\n          f();\n        } finally {\n          callbackStack.pop();\n        }\n      }\n    };\n  }).then(null, e => {\n    cachedWasm = null;\n    throw e;\n  });\n\n  return cachedWasm;\n};\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require(\"./lib/source-map-generator\").SourceMapGenerator;\nexports.SourceMapConsumer = require(\"./lib/source-map-consumer\").SourceMapConsumer;\nexports.SourceNode = require(\"./lib/source-node\").SourceNode;\n","'use strict';\nconst singleComment = Symbol('singleComment');\nconst multiComment = Symbol('multiComment');\nconst stripWithoutWhitespace = () => '';\nconst stripWithWhitespace = (string, start, end) => string.slice(start, end).replace(/\\S/g, ' ');\n\nconst isEscaped = (jsonString, quotePosition) => {\n\tlet index = quotePosition - 1;\n\tlet backslashCount = 0;\n\n\twhile (jsonString[index] === '\\\\') {\n\t\tindex -= 1;\n\t\tbackslashCount += 1;\n\t}\n\n\treturn Boolean(backslashCount % 2);\n};\n\nmodule.exports = (jsonString, options = {}) => {\n\tif (typeof jsonString !== 'string') {\n\t\tthrow new TypeError(`Expected argument \\`jsonString\\` to be a \\`string\\`, got \\`${typeof jsonString}\\``);\n\t}\n\n\tconst strip = options.whitespace === false ? stripWithoutWhitespace : stripWithWhitespace;\n\n\tlet insideString = false;\n\tlet insideComment = false;\n\tlet offset = 0;\n\tlet result = '';\n\n\tfor (let i = 0; i < jsonString.length; i++) {\n\t\tconst currentCharacter = jsonString[i];\n\t\tconst nextCharacter = jsonString[i + 1];\n\n\t\tif (!insideComment && currentCharacter === '\"') {\n\t\t\tconst escaped = isEscaped(jsonString, i);\n\t\t\tif (!escaped) {\n\t\t\t\tinsideString = !insideString;\n\t\t\t}\n\t\t}\n\n\t\tif (insideString) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!insideComment && currentCharacter + nextCharacter === '//') {\n\t\t\tresult += jsonString.slice(offset, i);\n\t\t\toffset = i;\n\t\t\tinsideComment = singleComment;\n\t\t\ti++;\n\t\t} else if (insideComment === singleComment && currentCharacter + nextCharacter === '\\r\\n') {\n\t\t\ti++;\n\t\t\tinsideComment = false;\n\t\t\tresult += strip(jsonString, offset, i);\n\t\t\toffset = i;\n\t\t\tcontinue;\n\t\t} else if (insideComment === singleComment && currentCharacter === '\\n') {\n\t\t\tinsideComment = false;\n\t\t\tresult += strip(jsonString, offset, i);\n\t\t\toffset = i;\n\t\t} else if (!insideComment && currentCharacter + nextCharacter === '/*') {\n\t\t\tresult += jsonString.slice(offset, i);\n\t\t\toffset = i;\n\t\t\tinsideComment = multiComment;\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t} else if (insideComment === multiComment && currentCharacter + nextCharacter === '*/') {\n\t\t\ti++;\n\t\t\tinsideComment = false;\n\t\t\tresult += strip(jsonString, offset, i + 1);\n\t\t\toffset = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\treturn result + (insideComment ? strip(jsonString.slice(offset)) : jsonString.slice(offset));\n};\n","/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n","'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function (...args) {\n    if (typeof args[args.length - 1] === 'function') fn.apply(this, args)\n    else {\n      return new Promise((resolve, reject) => {\n        fn.apply(\n          this,\n          args.concat([(err, res) => err ? reject(err) : resolve(res)])\n        )\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function (...args) {\n    const cb = args[args.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, args)\n    else fn.apply(this, args.slice(0, -1)).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebugSession = exports.ErrorDestination = exports.InvalidatedEvent = exports.ProgressEndEvent = exports.ProgressUpdateEvent = exports.ProgressStartEvent = exports.CapabilitiesEvent = exports.LoadedSourceEvent = exports.ModuleEvent = exports.BreakpointEvent = exports.ThreadEvent = exports.OutputEvent = exports.TerminatedEvent = exports.InitializedEvent = exports.ContinuedEvent = exports.StoppedEvent = exports.CompletionItem = exports.Module = exports.Breakpoint = exports.Variable = exports.Thread = exports.StackFrame = exports.Scope = exports.Source = void 0;\nconst protocol_1 = require(\"./protocol\");\nconst messages_1 = require(\"./messages\");\nconst runDebugAdapter_1 = require(\"./runDebugAdapter\");\nconst url_1 = require(\"url\");\nclass Source {\n    constructor(name, path, id = 0, origin, data) {\n        this.name = name;\n        this.path = path;\n        this.sourceReference = id;\n        if (origin) {\n            this.origin = origin;\n        }\n        if (data) {\n            this.adapterData = data;\n        }\n    }\n}\nexports.Source = Source;\nclass Scope {\n    constructor(name, reference, expensive = false) {\n        this.name = name;\n        this.variablesReference = reference;\n        this.expensive = expensive;\n    }\n}\nexports.Scope = Scope;\nclass StackFrame {\n    constructor(i, nm, src, ln = 0, col = 0) {\n        this.id = i;\n        this.source = src;\n        this.line = ln;\n        this.column = col;\n        this.name = nm;\n    }\n}\nexports.StackFrame = StackFrame;\nclass Thread {\n    constructor(id, name) {\n        this.id = id;\n        if (name) {\n            this.name = name;\n        }\n        else {\n            this.name = 'Thread #' + id;\n        }\n    }\n}\nexports.Thread = Thread;\nclass Variable {\n    constructor(name, value, ref = 0, indexedVariables, namedVariables) {\n        this.name = name;\n        this.value = value;\n        this.variablesReference = ref;\n        if (typeof namedVariables === 'number') {\n            this.namedVariables = namedVariables;\n        }\n        if (typeof indexedVariables === 'number') {\n            this.indexedVariables = indexedVariables;\n        }\n    }\n}\nexports.Variable = Variable;\nclass Breakpoint {\n    constructor(verified, line, column, source) {\n        this.verified = verified;\n        const e = this;\n        if (typeof line === 'number') {\n            e.line = line;\n        }\n        if (typeof column === 'number') {\n            e.column = column;\n        }\n        if (source) {\n            e.source = source;\n        }\n    }\n}\nexports.Breakpoint = Breakpoint;\nclass Module {\n    constructor(id, name) {\n        this.id = id;\n        this.name = name;\n    }\n}\nexports.Module = Module;\nclass CompletionItem {\n    constructor(label, start, length = 0) {\n        this.label = label;\n        this.start = start;\n        this.length = length;\n    }\n}\nexports.CompletionItem = CompletionItem;\nclass StoppedEvent extends messages_1.Event {\n    constructor(reason, threadId, exceptionText) {\n        super('stopped');\n        this.body = {\n            reason: reason\n        };\n        if (typeof threadId === 'number') {\n            this.body.threadId = threadId;\n        }\n        if (typeof exceptionText === 'string') {\n            this.body.text = exceptionText;\n        }\n    }\n}\nexports.StoppedEvent = StoppedEvent;\nclass ContinuedEvent extends messages_1.Event {\n    constructor(threadId, allThreadsContinued) {\n        super('continued');\n        this.body = {\n            threadId: threadId\n        };\n        if (typeof allThreadsContinued === 'boolean') {\n            this.body.allThreadsContinued = allThreadsContinued;\n        }\n    }\n}\nexports.ContinuedEvent = ContinuedEvent;\nclass InitializedEvent extends messages_1.Event {\n    constructor() {\n        super('initialized');\n    }\n}\nexports.InitializedEvent = InitializedEvent;\nclass TerminatedEvent extends messages_1.Event {\n    constructor(restart) {\n        super('terminated');\n        if (typeof restart === 'boolean' || restart) {\n            const e = this;\n            e.body = {\n                restart: restart\n            };\n        }\n    }\n}\nexports.TerminatedEvent = TerminatedEvent;\nclass OutputEvent extends messages_1.Event {\n    constructor(output, category = 'console', data) {\n        super('output');\n        this.body = {\n            category: category,\n            output: output\n        };\n        if (data !== undefined) {\n            this.body.data = data;\n        }\n    }\n}\nexports.OutputEvent = OutputEvent;\nclass ThreadEvent extends messages_1.Event {\n    constructor(reason, threadId) {\n        super('thread');\n        this.body = {\n            reason: reason,\n            threadId: threadId\n        };\n    }\n}\nexports.ThreadEvent = ThreadEvent;\nclass BreakpointEvent extends messages_1.Event {\n    constructor(reason, breakpoint) {\n        super('breakpoint');\n        this.body = {\n            reason: reason,\n            breakpoint: breakpoint\n        };\n    }\n}\nexports.BreakpointEvent = BreakpointEvent;\nclass ModuleEvent extends messages_1.Event {\n    constructor(reason, module) {\n        super('module');\n        this.body = {\n            reason: reason,\n            module: module\n        };\n    }\n}\nexports.ModuleEvent = ModuleEvent;\nclass LoadedSourceEvent extends messages_1.Event {\n    constructor(reason, source) {\n        super('loadedSource');\n        this.body = {\n            reason: reason,\n            source: source\n        };\n    }\n}\nexports.LoadedSourceEvent = LoadedSourceEvent;\nclass CapabilitiesEvent extends messages_1.Event {\n    constructor(capabilities) {\n        super('capabilities');\n        this.body = {\n            capabilities: capabilities\n        };\n    }\n}\nexports.CapabilitiesEvent = CapabilitiesEvent;\nclass ProgressStartEvent extends messages_1.Event {\n    constructor(progressId, title, message) {\n        super('progressStart');\n        this.body = {\n            progressId: progressId,\n            title: title\n        };\n        if (typeof message === 'string') {\n            this.body.message = message;\n        }\n    }\n}\nexports.ProgressStartEvent = ProgressStartEvent;\nclass ProgressUpdateEvent extends messages_1.Event {\n    constructor(progressId, message) {\n        super('progressUpdate');\n        this.body = {\n            progressId: progressId\n        };\n        if (typeof message === 'string') {\n            this.body.message = message;\n        }\n    }\n}\nexports.ProgressUpdateEvent = ProgressUpdateEvent;\nclass ProgressEndEvent extends messages_1.Event {\n    constructor(progressId, message) {\n        super('progressEnd');\n        this.body = {\n            progressId: progressId\n        };\n        if (typeof message === 'string') {\n            this.body.message = message;\n        }\n    }\n}\nexports.ProgressEndEvent = ProgressEndEvent;\nclass InvalidatedEvent extends messages_1.Event {\n    constructor(areas, threadId, stackFrameId) {\n        super('invalidated');\n        this.body = {};\n        if (areas) {\n            this.body.areas = areas;\n        }\n        if (threadId) {\n            this.body.threadId = threadId;\n        }\n        if (stackFrameId) {\n            this.body.stackFrameId = stackFrameId;\n        }\n    }\n}\nexports.InvalidatedEvent = InvalidatedEvent;\nvar ErrorDestination;\n(function (ErrorDestination) {\n    ErrorDestination[ErrorDestination[\"User\"] = 1] = \"User\";\n    ErrorDestination[ErrorDestination[\"Telemetry\"] = 2] = \"Telemetry\";\n})(ErrorDestination = exports.ErrorDestination || (exports.ErrorDestination = {}));\n;\nclass DebugSession extends protocol_1.ProtocolServer {\n    constructor(obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer) {\n        super();\n        const linesAndColumnsStartAt1 = typeof obsolete_debuggerLinesAndColumnsStartAt1 === 'boolean' ? obsolete_debuggerLinesAndColumnsStartAt1 : false;\n        this._debuggerLinesStartAt1 = linesAndColumnsStartAt1;\n        this._debuggerColumnsStartAt1 = linesAndColumnsStartAt1;\n        this._debuggerPathsAreURIs = false;\n        this._clientLinesStartAt1 = true;\n        this._clientColumnsStartAt1 = true;\n        this._clientPathsAreURIs = false;\n        this._isServer = typeof obsolete_isServer === 'boolean' ? obsolete_isServer : false;\n        this.on('close', () => {\n            this.shutdown();\n        });\n        this.on('error', (error) => {\n            this.shutdown();\n        });\n    }\n    setDebuggerPathFormat(format) {\n        this._debuggerPathsAreURIs = format !== 'path';\n    }\n    setDebuggerLinesStartAt1(enable) {\n        this._debuggerLinesStartAt1 = enable;\n    }\n    setDebuggerColumnsStartAt1(enable) {\n        this._debuggerColumnsStartAt1 = enable;\n    }\n    setRunAsServer(enable) {\n        this._isServer = enable;\n    }\n    /**\n     * A virtual constructor...\n     */\n    static run(debugSession) {\n        runDebugAdapter_1.runDebugAdapter(debugSession);\n    }\n    shutdown() {\n        if (this._isServer || this._isRunningInline()) {\n            // shutdown ignored in server mode\n        }\n        else {\n            // wait a bit before shutting down\n            setTimeout(() => {\n                process.exit(0);\n            }, 100);\n        }\n    }\n    sendErrorResponse(response, codeOrMessage, format, variables, dest = ErrorDestination.User) {\n        let msg;\n        if (typeof codeOrMessage === 'number') {\n            msg = {\n                id: codeOrMessage,\n                format: format\n            };\n            if (variables) {\n                msg.variables = variables;\n            }\n            if (dest & ErrorDestination.User) {\n                msg.showUser = true;\n            }\n            if (dest & ErrorDestination.Telemetry) {\n                msg.sendTelemetry = true;\n            }\n        }\n        else {\n            msg = codeOrMessage;\n        }\n        response.success = false;\n        response.message = DebugSession.formatPII(msg.format, true, msg.variables);\n        if (!response.body) {\n            response.body = {};\n        }\n        response.body.error = msg;\n        this.sendResponse(response);\n    }\n    runInTerminalRequest(args, timeout, cb) {\n        this.sendRequest('runInTerminal', args, timeout, cb);\n    }\n    dispatchRequest(request) {\n        const response = new messages_1.Response(request);\n        try {\n            if (request.command === 'initialize') {\n                var args = request.arguments;\n                if (typeof args.linesStartAt1 === 'boolean') {\n                    this._clientLinesStartAt1 = args.linesStartAt1;\n                }\n                if (typeof args.columnsStartAt1 === 'boolean') {\n                    this._clientColumnsStartAt1 = args.columnsStartAt1;\n                }\n                if (args.pathFormat !== 'path') {\n                    this.sendErrorResponse(response, 2018, 'debug adapter only supports native paths', null, ErrorDestination.Telemetry);\n                }\n                else {\n                    const initializeResponse = response;\n                    initializeResponse.body = {};\n                    this.initializeRequest(initializeResponse, args);\n                }\n            }\n            else if (request.command === 'launch') {\n                this.launchRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'attach') {\n                this.attachRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'disconnect') {\n                this.disconnectRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'terminate') {\n                this.terminateRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'restart') {\n                this.restartRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setBreakpoints') {\n                this.setBreakPointsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setFunctionBreakpoints') {\n                this.setFunctionBreakPointsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setExceptionBreakpoints') {\n                this.setExceptionBreakPointsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'configurationDone') {\n                this.configurationDoneRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'continue') {\n                this.continueRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'next') {\n                this.nextRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'stepIn') {\n                this.stepInRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'stepOut') {\n                this.stepOutRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'stepBack') {\n                this.stepBackRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'reverseContinue') {\n                this.reverseContinueRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'restartFrame') {\n                this.restartFrameRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'goto') {\n                this.gotoRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'pause') {\n                this.pauseRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'stackTrace') {\n                this.stackTraceRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'scopes') {\n                this.scopesRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'variables') {\n                this.variablesRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setVariable') {\n                this.setVariableRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setExpression') {\n                this.setExpressionRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'source') {\n                this.sourceRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'threads') {\n                this.threadsRequest(response, request);\n            }\n            else if (request.command === 'terminateThreads') {\n                this.terminateThreadsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'evaluate') {\n                this.evaluateRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'stepInTargets') {\n                this.stepInTargetsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'gotoTargets') {\n                this.gotoTargetsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'completions') {\n                this.completionsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'exceptionInfo') {\n                this.exceptionInfoRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'loadedSources') {\n                this.loadedSourcesRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'dataBreakpointInfo') {\n                this.dataBreakpointInfoRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setDataBreakpoints') {\n                this.setDataBreakpointsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'readMemory') {\n                this.readMemoryRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'disassemble') {\n                this.disassembleRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'cancel') {\n                this.cancelRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'breakpointLocations') {\n                this.breakpointLocationsRequest(response, request.arguments, request);\n            }\n            else if (request.command === 'setInstructionBreakpoints') {\n                this.setInstructionBreakpointsRequest(response, request.arguments, request);\n            }\n            else {\n                this.customRequest(request.command, response, request.arguments, request);\n            }\n        }\n        catch (e) {\n            this.sendErrorResponse(response, 1104, '{_stack}', { _exception: e.message, _stack: e.stack }, ErrorDestination.Telemetry);\n        }\n    }\n    initializeRequest(response, args) {\n        // This default debug adapter does not support conditional breakpoints.\n        response.body.supportsConditionalBreakpoints = false;\n        // This default debug adapter does not support hit conditional breakpoints.\n        response.body.supportsHitConditionalBreakpoints = false;\n        // This default debug adapter does not support function breakpoints.\n        response.body.supportsFunctionBreakpoints = false;\n        // This default debug adapter implements the 'configurationDone' request.\n        response.body.supportsConfigurationDoneRequest = true;\n        // This default debug adapter does not support hovers based on the 'evaluate' request.\n        response.body.supportsEvaluateForHovers = false;\n        // This default debug adapter does not support the 'stepBack' request.\n        response.body.supportsStepBack = false;\n        // This default debug adapter does not support the 'setVariable' request.\n        response.body.supportsSetVariable = false;\n        // This default debug adapter does not support the 'restartFrame' request.\n        response.body.supportsRestartFrame = false;\n        // This default debug adapter does not support the 'stepInTargets' request.\n        response.body.supportsStepInTargetsRequest = false;\n        // This default debug adapter does not support the 'gotoTargets' request.\n        response.body.supportsGotoTargetsRequest = false;\n        // This default debug adapter does not support the 'completions' request.\n        response.body.supportsCompletionsRequest = false;\n        // This default debug adapter does not support the 'restart' request.\n        response.body.supportsRestartRequest = false;\n        // This default debug adapter does not support the 'exceptionOptions' attribute on the 'setExceptionBreakpoints' request.\n        response.body.supportsExceptionOptions = false;\n        // This default debug adapter does not support the 'format' attribute on the 'variables', 'evaluate', and 'stackTrace' request.\n        response.body.supportsValueFormattingOptions = false;\n        // This debug adapter does not support the 'exceptionInfo' request.\n        response.body.supportsExceptionInfoRequest = false;\n        // This debug adapter does not support the 'TerminateDebuggee' attribute on the 'disconnect' request.\n        response.body.supportTerminateDebuggee = false;\n        // This debug adapter does not support delayed loading of stack frames.\n        response.body.supportsDelayedStackTraceLoading = false;\n        // This debug adapter does not support the 'loadedSources' request.\n        response.body.supportsLoadedSourcesRequest = false;\n        // This debug adapter does not support the 'logMessage' attribute of the SourceBreakpoint.\n        response.body.supportsLogPoints = false;\n        // This debug adapter does not support the 'terminateThreads' request.\n        response.body.supportsTerminateThreadsRequest = false;\n        // This debug adapter does not support the 'setExpression' request.\n        response.body.supportsSetExpression = false;\n        // This debug adapter does not support the 'terminate' request.\n        response.body.supportsTerminateRequest = false;\n        // This debug adapter does not support data breakpoints.\n        response.body.supportsDataBreakpoints = false;\n        /** This debug adapter does not support the 'readMemory' request. */\n        response.body.supportsReadMemoryRequest = false;\n        /** The debug adapter does not support the 'disassemble' request. */\n        response.body.supportsDisassembleRequest = false;\n        /** The debug adapter does not support the 'cancel' request. */\n        response.body.supportsCancelRequest = false;\n        /** The debug adapter does not support the 'breakpointLocations' request. */\n        response.body.supportsBreakpointLocationsRequest = false;\n        /** The debug adapter does not support the 'clipboard' context value in the 'evaluate' request. */\n        response.body.supportsClipboardContext = false;\n        /** The debug adapter does not support stepping granularities for the stepping requests. */\n        response.body.supportsSteppingGranularity = false;\n        /** The debug adapter does not support the 'setInstructionBreakpoints' request. */\n        response.body.supportsInstructionBreakpoints = false;\n        /** The debug adapter does not support 'filterOptions' on the 'setExceptionBreakpoints' request. */\n        response.body.supportsExceptionFilterOptions = false;\n        this.sendResponse(response);\n    }\n    disconnectRequest(response, args, request) {\n        this.sendResponse(response);\n        this.shutdown();\n    }\n    launchRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    attachRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    terminateRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    restartRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setBreakPointsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setFunctionBreakPointsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setExceptionBreakPointsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    configurationDoneRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    continueRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    nextRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    stepInRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    stepOutRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    stepBackRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    reverseContinueRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    restartFrameRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    gotoRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    pauseRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    sourceRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    threadsRequest(response, request) {\n        this.sendResponse(response);\n    }\n    terminateThreadsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    stackTraceRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    scopesRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    variablesRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setVariableRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setExpressionRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    evaluateRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    stepInTargetsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    gotoTargetsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    completionsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    exceptionInfoRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    loadedSourcesRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    dataBreakpointInfoRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setDataBreakpointsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    readMemoryRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    disassembleRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    cancelRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    breakpointLocationsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    setInstructionBreakpointsRequest(response, args, request) {\n        this.sendResponse(response);\n    }\n    /**\n     * Override this hook to implement custom requests.\n     */\n    customRequest(command, response, args, request) {\n        this.sendErrorResponse(response, 1014, 'unrecognized request', null, ErrorDestination.Telemetry);\n    }\n    //---- protected -------------------------------------------------------------------------------------------------\n    convertClientLineToDebugger(line) {\n        if (this._debuggerLinesStartAt1) {\n            return this._clientLinesStartAt1 ? line : line + 1;\n        }\n        return this._clientLinesStartAt1 ? line - 1 : line;\n    }\n    convertDebuggerLineToClient(line) {\n        if (this._debuggerLinesStartAt1) {\n            return this._clientLinesStartAt1 ? line : line - 1;\n        }\n        return this._clientLinesStartAt1 ? line + 1 : line;\n    }\n    convertClientColumnToDebugger(column) {\n        if (this._debuggerColumnsStartAt1) {\n            return this._clientColumnsStartAt1 ? column : column + 1;\n        }\n        return this._clientColumnsStartAt1 ? column - 1 : column;\n    }\n    convertDebuggerColumnToClient(column) {\n        if (this._debuggerColumnsStartAt1) {\n            return this._clientColumnsStartAt1 ? column : column - 1;\n        }\n        return this._clientColumnsStartAt1 ? column + 1 : column;\n    }\n    convertClientPathToDebugger(clientPath) {\n        if (this._clientPathsAreURIs !== this._debuggerPathsAreURIs) {\n            if (this._clientPathsAreURIs) {\n                return DebugSession.uri2path(clientPath);\n            }\n            else {\n                return DebugSession.path2uri(clientPath);\n            }\n        }\n        return clientPath;\n    }\n    convertDebuggerPathToClient(debuggerPath) {\n        if (this._debuggerPathsAreURIs !== this._clientPathsAreURIs) {\n            if (this._debuggerPathsAreURIs) {\n                return DebugSession.uri2path(debuggerPath);\n            }\n            else {\n                return DebugSession.path2uri(debuggerPath);\n            }\n        }\n        return debuggerPath;\n    }\n    //---- private -------------------------------------------------------------------------------\n    static path2uri(path) {\n        if (process.platform === 'win32') {\n            if (/^[A-Z]:/.test(path)) {\n                path = path[0].toLowerCase() + path.substr(1);\n            }\n            path = path.replace(/\\\\/g, '/');\n        }\n        path = encodeURI(path);\n        let uri = new url_1.URL(`file:`); // ignore 'path' for now\n        uri.pathname = path; // now use 'path' to get the correct percent encoding (see https://url.spec.whatwg.org)\n        return uri.toString();\n    }\n    static uri2path(sourceUri) {\n        let uri = new url_1.URL(sourceUri);\n        let s = decodeURIComponent(uri.pathname);\n        if (process.platform === 'win32') {\n            if (/^\\/[a-zA-Z]:/.test(s)) {\n                s = s[1].toLowerCase() + s.substr(2);\n            }\n            s = s.replace(/\\//g, '\\\\');\n        }\n        return s;\n    }\n    /*\n    * If argument starts with '_' it is OK to send its value to telemetry.\n    */\n    static formatPII(format, excludePII, args) {\n        return format.replace(DebugSession._formatPIIRegexp, function (match, paramName) {\n            if (excludePII && paramName.length > 0 && paramName[0] !== '_') {\n                return match;\n            }\n            return args[paramName] && args.hasOwnProperty(paramName) ?\n                args[paramName] :\n                match;\n        });\n    }\n}\nexports.DebugSession = DebugSession;\nDebugSession._formatPIIRegexp = /{([^}]+)}/g;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVidWdTZXNzaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlYnVnU2Vzc2lvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OztnR0FHZ0c7OztBQUdoRyx5Q0FBNEM7QUFDNUMseUNBQTZDO0FBQzdDLHVEQUFvRDtBQUNwRCw2QkFBMEI7QUFHMUIsTUFBYSxNQUFNO0lBS2xCLFlBQW1CLElBQVksRUFBRSxJQUFhLEVBQUUsS0FBYSxDQUFDLEVBQUUsTUFBZSxFQUFFLElBQVU7UUFDMUYsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7UUFDMUIsSUFBSSxNQUFNLEVBQUU7WUFDTCxJQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztTQUM1QjtRQUNELElBQUksSUFBSSxFQUFFO1lBQ0gsSUFBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDRixDQUFDO0NBQ0Q7QUFoQkQsd0JBZ0JDO0FBRUQsTUFBYSxLQUFLO0lBS2pCLFlBQW1CLElBQVksRUFBRSxTQUFpQixFQUFFLFlBQXFCLEtBQUs7UUFDN0UsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLFNBQVMsQ0FBQztRQUNwQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM1QixDQUFDO0NBQ0Q7QUFWRCxzQkFVQztBQUVELE1BQWEsVUFBVTtJQU90QixZQUFtQixDQUFTLEVBQUUsRUFBVSxFQUFFLEdBQVksRUFBRSxLQUFhLENBQUMsRUFBRSxNQUFjLENBQUM7UUFDdEYsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUs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LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7IERlYnVnUHJvdG9jb2wgfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5pbXBvcnQgeyBQcm90b2NvbFNlcnZlciB9IGZyb20gJy4vcHJvdG9jb2wnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIEV2ZW50IH0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBydW5EZWJ1Z0FkYXB0ZXIgfSBmcm9tICcuL3J1bkRlYnVnQWRhcHRlcic7XG5pbXBvcnQgeyBVUkwgfSBmcm9tICd1cmwnO1xuXG5cbmV4cG9ydCBjbGFzcyBTb3VyY2UgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlNvdXJjZSB7XG5cdG5hbWU6IHN0cmluZztcblx0cGF0aDogc3RyaW5nO1xuXHRzb3VyY2VSZWZlcmVuY2U6IG51bWJlcjtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBwYXRoPzogc3RyaW5nLCBpZDogbnVtYmVyID0gMCwgb3JpZ2luPzogc3RyaW5nLCBkYXRhPzogYW55KSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdHRoaXMuc291cmNlUmVmZXJlbmNlID0gaWQ7XG5cdFx0aWYgKG9yaWdpbikge1xuXHRcdFx0KDxhbnk+dGhpcykub3JpZ2luID0gb3JpZ2luO1xuXHRcdH1cblx0XHRpZiAoZGF0YSkge1xuXHRcdFx0KDxhbnk+dGhpcykuYWRhcHRlckRhdGEgPSBkYXRhO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU2NvcGUgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlNjb3BlIHtcblx0bmFtZTogc3RyaW5nO1xuXHR2YXJpYWJsZXNSZWZlcmVuY2U6IG51bWJlcjtcblx0ZXhwZW5zaXZlOiBib29sZWFuO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHJlZmVyZW5jZTogbnVtYmVyLCBleHBlbnNpdmU6IGJvb2xlYW4gPSBmYWxzZSkge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy52YXJpYWJsZXNSZWZlcmVuY2UgPSByZWZlcmVuY2U7XG5cdFx0dGhpcy5leHBlbnNpdmUgPSBleHBlbnNpdmU7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YWNrRnJhbWUgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlN0YWNrRnJhbWUge1xuXHRpZDogbnVtYmVyO1xuXHRzb3VyY2U6IFNvdXJjZTtcblx0bGluZTogbnVtYmVyO1xuXHRjb2x1bW46IG51bWJlcjtcblx0bmFtZTogc3RyaW5nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpOiBudW1iZXIsIG5tOiBzdHJpbmcsIHNyYz86IFNvdXJjZSwgbG46IG51bWJlciA9IDAsIGNvbDogbnVtYmVyID0gMCkge1xuXHRcdHRoaXMuaWQgPSBpO1xuXHRcdHRoaXMuc291cmNlID0gc3JjO1xuXHRcdHRoaXMubGluZSA9IGxuO1xuXHRcdHRoaXMuY29sdW1uID0gY29sO1xuXHRcdHRoaXMubmFtZSA9IG5tO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBUaHJlYWQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlRocmVhZCB7XG5cdGlkOiBudW1iZXI7XG5cdG5hbWU6IHN0cmluZztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5pZCA9IGlkO1xuXHRcdGlmIChuYW1lKSB7XG5cdFx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm5hbWUgPSAnVGhyZWFkICMnICsgaWQ7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBWYXJpYWJsZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuVmFyaWFibGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHZhbHVlOiBzdHJpbmc7XG5cdHZhcmlhYmxlc1JlZmVyZW5jZTogbnVtYmVyO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHJlZjogbnVtYmVyID0gMCwgaW5kZXhlZFZhcmlhYmxlcz86IG51bWJlciwgbmFtZWRWYXJpYWJsZXM/OiBudW1iZXIpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLnZhcmlhYmxlc1JlZmVyZW5jZSA9IHJlZjtcblx0XHRpZiAodHlwZW9mIG5hbWVkVmFyaWFibGVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0KDxEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlPnRoaXMpLm5hbWVkVmFyaWFibGVzID0gbmFtZWRWYXJpYWJsZXM7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgaW5kZXhlZFZhcmlhYmxlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdCg8RGVidWdQcm90b2NvbC5WYXJpYWJsZT50aGlzKS5pbmRleGVkVmFyaWFibGVzID0gaW5kZXhlZFZhcmlhYmxlcztcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEJyZWFrcG9pbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkJyZWFrcG9pbnQge1xuXHR2ZXJpZmllZDogYm9vbGVhbjtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IodmVyaWZpZWQ6IGJvb2xlYW4sIGxpbmU/OiBudW1iZXIsIGNvbHVtbj86IG51bWJlciwgc291cmNlPzogU291cmNlKSB7XG5cdFx0dGhpcy52ZXJpZmllZCA9IHZlcmlmaWVkO1xuXHRcdGNvbnN0IGU6IERlYnVnUHJvdG9jb2wuQnJlYWtwb2ludCA9IHRoaXM7XG5cdFx0aWYgKHR5cGVvZiBsaW5lID09PSAnbnVtYmVyJykge1xuXHRcdFx0ZS5saW5lID0gbGluZTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBjb2x1bW4gPT09ICdudW1iZXInKSB7XG5cdFx0XHRlLmNvbHVtbiA9IGNvbHVtbjtcblx0XHR9XG5cdFx0aWYgKHNvdXJjZSkge1xuXHRcdFx0ZS5zb3VyY2UgPSBzb3VyY2U7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bGUgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLk1vZHVsZSB7XG5cdGlkOiBudW1iZXIgfCBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoaWQ6IG51bWJlciB8IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5pZCA9IGlkO1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25JdGVtIGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Db21wbGV0aW9uSXRlbSB7XG5cdGxhYmVsOiBzdHJpbmc7XG5cdHN0YXJ0OiBudW1iZXI7XG5cdGxlbmd0aDogbnVtYmVyO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihsYWJlbDogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciA9IDApIHtcblx0XHR0aGlzLmxhYmVsID0gbGFiZWw7XG5cdFx0dGhpcy5zdGFydCA9IHN0YXJ0O1xuXHRcdHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTdG9wcGVkRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU3RvcHBlZEV2ZW50IHtcblx0Ym9keToge1xuXHRcdHJlYXNvbjogc3RyaW5nO1xuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFzb246IHN0cmluZywgdGhyZWFkSWQ/OiBudW1iZXIsIGV4Y2VwdGlvblRleHQ/OiBzdHJpbmcpIHtcblx0XHRzdXBlcignc3RvcHBlZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uXG5cdFx0fTtcblx0XHRpZiAodHlwZW9mIHRocmVhZElkID09PSAnbnVtYmVyJykge1xuXHRcdFx0KHRoaXMgYXMgRGVidWdQcm90b2NvbC5TdG9wcGVkRXZlbnQpLmJvZHkudGhyZWFkSWQgPSB0aHJlYWRJZDtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBleGNlcHRpb25UZXh0ID09PSAnc3RyaW5nJykge1xuXHRcdFx0KHRoaXMgYXMgRGVidWdQcm90b2NvbC5TdG9wcGVkRXZlbnQpLmJvZHkudGV4dCA9IGV4Y2VwdGlvblRleHQ7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250aW51ZWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Db250aW51ZWRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHR0aHJlYWRJZDogbnVtYmVyO1xuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcih0aHJlYWRJZDogbnVtYmVyLCBhbGxUaHJlYWRzQ29udGludWVkPzogYm9vbGVhbikge1xuXHRcdHN1cGVyKCdjb250aW51ZWQnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHR0aHJlYWRJZDogdGhyZWFkSWRcblx0XHR9O1xuXG5cdFx0aWYgKHR5cGVvZiBhbGxUaHJlYWRzQ29udGludWVkID09PSAnYm9vbGVhbicpIHtcblx0XHRcdCg8RGVidWdQcm90b2NvbC5Db250aW51ZWRFdmVudD50aGlzKS5ib2R5LmFsbFRocmVhZHNDb250aW51ZWQgPSBhbGxUaHJlYWRzQ29udGludWVkO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSW5pdGlhbGl6ZWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Jbml0aWFsaXplZEV2ZW50IHtcblx0cHVibGljIGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCdpbml0aWFsaXplZCcpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXJtaW5hdGVkRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuVGVybWluYXRlZEV2ZW50IHtcblx0cHVibGljIGNvbnN0cnVjdG9yKHJlc3RhcnQ/OiBhbnkpIHtcblx0XHRzdXBlcigndGVybWluYXRlZCcpO1xuXHRcdGlmICh0eXBlb2YgcmVzdGFydCA9PT0gJ2Jvb2xlYW4nIHx8IHJlc3RhcnQpIHtcblx0XHRcdGNvbnN0IGU6IERlYnVnUHJvdG9jb2wuVGVybWluYXRlZEV2ZW50ID0gdGhpcztcblx0XHRcdGUuYm9keSA9IHtcblx0XHRcdFx0cmVzdGFydDogcmVzdGFydFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE91dHB1dEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLk91dHB1dEV2ZW50IHtcblx0Ym9keToge1xuXHRcdGNhdGVnb3J5OiBzdHJpbmcsXG5cdFx0b3V0cHV0OiBzdHJpbmcsXG5cdFx0ZGF0YT86IGFueVxuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihvdXRwdXQ6IHN0cmluZywgY2F0ZWdvcnk6IHN0cmluZyA9ICdjb25zb2xlJywgZGF0YT86IGFueSkge1xuXHRcdHN1cGVyKCdvdXRwdXQnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRjYXRlZ29yeTogY2F0ZWdvcnksXG5cdFx0XHRvdXRwdXQ6IG91dHB1dFxuXHRcdH07XG5cdFx0aWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5ib2R5LmRhdGEgPSBkYXRhO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVGhyZWFkRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuVGhyZWFkRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cmVhc29uOiBzdHJpbmcsXG5cdFx0dGhyZWFkSWQ6IG51bWJlclxuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFzb246IHN0cmluZywgdGhyZWFkSWQ6IG51bWJlcikge1xuXHRcdHN1cGVyKCd0aHJlYWQnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRyZWFzb246IHJlYXNvbixcblx0XHRcdHRocmVhZElkOiB0aHJlYWRJZFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEJyZWFrcG9pbnRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5CcmVha3BvaW50RXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cmVhc29uOiBzdHJpbmcsXG5cdFx0YnJlYWtwb2ludDogQnJlYWtwb2ludFxuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFzb246IHN0cmluZywgYnJlYWtwb2ludDogQnJlYWtwb2ludCkge1xuXHRcdHN1cGVyKCdicmVha3BvaW50Jyk7XG5cdFx0dGhpcy5ib2R5ID0ge1xuXHRcdFx0cmVhc29uOiByZWFzb24sXG5cdFx0XHRicmVha3BvaW50OiBicmVha3BvaW50XG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTW9kdWxlRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuTW9kdWxlRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cmVhc29uOiAnbmV3JyB8ICdjaGFuZ2VkJyB8ICdyZW1vdmVkJyxcblx0XHRtb2R1bGU6IE1vZHVsZVxuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFzb246ICduZXcnIHwgJ2NoYW5nZWQnIHwgJ3JlbW92ZWQnLCBtb2R1bGU6IE1vZHVsZSkge1xuXHRcdHN1cGVyKCdtb2R1bGUnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRyZWFzb246IHJlYXNvbixcblx0XHRcdG1vZHVsZTogbW9kdWxlXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTG9hZGVkU291cmNlRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuTG9hZGVkU291cmNlRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cmVhc29uOiAnbmV3JyB8ICdjaGFuZ2VkJyB8ICdyZW1vdmVkJyxcblx0XHRzb3VyY2U6IFNvdXJjZVxuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFzb246ICduZXcnIHwgJ2NoYW5nZWQnIHwgJ3JlbW92ZWQnLCBzb3VyY2U6IFNvdXJjZSkge1xuXHRcdHN1cGVyKCdsb2FkZWRTb3VyY2UnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRyZWFzb246IHJlYXNvbixcblx0XHRcdHNvdXJjZTogc291cmNlXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0aWVzRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuQ2FwYWJpbGl0aWVzRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0Y2FwYWJpbGl0aWVzOiBEZWJ1Z1Byb3RvY29sLkNhcGFiaWxpdGllc1xuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihjYXBhYmlsaXRpZXM6IERlYnVnUHJvdG9jb2wuQ2FwYWJpbGl0aWVzKSB7XG5cdFx0c3VwZXIoJ2NhcGFiaWxpdGllcycpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdGNhcGFiaWxpdGllczogY2FwYWJpbGl0aWVzXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NTdGFydEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlByb2dyZXNzU3RhcnRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRwcm9ncmVzc0lkOiBzdHJpbmcsXG5cdFx0dGl0bGU6IHN0cmluZ1xuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihwcm9ncmVzc0lkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcblx0XHRzdXBlcigncHJvZ3Jlc3NTdGFydCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHByb2dyZXNzSWQ6IHByb2dyZXNzSWQsXG5cdFx0XHR0aXRsZTogdGl0bGVcblx0XHR9O1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdCh0aGlzIGFzIERlYnVnUHJvdG9jb2wuUHJvZ3Jlc3NTdGFydEV2ZW50KS5ib2R5Lm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NVcGRhdGVFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Qcm9ncmVzc1VwZGF0ZUV2ZW50IHtcblx0Ym9keToge1xuXHRcdHByb2dyZXNzSWQ6IHN0cmluZ1xuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihwcm9ncmVzc0lkOiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcblx0XHRzdXBlcigncHJvZ3Jlc3NVcGRhdGUnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRwcm9ncmVzc0lkOiBwcm9ncmVzc0lkXG5cdFx0fTtcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHQodGhpcyBhcyBEZWJ1Z1Byb3RvY29sLlByb2dyZXNzVXBkYXRlRXZlbnQpLmJvZHkubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9ncmVzc0VuZEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlByb2dyZXNzRW5kRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cHJvZ3Jlc3NJZDogc3RyaW5nXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHByb2dyZXNzSWQ6IHN0cmluZywgbWVzc2FnZT86IHN0cmluZykge1xuXHRcdHN1cGVyKCdwcm9ncmVzc0VuZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHByb2dyZXNzSWQ6IHByb2dyZXNzSWRcblx0XHR9O1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdCh0aGlzIGFzIERlYnVnUHJvdG9jb2wuUHJvZ3Jlc3NFbmRFdmVudCkuYm9keS5tZXNzYWdlID0gbWVzc2FnZTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEludmFsaWRhdGVkRXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuSW52YWxpZGF0ZWRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRhcmVhcz86IERlYnVnUHJvdG9jb2wuSW52YWxpZGF0ZWRBcmVhc1tdO1xuXHRcdHRocmVhZElkPzogbnVtYmVyO1xuXHRcdHN0YWNrRnJhbWVJZD86IG51bWJlcjtcblx0fTtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoYXJlYXM/OiBEZWJ1Z1Byb3RvY29sLkludmFsaWRhdGVkQXJlYXNbXSwgdGhyZWFkSWQ/OiBudW1iZXIsIHN0YWNrRnJhbWVJZD86IG51bWJlcikge1xuXHRcdHN1cGVyKCdpbnZhbGlkYXRlZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHR9O1xuXHRcdGlmIChhcmVhcykge1xuXHRcdFx0dGhpcy5ib2R5LmFyZWFzID0gYXJlYXM7XG5cdFx0fVxuXHRcdGlmICh0aHJlYWRJZCkge1xuXHRcdFx0dGhpcy5ib2R5LnRocmVhZElkID0gdGhyZWFkSWQ7XG5cdFx0fVxuXHRcdGlmIChzdGFja0ZyYW1lSWQpIHtcblx0XHRcdHRoaXMuYm9keS5zdGFja0ZyYW1lSWQgPSBzdGFja0ZyYW1lSWQ7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBlbnVtIEVycm9yRGVzdGluYXRpb24ge1xuXHRVc2VyID0gMSxcblx0VGVsZW1ldHJ5ID0gMlxufTtcblxuZXhwb3J0IGNsYXNzIERlYnVnU2Vzc2lvbiBleHRlbmRzIFByb3RvY29sU2VydmVyIHtcblxuXHRwcml2YXRlIF9kZWJ1Z2dlckxpbmVzU3RhcnRBdDE6IGJvb2xlYW47XG5cdHByaXZhdGUgX2RlYnVnZ2VyQ29sdW1uc1N0YXJ0QXQxOiBib29sZWFuO1xuXHRwcml2YXRlIF9kZWJ1Z2dlclBhdGhzQXJlVVJJczogYm9vbGVhbjtcblxuXHRwcml2YXRlIF9jbGllbnRMaW5lc1N0YXJ0QXQxOiBib29sZWFuO1xuXHRwcml2YXRlIF9jbGllbnRDb2x1bW5zU3RhcnRBdDE6IGJvb2xlYW47XG5cdHByaXZhdGUgX2NsaWVudFBhdGhzQXJlVVJJczogYm9vbGVhbjtcblxuXHRwcm90ZWN0ZWQgX2lzU2VydmVyOiBib29sZWFuO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihvYnNvbGV0ZV9kZWJ1Z2dlckxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxPzogYm9vbGVhbiwgb2Jzb2xldGVfaXNTZXJ2ZXI/OiBib29sZWFuKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGNvbnN0IGxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxID0gdHlwZW9mIG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEgPT09ICdib29sZWFuJyA/IG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEgOiBmYWxzZTtcblx0XHR0aGlzLl9kZWJ1Z2dlckxpbmVzU3RhcnRBdDEgPSBsaW5lc0FuZENvbHVtbnNTdGFydEF0MTtcblx0XHR0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSA9IGxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxO1xuXHRcdHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzID0gZmFsc2U7XG5cblx0XHR0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID0gdHJ1ZTtcblx0XHR0aGlzLl9jbGllbnRDb2x1bW5zU3RhcnRBdDEgPSB0cnVlO1xuXHRcdHRoaXMuX2NsaWVudFBhdGhzQXJlVVJJcyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5faXNTZXJ2ZXIgPSB0eXBlb2Ygb2Jzb2xldGVfaXNTZXJ2ZXIgPT09ICdib29sZWFuJyA/IG9ic29sZXRlX2lzU2VydmVyIDogZmFsc2U7XG5cblx0XHR0aGlzLm9uKCdjbG9zZScsICgpID0+IHtcblx0XHRcdHRoaXMuc2h1dGRvd24oKTtcblx0XHR9KTtcblx0XHR0aGlzLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0dGhpcy5zaHV0ZG93bigpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHNldERlYnVnZ2VyUGF0aEZvcm1hdChmb3JtYXQ6IHN0cmluZykge1xuXHRcdHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzID0gZm9ybWF0ICE9PSAncGF0aCc7XG5cdH1cblxuXHRwdWJsaWMgc2V0RGVidWdnZXJMaW5lc1N0YXJ0QXQxKGVuYWJsZTogYm9vbGVhbikge1xuXHRcdHRoaXMuX2RlYnVnZ2VyTGluZXNTdGFydEF0MSA9IGVuYWJsZTtcblx0fVxuXG5cdHB1YmxpYyBzZXREZWJ1Z2dlckNvbHVtbnNTdGFydEF0MShlbmFibGU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSA9IGVuYWJsZTtcblx0fVxuXG5cdHB1YmxpYyBzZXRSdW5Bc1NlcnZlcihlbmFibGU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9pc1NlcnZlciA9IGVuYWJsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHZpcnR1YWwgY29uc3RydWN0b3IuLi5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgcnVuKGRlYnVnU2Vzc2lvbjogdHlwZW9mIERlYnVnU2Vzc2lvbikge1xuXHRcdHJ1bkRlYnVnQWRhcHRlcihkZWJ1Z1Nlc3Npb24pO1xuXHR9XG5cblx0cHVibGljIHNodXRkb3duKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9pc1NlcnZlciB8fCB0aGlzLl9pc1J1bm5pbmdJbmxpbmUoKSkge1xuXHRcdFx0Ly8gc2h1dGRvd24gaWdub3JlZCBpbiBzZXJ2ZXIgbW9kZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyB3YWl0IGEgYml0IGJlZm9yZSBzaHV0dGluZyBkb3duXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0cHJvY2Vzcy5leGl0KDApO1xuXHRcdFx0fSwgMTAwKTtcblx0XHR9XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2VuZEVycm9yUmVzcG9uc2UocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UsIGNvZGVPck1lc3NhZ2U6IG51bWJlciB8IERlYnVnUHJvdG9jb2wuTWVzc2FnZSwgZm9ybWF0Pzogc3RyaW5nLCB2YXJpYWJsZXM/OiBhbnksIGRlc3Q6IEVycm9yRGVzdGluYXRpb24gPSBFcnJvckRlc3RpbmF0aW9uLlVzZXIpOiB2b2lkIHtcblxuXHRcdGxldCBtc2cgOiBEZWJ1Z1Byb3RvY29sLk1lc3NhZ2U7XG5cdFx0aWYgKHR5cGVvZiBjb2RlT3JNZXNzYWdlID09PSAnbnVtYmVyJykge1xuXHRcdFx0bXNnID0gPERlYnVnUHJvdG9jb2wuTWVzc2FnZT4ge1xuXHRcdFx0XHRpZDogPG51bWJlcj4gY29kZU9yTWVzc2FnZSxcblx0XHRcdFx0Zm9ybWF0OiBmb3JtYXRcblx0XHRcdH07XG5cdFx0XHRpZiAodmFyaWFibGVzKSB7XG5cdFx0XHRcdG1zZy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZGVzdCAmIEVycm9yRGVzdGluYXRpb24uVXNlcikge1xuXHRcdFx0XHRtc2cuc2hvd1VzZXIgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGRlc3QgJiBFcnJvckRlc3RpbmF0aW9uLlRlbGVtZXRyeSkge1xuXHRcdFx0XHRtc2cuc2VuZFRlbGVtZXRyeSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1zZyA9IGNvZGVPck1lc3NhZ2U7XG5cdFx0fVxuXG5cdFx0cmVzcG9uc2Uuc3VjY2VzcyA9IGZhbHNlO1xuXHRcdHJlc3BvbnNlLm1lc3NhZ2UgPSBEZWJ1Z1Nlc3Npb24uZm9ybWF0UElJKG1zZy5mb3JtYXQsIHRydWUsIG1zZy52YXJpYWJsZXMpO1xuXHRcdGlmICghcmVzcG9uc2UuYm9keSkge1xuXHRcdFx0cmVzcG9uc2UuYm9keSA9IHsgfTtcblx0XHR9XG5cdFx0cmVzcG9uc2UuYm9keS5lcnJvciA9IG1zZztcblxuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHB1YmxpYyBydW5JblRlcm1pbmFsUmVxdWVzdChhcmdzOiBEZWJ1Z1Byb3RvY29sLlJ1bkluVGVybWluYWxSZXF1ZXN0QXJndW1lbnRzLCB0aW1lb3V0OiBudW1iZXIsIGNiOiAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUnVuSW5UZXJtaW5hbFJlc3BvbnNlKSA9PiB2b2lkKSB7XG5cdFx0dGhpcy5zZW5kUmVxdWVzdCgncnVuSW5UZXJtaW5hbCcsIGFyZ3MsIHRpbWVvdXQsIGNiKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNwYXRjaFJlcXVlc3QocmVxdWVzdDogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cblx0XHRjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShyZXF1ZXN0KTtcblxuXHRcdHRyeSB7XG5cdFx0XHRpZiAocmVxdWVzdC5jb21tYW5kID09PSAnaW5pdGlhbGl6ZScpIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSA8RGVidWdQcm90b2NvbC5Jbml0aWFsaXplUmVxdWVzdEFyZ3VtZW50cz4gcmVxdWVzdC5hcmd1bWVudHM7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzLmxpbmVzU3RhcnRBdDEgPT09ICdib29sZWFuJykge1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudExpbmVzU3RhcnRBdDEgPSBhcmdzLmxpbmVzU3RhcnRBdDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzLmNvbHVtbnNTdGFydEF0MSA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRcdFx0dGhpcy5fY2xpZW50Q29sdW1uc1N0YXJ0QXQxID0gYXJncy5jb2x1bW5zU3RhcnRBdDE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYXJncy5wYXRoRm9ybWF0ICE9PSAncGF0aCcpIHtcblx0XHRcdFx0XHR0aGlzLnNlbmRFcnJvclJlc3BvbnNlKHJlc3BvbnNlLCAyMDE4LCAnZGVidWcgYWRhcHRlciBvbmx5IHN1cHBvcnRzIG5hdGl2ZSBwYXRocycsIG51bGwsIEVycm9yRGVzdGluYXRpb24uVGVsZW1ldHJ5KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zdCBpbml0aWFsaXplUmVzcG9uc2UgPSA8RGVidWdQcm90b2NvbC5Jbml0aWFsaXplUmVzcG9uc2U+IHJlc3BvbnNlO1xuXHRcdFx0XHRcdGluaXRpYWxpemVSZXNwb25zZS5ib2R5ID0ge307XG5cdFx0XHRcdFx0dGhpcy5pbml0aWFsaXplUmVxdWVzdChpbml0aWFsaXplUmVzcG9uc2UsIGFyZ3MpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnbGF1bmNoJykge1xuXHRcdFx0XHR0aGlzLmxhdW5jaFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuTGF1bmNoUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnYXR0YWNoJykge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuQXR0YWNoUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZGlzY29ubmVjdCcpIHtcblx0XHRcdFx0dGhpcy5kaXNjb25uZWN0UmVxdWVzdCg8RGVidWdQcm90b2NvbC5EaXNjb25uZWN0UmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAndGVybWluYXRlJykge1xuXHRcdFx0XHR0aGlzLnRlcm1pbmF0ZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuVGVybWluYXRlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAncmVzdGFydCcpIHtcblx0XHRcdFx0dGhpcy5yZXN0YXJ0UmVxdWVzdCg8RGVidWdQcm90b2NvbC5SZXN0YXJ0UmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0QnJlYWtwb2ludHMnKSB7XG5cdFx0XHRcdHRoaXMuc2V0QnJlYWtQb2ludHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNldEJyZWFrcG9pbnRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0RnVuY3Rpb25CcmVha3BvaW50cycpIHtcblx0XHRcdFx0dGhpcy5zZXRGdW5jdGlvbkJyZWFrUG9pbnRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRGdW5jdGlvbkJyZWFrcG9pbnRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0RXhjZXB0aW9uQnJlYWtwb2ludHMnKSB7XG5cdFx0XHRcdHRoaXMuc2V0RXhjZXB0aW9uQnJlYWtQb2ludHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNldEV4Y2VwdGlvbkJyZWFrcG9pbnRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnY29uZmlndXJhdGlvbkRvbmUnKSB7XG5cdFx0XHRcdHRoaXMuY29uZmlndXJhdGlvbkRvbmVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkNvbmZpZ3VyYXRpb25Eb25lUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnY29udGludWUnKSB7XG5cdFx0XHRcdHRoaXMuY29udGludWVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkNvbnRpbnVlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnbmV4dCcpIHtcblx0XHRcdFx0dGhpcy5uZXh0UmVxdWVzdCg8RGVidWdQcm90b2NvbC5OZXh0UmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc3RlcEluJykge1xuXHRcdFx0XHR0aGlzLnN0ZXBJblJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU3RlcEluUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc3RlcE91dCcpIHtcblx0XHRcdFx0dGhpcy5zdGVwT3V0UmVxdWVzdCg8RGVidWdQcm90b2NvbC5TdGVwT3V0UmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc3RlcEJhY2snKSB7XG5cdFx0XHRcdHRoaXMuc3RlcEJhY2tSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlN0ZXBCYWNrUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAncmV2ZXJzZUNvbnRpbnVlJykge1xuXHRcdFx0XHR0aGlzLnJldmVyc2VDb250aW51ZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuUmV2ZXJzZUNvbnRpbnVlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAncmVzdGFydEZyYW1lJykge1xuXHRcdFx0XHR0aGlzLnJlc3RhcnRGcmFtZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuUmVzdGFydEZyYW1lUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZ290bycpIHtcblx0XHRcdFx0dGhpcy5nb3RvUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Hb3RvUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAncGF1c2UnKSB7XG5cdFx0XHRcdHRoaXMucGF1c2VSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlBhdXNlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc3RhY2tUcmFjZScpIHtcblx0XHRcdFx0dGhpcy5zdGFja1RyYWNlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TdGFja1RyYWNlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2NvcGVzJykge1xuXHRcdFx0XHR0aGlzLnNjb3Blc1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2NvcGVzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAndmFyaWFibGVzJykge1xuXHRcdFx0XHR0aGlzLnZhcmlhYmxlc1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuVmFyaWFibGVzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0VmFyaWFibGUnKSB7XG5cdFx0XHRcdHRoaXMuc2V0VmFyaWFibGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNldFZhcmlhYmxlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0RXhwcmVzc2lvbicpIHtcblx0XHRcdFx0dGhpcy5zZXRFeHByZXNzaW9uUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRFeHByZXNzaW9uUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc291cmNlJykge1xuXHRcdFx0XHR0aGlzLnNvdXJjZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU291cmNlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAndGhyZWFkcycpIHtcblx0XHRcdFx0dGhpcy50aHJlYWRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5UaHJlYWRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICd0ZXJtaW5hdGVUaHJlYWRzJykge1xuXHRcdFx0XHR0aGlzLnRlcm1pbmF0ZVRocmVhZHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVRocmVhZHNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdldmFsdWF0ZScpIHtcblx0XHRcdFx0dGhpcy5ldmFsdWF0ZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuRXZhbHVhdGVSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdzdGVwSW5UYXJnZXRzJykge1xuXHRcdFx0XHR0aGlzLnN0ZXBJblRhcmdldHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlN0ZXBJblRhcmdldHNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdnb3RvVGFyZ2V0cycpIHtcblx0XHRcdFx0dGhpcy5nb3RvVGFyZ2V0c1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuR290b1RhcmdldHNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdjb21wbGV0aW9ucycpIHtcblx0XHRcdFx0dGhpcy5jb21wbGV0aW9uc1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuQ29tcGxldGlvbnNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdleGNlcHRpb25JbmZvJykge1xuXHRcdFx0XHR0aGlzLmV4Y2VwdGlvbkluZm9SZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkV4Y2VwdGlvbkluZm9SZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdsb2FkZWRTb3VyY2VzJykge1xuXHRcdFx0XHR0aGlzLmxvYWRlZFNvdXJjZXNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkxvYWRlZFNvdXJjZXNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdkYXRhQnJlYWtwb2ludEluZm8nKSB7XG5cdFx0XHRcdHRoaXMuZGF0YUJyZWFrcG9pbnRJbmZvUmVxdWVzdCg8RGVidWdQcm90b2NvbC5EYXRhQnJlYWtwb2ludEluZm9SZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdzZXREYXRhQnJlYWtwb2ludHMnKSB7XG5cdFx0XHRcdHRoaXMuc2V0RGF0YUJyZWFrcG9pbnRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXREYXRhQnJlYWtwb2ludHNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdyZWFkTWVtb3J5Jykge1xuXHRcdFx0XHR0aGlzLnJlYWRNZW1vcnlSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlJlYWRNZW1vcnlSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdkaXNhc3NlbWJsZScpIHtcblx0XHRcdFx0dGhpcy5kaXNhc3NlbWJsZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuRGlzYXNzZW1ibGVSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdjYW5jZWwnKSB7XG5cdFx0XHRcdHRoaXMuY2FuY2VsUmVxdWVzdCg8RGVidWdQcm90b2NvbC5DYW5jZWxSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdicmVha3BvaW50TG9jYXRpb25zJykge1xuXHRcdFx0XHR0aGlzLmJyZWFrcG9pbnRMb2NhdGlvbnNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkJyZWFrcG9pbnRMb2NhdGlvbnNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LmNvbW1hbmQgPT09ICdzZXRJbnN0cnVjdGlvbkJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldEluc3RydWN0aW9uQnJlYWtwb2ludHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNldEluc3RydWN0aW9uQnJlYWtwb2ludHNSZXNwb25zZT4gcmVzcG9uc2UsIHJlcXVlc3QuYXJndW1lbnRzLCByZXF1ZXN0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jdXN0b21SZXF1ZXN0KHJlcXVlc3QuY29tbWFuZCwgPERlYnVnUHJvdG9jb2wuUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cywgcmVxdWVzdCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhpcy5zZW5kRXJyb3JSZXNwb25zZShyZXNwb25zZSwgMTEwNCwgJ3tfc3RhY2t9JywgeyBfZXhjZXB0aW9uOiBlLm1lc3NhZ2UsIF9zdGFjazogZS5zdGFjayB9LCBFcnJvckRlc3RpbmF0aW9uLlRlbGVtZXRyeSk7XG5cdFx0fVxuXHR9XG5cblx0cHJvdGVjdGVkIGluaXRpYWxpemVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkluaXRpYWxpemVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Jbml0aWFsaXplUmVxdWVzdEFyZ3VtZW50cyk6IHZvaWQge1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCBjb25kaXRpb25hbCBicmVha3BvaW50cy5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzQ29uZGl0aW9uYWxCcmVha3BvaW50cyA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCBoaXQgY29uZGl0aW9uYWwgYnJlYWtwb2ludHMuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0hpdENvbmRpdGlvbmFsQnJlYWtwb2ludHMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgZnVuY3Rpb24gYnJlYWtwb2ludHMuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0Z1bmN0aW9uQnJlYWtwb2ludHMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGltcGxlbWVudHMgdGhlICdjb25maWd1cmF0aW9uRG9uZScgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzQ29uZmlndXJhdGlvbkRvbmVSZXF1ZXN0ID0gdHJ1ZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgaG92ZXJzIGJhc2VkIG9uIHRoZSAnZXZhbHVhdGUnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0V2YWx1YXRlRm9ySG92ZXJzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnc3RlcEJhY2snIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1N0ZXBCYWNrID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnc2V0VmFyaWFibGUnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1NldFZhcmlhYmxlID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAncmVzdGFydEZyYW1lJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNSZXN0YXJ0RnJhbWUgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdzdGVwSW5UYXJnZXRzJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNTdGVwSW5UYXJnZXRzUmVxdWVzdCA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2dvdG9UYXJnZXRzJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNHb3RvVGFyZ2V0c1JlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdjb21wbGV0aW9ucycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzQ29tcGxldGlvbnNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAncmVzdGFydCcgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzUmVzdGFydFJlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdleGNlcHRpb25PcHRpb25zJyBhdHRyaWJ1dGUgb24gdGhlICdzZXRFeGNlcHRpb25CcmVha3BvaW50cycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzRXhjZXB0aW9uT3B0aW9ucyA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2Zvcm1hdCcgYXR0cmlidXRlIG9uIHRoZSAndmFyaWFibGVzJywgJ2V2YWx1YXRlJywgYW5kICdzdGFja1RyYWNlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNWYWx1ZUZvcm1hdHRpbmdPcHRpb25zID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2V4Y2VwdGlvbkluZm8nIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0V4Y2VwdGlvbkluZm9SZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ1Rlcm1pbmF0ZURlYnVnZ2VlJyBhdHRyaWJ1dGUgb24gdGhlICdkaXNjb25uZWN0JyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydFRlcm1pbmF0ZURlYnVnZ2VlID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCBkZWxheWVkIGxvYWRpbmcgb2Ygc3RhY2sgZnJhbWVzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNEZWxheWVkU3RhY2tUcmFjZUxvYWRpbmcgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnbG9hZGVkU291cmNlcycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzTG9hZGVkU291cmNlc1JlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnbG9nTWVzc2FnZScgYXR0cmlidXRlIG9mIHRoZSBTb3VyY2VCcmVha3BvaW50LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNMb2dQb2ludHMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAndGVybWluYXRlVGhyZWFkcycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzVGVybWluYXRlVGhyZWFkc1JlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnc2V0RXhwcmVzc2lvbicgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzU2V0RXhwcmVzc2lvbiA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICd0ZXJtaW5hdGUnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1Rlcm1pbmF0ZVJlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IGRhdGEgYnJlYWtwb2ludHMuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0RhdGFCcmVha3BvaW50cyA9IGZhbHNlO1xuXG5cdFx0LyoqIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAncmVhZE1lbW9yeScgcmVxdWVzdC4gKi9cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzUmVhZE1lbW9yeVJlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8qKiBUaGUgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnZGlzYXNzZW1ibGUnIHJlcXVlc3QuICovXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0Rpc2Fzc2VtYmxlUmVxdWVzdCA9IGZhbHNlO1xuXG5cdFx0LyoqIFRoZSBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdjYW5jZWwnIHJlcXVlc3QuICovXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NhbmNlbFJlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8qKiBUaGUgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnYnJlYWtwb2ludExvY2F0aW9ucycgcmVxdWVzdC4gKi9cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzQnJlYWtwb2ludExvY2F0aW9uc1JlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8qKiBUaGUgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnY2xpcGJvYXJkJyBjb250ZXh0IHZhbHVlIGluIHRoZSAnZXZhbHVhdGUnIHJlcXVlc3QuICovXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NsaXBib2FyZENvbnRleHQgPSBmYWxzZTtcblxuXHRcdC8qKiBUaGUgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHN0ZXBwaW5nIGdyYW51bGFyaXRpZXMgZm9yIHRoZSBzdGVwcGluZyByZXF1ZXN0cy4gKi9cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzU3RlcHBpbmdHcmFudWxhcml0eSA9IGZhbHNlO1xuXG5cdFx0LyoqIFRoZSBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdzZXRJbnN0cnVjdGlvbkJyZWFrcG9pbnRzJyByZXF1ZXN0LiAqL1xuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNJbnN0cnVjdGlvbkJyZWFrcG9pbnRzID0gZmFsc2U7XG5cblx0XHQvKiogVGhlIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCAnZmlsdGVyT3B0aW9ucycgb24gdGhlICdzZXRFeGNlcHRpb25CcmVha3BvaW50cycgcmVxdWVzdC4gKi9cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzRXhjZXB0aW9uRmlsdGVyT3B0aW9ucyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGRpc2Nvbm5lY3RSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkRpc2Nvbm5lY3RSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5EaXNjb25uZWN0QXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHRcdHRoaXMuc2h1dGRvd24oKTtcblx0fVxuXG5cdHByb3RlY3RlZCBsYXVuY2hSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkxhdW5jaFJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkxhdW5jaFJlcXVlc3RBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgYXR0YWNoUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5BdHRhY2hSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5BdHRhY2hSZXF1ZXN0QXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHRlcm1pbmF0ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuVGVybWluYXRlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuVGVybWluYXRlQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHJlc3RhcnRSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3RhcnRSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5SZXN0YXJ0QXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHNldEJyZWFrUG9pbnRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXRCcmVha3BvaW50c1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNldEJyZWFrcG9pbnRzQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHNldEZ1bmN0aW9uQnJlYWtQb2ludHNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNldEZ1bmN0aW9uQnJlYWtwb2ludHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRGdW5jdGlvbkJyZWFrcG9pbnRzQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHNldEV4Y2VwdGlvbkJyZWFrUG9pbnRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXRFeGNlcHRpb25CcmVha3BvaW50c1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNldEV4Y2VwdGlvbkJyZWFrcG9pbnRzQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbmZpZ3VyYXRpb25Eb25lUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Db25maWd1cmF0aW9uRG9uZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkNvbmZpZ3VyYXRpb25Eb25lQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnRpbnVlUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Db250aW51ZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkNvbnRpbnVlQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBuZXh0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5OZXh0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuTmV4dEFyZ3VtZW50cywgcmVxdWVzdD86IERlYnVnUHJvdG9jb2wuUmVxdWVzdCkgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RlcEluUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGVwSW5SZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TdGVwSW5Bcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0ZXBPdXRSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlN0ZXBPdXRSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TdGVwT3V0QXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGVwQmFja1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU3RlcEJhY2tSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TdGVwQmFja0FyZ3VtZW50cywgcmVxdWVzdD86IERlYnVnUHJvdG9jb2wuUmVxdWVzdCkgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgcmV2ZXJzZUNvbnRpbnVlUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXZlcnNlQ29udGludWVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5SZXZlcnNlQ29udGludWVBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHJlc3RhcnRGcmFtZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzdGFydEZyYW1lUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmVzdGFydEZyYW1lQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBnb3RvUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Hb3RvUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuR290b0FyZ3VtZW50cywgcmVxdWVzdD86IERlYnVnUHJvdG9jb2wuUmVxdWVzdCkgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgcGF1c2VSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlBhdXNlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUGF1c2VBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHNvdXJjZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU291cmNlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU291cmNlQXJndW1lbnRzLCByZXF1ZXN0PzogRGVidWdQcm90b2NvbC5SZXF1ZXN0KSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCB0aHJlYWRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5UaHJlYWRzUmVzcG9uc2UsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgdGVybWluYXRlVGhyZWFkc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuVGVybWluYXRlVGhyZWFkc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVRocmVhZHNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RhY2tUcmFjZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU3RhY2tUcmFjZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlN0YWNrVHJhY2VBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2NvcGVzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TY29wZXNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TY29wZXNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgdmFyaWFibGVzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5WYXJpYWJsZXNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5WYXJpYWJsZXNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2V0VmFyaWFibGVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNldFZhcmlhYmxlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU2V0VmFyaWFibGVBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2V0RXhwcmVzc2lvblJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0RXhwcmVzc2lvblJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNldEV4cHJlc3Npb25Bcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZXZhbHVhdGVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkV2YWx1YXRlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuRXZhbHVhdGVBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RlcEluVGFyZ2V0c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU3RlcEluVGFyZ2V0c1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlN0ZXBJblRhcmdldHNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZ290b1RhcmdldHNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkdvdG9UYXJnZXRzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuR290b1RhcmdldHNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY29tcGxldGlvbnNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkNvbXBsZXRpb25zUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuQ29tcGxldGlvbnNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZXhjZXB0aW9uSW5mb1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuRXhjZXB0aW9uSW5mb1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkV4Y2VwdGlvbkluZm9Bcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgbG9hZGVkU291cmNlc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuTG9hZGVkU291cmNlc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkxvYWRlZFNvdXJjZXNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZGF0YUJyZWFrcG9pbnRJbmZvUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5EYXRhQnJlYWtwb2ludEluZm9SZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5EYXRhQnJlYWtwb2ludEluZm9Bcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2V0RGF0YUJyZWFrcG9pbnRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXREYXRhQnJlYWtwb2ludHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXREYXRhQnJlYWtwb2ludHNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgcmVhZE1lbW9yeVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVhZE1lbW9yeVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlJlYWRNZW1vcnlBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZGlzYXNzZW1ibGVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkRpc2Fzc2VtYmxlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuRGlzYXNzZW1ibGVBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY2FuY2VsUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5DYW5jZWxSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5DYW5jZWxBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgYnJlYWtwb2ludExvY2F0aW9uc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQnJlYWtwb2ludExvY2F0aW9uc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkJyZWFrcG9pbnRMb2NhdGlvbnNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2V0SW5zdHJ1Y3Rpb25CcmVha3BvaW50c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0SW5zdHJ1Y3Rpb25CcmVha3BvaW50c1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNldEluc3RydWN0aW9uQnJlYWtwb2ludHNBcmd1bWVudHMsIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHQvKipcblx0ICogT3ZlcnJpZGUgdGhpcyBob29rIHRvIGltcGxlbWVudCBjdXN0b20gcmVxdWVzdHMuXG5cdCAqL1xuXHRwcm90ZWN0ZWQgY3VzdG9tUmVxdWVzdChjb21tYW5kOiBzdHJpbmcsIHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlLCBhcmdzOiBhbnksIHJlcXVlc3Q/OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QpOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRFcnJvclJlc3BvbnNlKHJlc3BvbnNlLCAxMDE0LCAndW5yZWNvZ25pemVkIHJlcXVlc3QnLCBudWxsLCBFcnJvckRlc3RpbmF0aW9uLlRlbGVtZXRyeSk7XG5cdH1cblxuXHQvLy0tLS0gcHJvdGVjdGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwcm90ZWN0ZWQgY29udmVydENsaWVudExpbmVUb0RlYnVnZ2VyKGxpbmU6IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyTGluZXNTdGFydEF0MSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2NsaWVudExpbmVzU3RhcnRBdDEgPyBsaW5lIDogbGluZSArIDE7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID8gbGluZSAtIDEgOiBsaW5lO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnZlcnREZWJ1Z2dlckxpbmVUb0NsaWVudChsaW5lOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdGlmICh0aGlzLl9kZWJ1Z2dlckxpbmVzU3RhcnRBdDEpIHtcblx0XHRcdHJldHVybiB0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID8gbGluZSA6IGxpbmUgLSAxO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fY2xpZW50TGluZXNTdGFydEF0MSA/IGxpbmUgKyAxIDogbGluZTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb252ZXJ0Q2xpZW50Q29sdW1uVG9EZWJ1Z2dlcihjb2x1bW46IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyQ29sdW1uc1N0YXJ0QXQxKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY2xpZW50Q29sdW1uc1N0YXJ0QXQxID8gY29sdW1uIDogY29sdW1uICsgMTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2NsaWVudENvbHVtbnNTdGFydEF0MSA/IGNvbHVtbiAtIDEgOiBjb2x1bW47XG5cdH1cblxuXHRwcm90ZWN0ZWQgY29udmVydERlYnVnZ2VyQ29sdW1uVG9DbGllbnQoY29sdW1uOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdGlmICh0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2NsaWVudENvbHVtbnNTdGFydEF0MSA/IGNvbHVtbiA6IGNvbHVtbiAtIDE7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9jbGllbnRDb2x1bW5zU3RhcnRBdDEgPyBjb2x1bW4gKyAxIDogY29sdW1uO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnZlcnRDbGllbnRQYXRoVG9EZWJ1Z2dlcihjbGllbnRQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLl9jbGllbnRQYXRoc0FyZVVSSXMgIT09IHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzKSB7XG5cdFx0XHRpZiAodGhpcy5fY2xpZW50UGF0aHNBcmVVUklzKSB7XG5cdFx0XHRcdHJldHVybiBEZWJ1Z1Nlc3Npb24udXJpMnBhdGgoY2xpZW50UGF0aCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gRGVidWdTZXNzaW9uLnBhdGgydXJpKGNsaWVudFBhdGgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2xpZW50UGF0aDtcblx0fVxuXG5cdHByb3RlY3RlZCBjb252ZXJ0RGVidWdnZXJQYXRoVG9DbGllbnQoZGVidWdnZXJQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLl9kZWJ1Z2dlclBhdGhzQXJlVVJJcyAhPT0gdGhpcy5fY2xpZW50UGF0aHNBcmVVUklzKSB7XG5cdFx0XHRpZiAodGhpcy5fZGVidWdnZXJQYXRoc0FyZVVSSXMpIHtcblx0XHRcdFx0cmV0dXJuIERlYnVnU2Vzc2lvbi51cmkycGF0aChkZWJ1Z2dlclBhdGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIERlYnVnU2Vzc2lvbi5wYXRoMnVyaShkZWJ1Z2dlclBhdGgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZGVidWdnZXJQYXRoO1xuXHR9XG5cblx0Ly8tLS0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHByaXZhdGUgc3RhdGljIHBhdGgydXJpKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cblx0XHRpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0aWYgKC9eW0EtWl06Ly50ZXN0KHBhdGgpKSB7XG5cdFx0XHRcdHBhdGggPSBwYXRoWzBdLnRvTG93ZXJDYXNlKCkgKyBwYXRoLnN1YnN0cigxKTtcblx0XHRcdH1cblx0XHRcdHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblx0XHR9XG5cdFx0cGF0aCA9IGVuY29kZVVSSShwYXRoKTtcblxuXHRcdGxldCB1cmkgPSBuZXcgVVJMKGBmaWxlOmApO1x0Ly8gaWdub3JlICdwYXRoJyBmb3Igbm93XG5cdFx0dXJpLnBhdGhuYW1lID0gcGF0aDtcdC8vIG5vdyB1c2UgJ3BhdGgnIHRvIGdldCB0aGUgY29ycmVjdCBwZXJjZW50IGVuY29kaW5nIChzZWUgaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnKVxuXHRcdHJldHVybiB1cmkudG9TdHJpbmcoKTtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIHVyaTJwYXRoKHNvdXJjZVVyaTogc3RyaW5nKTogc3RyaW5nIHtcblxuXHRcdGxldCB1cmkgPSBuZXcgVVJMKHNvdXJjZVVyaSk7XG5cdFx0bGV0IHMgPSBkZWNvZGVVUklDb21wb25lbnQodXJpLnBhdGhuYW1lKTtcblx0XHRpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0aWYgKC9eXFwvW2EtekEtWl06Ly50ZXN0KHMpKSB7XG5cdFx0XHRcdHMgPSBzWzFdLnRvTG93ZXJDYXNlKCkgKyBzLnN1YnN0cigyKTtcblx0XHRcdH1cblx0XHRcdHMgPSBzLnJlcGxhY2UoL1xcLy9nLCAnXFxcXCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gcztcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIF9mb3JtYXRQSUlSZWdleHAgPSAveyhbXn1dKyl9L2c7XG5cblx0Lypcblx0KiBJZiBhcmd1bWVudCBzdGFydHMgd2l0aCAnXycgaXQgaXMgT0sgdG8gc2VuZCBpdHMgdmFsdWUgdG8gdGVsZW1ldHJ5LlxuXHQqL1xuXHRwcml2YXRlIHN0YXRpYyBmb3JtYXRQSUkoZm9ybWF0OnN0cmluZywgZXhjbHVkZVBJSTogYm9vbGVhbiwgYXJnczoge1trZXk6IHN0cmluZ106IHN0cmluZ30pOiBzdHJpbmcge1xuXHRcdHJldHVybiBmb3JtYXQucmVwbGFjZShEZWJ1Z1Nlc3Npb24uX2Zvcm1hdFBJSVJlZ2V4cCwgZnVuY3Rpb24obWF0Y2gsIHBhcmFtTmFtZSkge1xuXHRcdFx0aWYgKGV4Y2x1ZGVQSUkgJiYgcGFyYW1OYW1lLmxlbmd0aCA+IDAgJiYgcGFyYW1OYW1lWzBdICE9PSAnXycpIHtcblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGFyZ3NbcGFyYW1OYW1lXSAmJiBhcmdzLmhhc093blByb3BlcnR5KHBhcmFtTmFtZSkgP1xuXHRcdFx0XHRhcmdzW3BhcmFtTmFtZV0gOlxuXHRcdFx0XHRtYXRjaDtcblx0XHR9KVxuXHR9XG59XG4iXX0=","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Handles = void 0;\nclass Handles {\n    constructor(startHandle) {\n        this.START_HANDLE = 1000;\n        this._handleMap = new Map();\n        this._nextHandle = typeof startHandle === 'number' ? startHandle : this.START_HANDLE;\n    }\n    reset() {\n        this._nextHandle = this.START_HANDLE;\n        this._handleMap = new Map();\n    }\n    create(value) {\n        var handle = this._nextHandle++;\n        this._handleMap.set(handle, value);\n        return handle;\n    }\n    get(handle, dflt) {\n        return this._handleMap.get(handle) || dflt;\n    }\n}\nexports.Handles = Handles;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9oYW5kbGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O2dHQUdnRzs7O0FBRWhHLE1BQWEsT0FBTztJQU9uQixZQUFtQixXQUFvQjtRQUwvQixpQkFBWSxHQUFHLElBQUksQ0FBQztRQUdwQixlQUFVLEdBQUcsSUFBSSxHQUFHLEVBQWEsQ0FBQztRQUd6QyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sV0FBVyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQ3RGLENBQUM7SUFFTSxLQUFLO1FBQ1gsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxHQUFHLEVBQWEsQ0FBQztJQUN4QyxDQUFDO0lBRU0sTUFBTSxDQUFDLEtBQVE7UUFDckIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNuQyxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFTSxHQUFHLENBQUMsTUFBYyxFQUFFLElBQVE7UUFDbEMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUM7SUFDNUMsQ0FBQztDQUNEO0FBekJELDBCQXlCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5leHBvcnQgY2xhc3MgSGFuZGxlczxUPiB7XG5cblx0cHJpdmF0ZSBTVEFSVF9IQU5ETEUgPSAxMDAwO1xuXG5cdHByaXZhdGUgX25leHRIYW5kbGUgOiBudW1iZXI7XG5cdHByaXZhdGUgX2hhbmRsZU1hcCA9IG5ldyBNYXA8bnVtYmVyLCBUPigpO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdGFydEhhbmRsZT86IG51bWJlcikge1xuXHRcdHRoaXMuX25leHRIYW5kbGUgPSB0eXBlb2Ygc3RhcnRIYW5kbGUgPT09ICdudW1iZXInID8gc3RhcnRIYW5kbGUgOiB0aGlzLlNUQVJUX0hBTkRMRTtcblx0fVxuXG5cdHB1YmxpYyByZXNldCgpOiB2b2lkIHtcblx0XHR0aGlzLl9uZXh0SGFuZGxlID0gdGhpcy5TVEFSVF9IQU5ETEU7XG5cdFx0dGhpcy5faGFuZGxlTWFwID0gbmV3IE1hcDxudW1iZXIsIFQ+KCk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKHZhbHVlOiBUKTogbnVtYmVyIHtcblx0XHR2YXIgaGFuZGxlID0gdGhpcy5fbmV4dEhhbmRsZSsrO1xuXHRcdHRoaXMuX2hhbmRsZU1hcC5zZXQoaGFuZGxlLCB2YWx1ZSk7XG5cdFx0cmV0dXJuIGhhbmRsZTtcblx0fVxuXG5cdHB1YmxpYyBnZXQoaGFuZGxlOiBudW1iZXIsIGRmbHQ/OiBUKTogVCB7XG5cdFx0cmV0dXJuIHRoaXMuX2hhbmRsZU1hcC5nZXQoaGFuZGxlKSB8fCBkZmx0O1xuXHR9XG59XG4iXX0=","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalLogger = void 0;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst mkdirp = require(\"mkdirp\");\nfunction mkdirpPromise(folder) {\n    return new Promise((resolve, reject) => {\n        mkdirp(folder, (err, made) => {\n            if (err) {\n                reject(err);\n            }\n            else {\n                resolve(made);\n            }\n        });\n    });\n}\nconst logger_1 = require(\"./logger\");\n/**\n * Manages logging, whether to console.log, file, or VS Code console.\n * Encapsulates the state specific to each logging session\n */\nclass InternalLogger {\n    constructor(logCallback, isServer) {\n        /** Dispose and allow exit to continue normally */\n        this.beforeExitCallback = () => this.dispose();\n        this._logCallback = logCallback;\n        this._logToConsole = isServer;\n        this._minLogLevel = logger_1.LogLevel.Warn;\n        this.disposeCallback = (signal, code) => {\n            this.dispose();\n            // Exit with 128 + value of the signal code.\n            // https://nodejs.org/api/process.html#process_exit_codes\n            code = code || 2; // SIGINT\n            code += 128;\n            process.exit(code);\n        };\n    }\n    setup(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._minLogLevel = options.consoleMinLogLevel;\n            this._prependTimestamp = options.prependTimestamp;\n            // Open a log file in the specified location. Overwritten on each run.\n            if (options.logFilePath) {\n                if (!path.isAbsolute(options.logFilePath)) {\n                    this.log(`logFilePath must be an absolute path: ${options.logFilePath}`, logger_1.LogLevel.Error);\n                }\n                else {\n                    const handleError = err => this.sendLog(`Error creating log file at path: ${options.logFilePath}. Error: ${err.toString()}\\n`, logger_1.LogLevel.Error);\n                    try {\n                        yield mkdirpPromise(path.dirname(options.logFilePath));\n                        this.log(`Verbose logs are written to:\\n`, logger_1.LogLevel.Warn);\n                        this.log(options.logFilePath + '\\n', logger_1.LogLevel.Warn);\n                        this._logFileStream = fs.createWriteStream(options.logFilePath);\n                        this.logDateTime();\n                        this.setupShutdownListeners();\n                        this._logFileStream.on('error', err => {\n                            handleError(err);\n                        });\n                    }\n                    catch (err) {\n                        handleError(err);\n                    }\n                }\n            }\n        });\n    }\n    logDateTime() {\n        let d = new Date();\n        let dateString = d.getUTCFullYear() + '-' + `${d.getUTCMonth() + 1}` + '-' + d.getUTCDate();\n        const timeAndDateStamp = dateString + ', ' + getFormattedTimeString();\n        this.log(timeAndDateStamp + '\\n', logger_1.LogLevel.Verbose, false);\n    }\n    setupShutdownListeners() {\n        process.addListener('beforeExit', this.beforeExitCallback);\n        process.addListener('SIGTERM', this.disposeCallback);\n        process.addListener('SIGINT', this.disposeCallback);\n    }\n    removeShutdownListeners() {\n        process.removeListener('beforeExit', this.beforeExitCallback);\n        process.removeListener('SIGTERM', this.disposeCallback);\n        process.removeListener('SIGINT', this.disposeCallback);\n    }\n    dispose() {\n        return new Promise(resolve => {\n            this.removeShutdownListeners();\n            if (this._logFileStream) {\n                this._logFileStream.end(resolve);\n                this._logFileStream = null;\n            }\n            else {\n                resolve();\n            }\n        });\n    }\n    log(msg, level, prependTimestamp = true) {\n        if (this._minLogLevel === logger_1.LogLevel.Stop) {\n            return;\n        }\n        if (level >= this._minLogLevel) {\n            this.sendLog(msg, level);\n        }\n        if (this._logToConsole) {\n            const logFn = level === logger_1.LogLevel.Error ? console.error :\n                level === logger_1.LogLevel.Warn ? console.warn :\n                    null;\n            if (logFn) {\n                logFn(logger_1.trimLastNewline(msg));\n            }\n        }\n        // If an error, prepend with '[Error]'\n        if (level === logger_1.LogLevel.Error) {\n            msg = `[${logger_1.LogLevel[level]}] ${msg}`;\n        }\n        if (this._prependTimestamp && prependTimestamp) {\n            msg = '[' + getFormattedTimeString() + '] ' + msg;\n        }\n        if (this._logFileStream) {\n            this._logFileStream.write(msg);\n        }\n    }\n    sendLog(msg, level) {\n        // Truncate long messages, they can hang VS Code\n        if (msg.length > 1500) {\n            const endsInNewline = !!msg.match(/(\\n|\\r\\n)$/);\n            msg = msg.substr(0, 1500) + '[...]';\n            if (endsInNewline) {\n                msg = msg + '\\n';\n            }\n        }\n        if (this._logCallback) {\n            const event = new logger_1.LogOutputEvent(msg, level);\n            this._logCallback(event);\n        }\n    }\n}\nexports.InternalLogger = InternalLogger;\nfunction getFormattedTimeString() {\n    let d = new Date();\n    let hourString = _padZeroes(2, String(d.getUTCHours()));\n    let minuteString = _padZeroes(2, String(d.getUTCMinutes()));\n    let secondString = _padZeroes(2, String(d.getUTCSeconds()));\n    let millisecondString = _padZeroes(3, String(d.getUTCMilliseconds()));\n    return hourString + ':' + minuteString + ':' + secondString + '.' + millisecondString + ' UTC';\n}\nfunction _padZeroes(minDesiredLength, numberToPad) {\n    if (numberToPad.length >= minDesiredLength) {\n        return numberToPad;\n    }\n    else {\n        return String('0'.repeat(minDesiredLength) + numberToPad).slice(-minDesiredLength);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJuYWxMb2dnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW50ZXJuYWxMb2dnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOzs7Ozs7Ozs7Ozs7QUFFaEcseUJBQXlCO0FBQ3pCLDZCQUE2QjtBQUM3QixpQ0FBaUM7QUFFakMsU0FBUyxhQUFhLENBQUMsTUFBYztJQUNwQyxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3RDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDNUIsSUFBSSxHQUFHLEVBQUU7Z0JBQ1IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ1o7aUJBQU07Z0JBQ04sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2Q7UUFDRixDQUFDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELHFDQUE0SDtBQUU1SDs7O0dBR0c7QUFDSCxNQUFhLGNBQWM7SUFtQjFCLFlBQVksV0FBeUIsRUFBRSxRQUFrQjtRQVR6RCxrREFBa0Q7UUFDMUMsdUJBQWtCLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBU2pELElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDO1FBRTlCLElBQUksQ0FBQyxZQUFZLEdBQUcsaUJBQVEsQ0FBQyxJQUFJLENBQUM7UUFFbEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLE1BQWMsRUFBRSxJQUFZLEVBQUUsRUFBRTtZQUN2RCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFFZiw0Q0FBNEM7WUFDNUMseURBQXlEO1lBQ3pELElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUztZQUMzQixJQUFJLElB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WUFBWSxHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsSUFBSSxZQUFZLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1RCxJQUFJLGlCQUFpQixHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RSxPQUFPLFVBQVUsR0FBRyxHQUFHLEdBQUcsWUFBWSxHQUFHLEdBQUcsR0FBRyxZQUFZLEdBQUcsR0FBRyxHQUFHLGlCQUFpQixHQUFHLE1BQU0sQ0FBQztBQUNoRyxDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsZ0JBQXdCLEVBQUUsV0FBbUI7SUFDaEUsSUFBSSxXQUFXLENBQUMsTUFBTSxJQUFJLGdCQUFnQixFQUFFO1FBQzNDLE9BQU8sV0FBVyxDQUFDO0tBQ25CO1NBQU07UUFDTixPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztLQUNuRjtBQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIG1rZGlycCBmcm9tICdta2RpcnAnO1xuXG5mdW5jdGlvbiBta2RpcnBQcm9taXNlKGZvbGRlcjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRta2RpcnAoZm9sZGVyLCAoZXJyLCBtYWRlKSA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZShtYWRlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59XG5cbmltcG9ydCB7IExvZ0xldmVsLCBJTG9nQ2FsbGJhY2ssIHRyaW1MYXN0TmV3bGluZSwgTG9nT3V0cHV0RXZlbnQsIElJbnRlcm5hbExvZ2dlck9wdGlvbnMsIElJbnRlcm5hbExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuLyoqXG4gKiBNYW5hZ2VzIGxvZ2dpbmcsIHdoZXRoZXIgdG8gY29uc29sZS5sb2csIGZpbGUsIG9yIFZTIENvZGUgY29uc29sZS5cbiAqIEVuY2Fwc3VsYXRlcyB0aGUgc3RhdGUgc3BlY2lmaWMgdG8gZWFjaCBsb2dnaW5nIHNlc3Npb25cbiAqL1xuZXhwb3J0IGNsYXNzIEludGVybmFsTG9nZ2VyIGltcGxlbWVudHMgSUludGVybmFsTG9nZ2VyIHtcblx0cHJpdmF0ZSBfbWluTG9nTGV2ZWw6IExvZ0xldmVsO1xuXHRwcml2YXRlIF9sb2dUb0NvbnNvbGU6IGJvb2xlYW47XG5cblx0LyoqIExvZyBpbmZvIHRoYXQgbWVldHMgbWluTG9nTGV2ZWwgaXMgc2VudCB0byB0aGlzIGNhbGxiYWNrLiAqL1xuXHRwcml2YXRlIF9sb2dDYWxsYmFjazogSUxvZ0NhbGxiYWNrO1xuXG5cdC8qKiBXcml0ZSBzdGVhbSBmb3IgbG9nIGZpbGUgKi9cblx0cHJpdmF0ZSBfbG9nRmlsZVN0cmVhbTogZnMuV3JpdGVTdHJlYW07XG5cblx0LyoqIERpc3Bvc2UgYW5kIGFsbG93IGV4aXQgdG8gY29udGludWUgbm9ybWFsbHkgKi9cblx0cHJpdmF0ZSBiZWZvcmVFeGl0Q2FsbGJhY2sgPSAoKSA9PiB0aGlzLmRpc3Bvc2UoKTtcblxuXHQvKiogRGlzcG9zZSBhbmQgZXhpdCAqL1xuXHRwcml2YXRlIGRpc3Bvc2VDYWxsYmFjaztcblxuXHQvKiogV2hldGhlciB0byBhZGQgYSB0aW1lc3RhbXAgdG8gbWVzc2FnZXMgaW4gdGhlIGxvZ2ZpbGUgKi9cblx0cHJpdmF0ZSBfcHJlcGVuZFRpbWVzdGFtcDogYm9vbGVhbjtcblxuXHRjb25zdHJ1Y3Rvcihsb2dDYWxsYmFjazogSUxvZ0NhbGxiYWNrLCBpc1NlcnZlcj86IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9sb2dDYWxsYmFjayA9IGxvZ0NhbGxiYWNrO1xuXHRcdHRoaXMuX2xvZ1RvQ29uc29sZSA9IGlzU2VydmVyO1xuXG5cdFx0dGhpcy5fbWluTG9nTGV2ZWwgPSBMb2dMZXZlbC5XYXJuO1xuXG5cdFx0dGhpcy5kaXNwb3NlQ2FsbGJhY2sgPSAoc2lnbmFsOiBzdHJpbmcsIGNvZGU6IG51bWJlcikgPT4ge1xuXHRcdFx0dGhpcy5kaXNwb3NlKCk7XG5cblx0XHRcdC8vIEV4aXQgd2l0aCAxMjggKyB2YWx1ZSBvZiB0aGUgc2lnbmFsIGNvZGUuXG5cdFx0XHQvLyBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzX2V4aXRfY29kZXNcblx0XHRcdGNvZGUgPSBjb2RlIHx8IDI7IC8vIFNJR0lOVFxuXHRcdFx0Y29kZSArPSAxMjg7XG5cblx0XHRcdHByb2Nlc3MuZXhpdChjb2RlKTtcblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGFzeW5jIHNldHVwKG9wdGlvbnM6IElJbnRlcm5hbExvZ2dlck9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLl9taW5Mb2dMZXZlbCA9IG9wdGlvbnMuY29uc29sZU1pbkxvZ0xldmVsO1xuXHRcdHRoaXMuX3ByZXBlbmRUaW1lc3RhbXAgPSBvcHRpb25zLnByZXBlbmRUaW1lc3RhbXA7XG5cblx0XHQvLyBPcGVuIGEgbG9nIGZpbGUgaW4gdGhlIHNwZWNpZmllZCBsb2NhdGlvbi4gT3ZlcndyaXR0ZW4gb24gZWFjaCBydW4uXG5cdFx0aWYgKG9wdGlvbnMubG9nRmlsZVBhdGgpIHtcblx0XHRcdGlmICghcGF0aC5pc0Fic29sdXRlKG9wdGlvbnMubG9nRmlsZVBhdGgpKSB7XG5cdFx0XHRcdHRoaXMubG9nKGBsb2dGaWxlUGF0aCBtdXN0IGJlIGFuIGFic29sdXRlIHBhdGg6ICR7b3B0aW9ucy5sb2dGaWxlUGF0aH1gLCBMb2dMZXZlbC5FcnJvcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBoYW5kbGVFcnJvciA9IGVyciA9PiB0aGlzLnNlbmRMb2coYEVycm9yIGNyZWF0aW5nIGxvZyBmaWxlIGF0IHBhdGg6ICR7b3B0aW9ucy5sb2dGaWxlUGF0aH0uIEVycm9yOiAke2Vyci50b1N0cmluZygpfVxcbmAsIExvZ0xldmVsLkVycm9yKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF3YWl0IG1rZGlycFByb21pc2UocGF0aC5kaXJuYW1lKG9wdGlvbnMubG9nRmlsZVBhdGgpKTtcblx0XHRcdFx0XHR0aGlzLmxvZyhgVmVyYm9zZSBsb2dzIGFyZSB3cml0dGVuIHRvOlxcbmAsIExvZ0xldmVsLldhcm4pO1xuXHRcdFx0XHRcdHRoaXMubG9nKG9wdGlvbnMubG9nRmlsZVBhdGggKyAnXFxuJywgTG9nTGV2ZWwuV2Fybik7XG5cblx0XHRcdFx0XHR0aGlzLl9sb2dGaWxlU3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0ob3B0aW9ucy5sb2dGaWxlUGF0aCk7XG5cdFx0XHRcdFx0dGhpcy5sb2dEYXRlVGltZSgpO1xuXHRcdFx0XHRcdHRoaXMuc2V0dXBTaHV0ZG93bkxpc3RlbmVycygpO1xuXHRcdFx0XHRcdHRoaXMuX2xvZ0ZpbGVTdHJlYW0ub24oJ2Vycm9yJywgZXJyID0+IHtcblx0XHRcdFx0XHRcdGhhbmRsZUVycm9yKGVycik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGhhbmRsZUVycm9yKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGxvZ0RhdGVUaW1lKCk6IHZvaWQge1xuXHRcdGxldCBkID0gbmV3IERhdGUoKTtcblx0XHRsZXQgZGF0ZVN0cmluZyA9IGQuZ2V0VVRDRnVsbFllYXIoKSArICctJyArIGAke2QuZ2V0VVRDTW9udGgoKSArIDF9YCArICctJyArIGQuZ2V0VVRDRGF0ZSgpO1xuXHRcdGNvbnN0IHRpbWVBbmREYXRlU3RhbXAgPSBkYXRlU3RyaW5nICsgJywgJyArIGdldEZvcm1hdHRlZFRpbWVTdHJpbmcoKTtcblx0XHR0aGlzLmxvZyh0aW1lQW5kRGF0ZVN0YW1wICsgJ1xcbicsIExvZ0xldmVsLlZlcmJvc2UsIGZhbHNlKTtcblx0fVxuXG5cdHByaXZhdGUgc2V0dXBTaHV0ZG93bkxpc3RlbmVycygpOiB2b2lkIHtcblx0XHRwcm9jZXNzLmFkZExpc3RlbmVyKCdiZWZvcmVFeGl0JywgdGhpcy5iZWZvcmVFeGl0Q2FsbGJhY2spO1xuXHRcdHByb2Nlc3MuYWRkTGlzdGVuZXIoJ1NJR1RFUk0nLCB0aGlzLmRpc3Bvc2VDYWxsYmFjayk7XG5cdFx0cHJvY2Vzcy5hZGRMaXN0ZW5lcignU0lHSU5UJywgdGhpcy5kaXNwb3NlQ2FsbGJhY2spO1xuXHR9XG5cblx0cHJpdmF0ZSByZW1vdmVTaHV0ZG93bkxpc3RlbmVycygpOiB2b2lkIHtcblx0XHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCdiZWZvcmVFeGl0JywgdGhpcy5iZWZvcmVFeGl0Q2FsbGJhY2spO1xuXHRcdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoJ1NJR1RFUk0nLCB0aGlzLmRpc3Bvc2VDYWxsYmFjayk7XG5cdFx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcignU0lHSU5UJywgdGhpcy5kaXNwb3NlQ2FsbGJhY2spO1xuXHR9XG5cblx0cHVibGljIGRpc3Bvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuXHRcdFx0dGhpcy5yZW1vdmVTaHV0ZG93bkxpc3RlbmVycygpO1xuXHRcdFx0aWYgKHRoaXMuX2xvZ0ZpbGVTdHJlYW0pIHtcblx0XHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbS5lbmQocmVzb2x2ZSk7XG5cdFx0XHRcdHRoaXMuX2xvZ0ZpbGVTdHJlYW0gPSBudWxsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGxvZyhtc2c6IHN0cmluZywgbGV2ZWw6IExvZ0xldmVsLCBwcmVwZW5kVGltZXN0YW1wID0gdHJ1ZSk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9taW5Mb2dMZXZlbCA9PT0gTG9nTGV2ZWwuU3RvcCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChsZXZlbCA+PSB0aGlzLl9taW5Mb2dMZXZlbCkge1xuXHRcdFx0dGhpcy5zZW5kTG9nKG1zZywgbGV2ZWwpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9sb2dUb0NvbnNvbGUpIHtcblx0XHRcdGNvbnN0IGxvZ0ZuID1cblx0XHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLkVycm9yID8gY29uc29sZS5lcnJvciA6XG5cdFx0XHRcdGxldmVsID09PSBMb2dMZXZlbC5XYXJuID8gY29uc29sZS53YXJuIDpcblx0XHRcdFx0bnVsbDtcblxuXHRcdFx0aWYgKGxvZ0ZuKSB7XG5cdFx0XHRcdGxvZ0ZuKHRyaW1MYXN0TmV3bGluZShtc2cpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiBhbiBlcnJvciwgcHJlcGVuZCB3aXRoICdbRXJyb3JdJ1xuXHRcdGlmIChsZXZlbCA9PT0gTG9nTGV2ZWwuRXJyb3IpIHtcblx0XHRcdG1zZyA9IGBbJHtMb2dMZXZlbFtsZXZlbF19XSAke21zZ31gO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9wcmVwZW5kVGltZXN0YW1wICYmIHByZXBlbmRUaW1lc3RhbXApIHtcblx0XHRcdG1zZyA9ICdbJyArIGdldEZvcm1hdHRlZFRpbWVTdHJpbmcoKSArICddICcgKyBtc2c7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2xvZ0ZpbGVTdHJlYW0pIHtcblx0XHRcdHRoaXMuX2xvZ0ZpbGVTdHJlYW0ud3JpdGUobXNnKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHNlbmRMb2cobXNnOiBzdHJpbmcsIGxldmVsOiBMb2dMZXZlbCk6IHZvaWQge1xuXHRcdC8vIFRydW5jYXRlIGxvbmcgbWVzc2FnZXMsIHRoZXkgY2FuIGhhbmcgVlMgQ29kZVxuXHRcdGlmIChtc2cubGVuZ3RoID4gMTUwMCkge1xuXHRcdFx0Y29uc3QgZW5kc0luTmV3bGluZSA9ICEhbXNnLm1hdGNoKC8oXFxufFxcclxcbikkLyk7XG5cdFx0XHRtc2cgPSBtc2cuc3Vic3RyKDAsIDE1MDApICsgJ1suLi5dJztcblx0XHRcdGlmIChlbmRzSW5OZXdsaW5lKSB7XG5cdFx0XHRcdG1zZyA9IG1zZyArICdcXG4nO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9sb2dDYWxsYmFjaykge1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBuZXcgTG9nT3V0cHV0RXZlbnQobXNnLCBsZXZlbCk7XG5cdFx0XHR0aGlzLl9sb2dDYWxsYmFjayhldmVudCk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGdldEZvcm1hdHRlZFRpbWVTdHJpbmcoKTogc3RyaW5nIHtcblx0bGV0IGQgPSBuZXcgRGF0ZSgpO1xuXHRsZXQgaG91clN0cmluZyA9IF9wYWRaZXJvZXMoMiwgU3RyaW5nKGQuZ2V0VVRDSG91cnMoKSkpO1xuXHRsZXQgbWludXRlU3RyaW5nID0gX3BhZFplcm9lcygyLCBTdHJpbmcoZC5nZXRVVENNaW51dGVzKCkpKTtcblx0bGV0IHNlY29uZFN0cmluZyA9IF9wYWRaZXJvZXMoMiwgU3RyaW5nKGQuZ2V0VVRDU2Vjb25kcygpKSk7XG5cdGxldCBtaWxsaXNlY29uZFN0cmluZyA9IF9wYWRaZXJvZXMoMywgU3RyaW5nKGQuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpKTtcblx0cmV0dXJuIGhvdXJTdHJpbmcgKyAnOicgKyBtaW51dGVTdHJpbmcgKyAnOicgKyBzZWNvbmRTdHJpbmcgKyAnLicgKyBtaWxsaXNlY29uZFN0cmluZyArICcgVVRDJztcbn1cblxuZnVuY3Rpb24gX3BhZFplcm9lcyhtaW5EZXNpcmVkTGVuZ3RoOiBudW1iZXIsIG51bWJlclRvUGFkOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRpZiAobnVtYmVyVG9QYWQubGVuZ3RoID49IG1pbkRlc2lyZWRMZW5ndGgpIHtcblx0XHRyZXR1cm4gbnVtYmVyVG9QYWQ7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIFN0cmluZygnMCcucmVwZWF0KG1pbkRlc2lyZWRMZW5ndGgpICsgbnVtYmVyVG9QYWQpLnNsaWNlKC1taW5EZXNpcmVkTGVuZ3RoKTtcblx0fVxufVxuIl19","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.trimLastNewline = exports.LogOutputEvent = exports.logger = exports.Logger = exports.LogLevel = void 0;\nconst internalLogger_1 = require(\"./internalLogger\");\nconst debugSession_1 = require(\"./debugSession\");\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\n    LogLevel[LogLevel[\"Log\"] = 1] = \"Log\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n    LogLevel[LogLevel[\"Stop\"] = 4] = \"Stop\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nclass Logger {\n    constructor() {\n        this._pendingLogQ = [];\n    }\n    log(msg, level = LogLevel.Log) {\n        msg = msg + '\\n';\n        this._write(msg, level);\n    }\n    verbose(msg) {\n        this.log(msg, LogLevel.Verbose);\n    }\n    warn(msg) {\n        this.log(msg, LogLevel.Warn);\n    }\n    error(msg) {\n        this.log(msg, LogLevel.Error);\n    }\n    dispose() {\n        if (this._currentLogger) {\n            const disposeP = this._currentLogger.dispose();\n            this._currentLogger = null;\n            return disposeP;\n        }\n        else {\n            return Promise.resolve();\n        }\n    }\n    /**\n     * `log` adds a newline, `write` doesn't\n     */\n    _write(msg, level = LogLevel.Log) {\n        // [null, undefined] => string\n        msg = msg + '';\n        if (this._pendingLogQ) {\n            this._pendingLogQ.push({ msg, level });\n        }\n        else if (this._currentLogger) {\n            this._currentLogger.log(msg, level);\n        }\n    }\n    /**\n     * Set the logger's minimum level to log in the console, and whether to log to the file. Log messages are queued before this is\n     * called the first time, because minLogLevel defaults to Warn.\n     */\n    setup(consoleMinLogLevel, _logFilePath, prependTimestamp = true) {\n        const logFilePath = typeof _logFilePath === 'string' ?\n            _logFilePath :\n            (_logFilePath && this._logFilePathFromInit);\n        if (this._currentLogger) {\n            const options = {\n                consoleMinLogLevel,\n                logFilePath,\n                prependTimestamp\n            };\n            this._currentLogger.setup(options).then(() => {\n                // Now that we have a minimum logLevel, we can clear out the queue of pending messages\n                if (this._pendingLogQ) {\n                    const logQ = this._pendingLogQ;\n                    this._pendingLogQ = null;\n                    logQ.forEach(item => this._write(item.msg, item.level));\n                }\n            });\n        }\n    }\n    init(logCallback, logFilePath, logToConsole) {\n        // Re-init, create new global Logger\n        this._pendingLogQ = this._pendingLogQ || [];\n        this._currentLogger = new internalLogger_1.InternalLogger(logCallback, logToConsole);\n        this._logFilePathFromInit = logFilePath;\n    }\n}\nexports.Logger = Logger;\nexports.logger = new Logger();\nclass LogOutputEvent extends debugSession_1.OutputEvent {\n    constructor(msg, level) {\n        const category = level === LogLevel.Error ? 'stderr' :\n            level === LogLevel.Warn ? 'console' :\n                'stdout';\n        super(msg, category);\n    }\n}\nexports.LogOutputEvent = LogOutputEvent;\nfunction trimLastNewline(str) {\n    return str.replace(/(\\n|\\r\\n)$/, '');\n}\nexports.trimLastNewline = trimLastNewline;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OzREQUU0RDs7O0FBRTVELHFEQUFrRDtBQUNsRCxpREFBNkM7QUFFN0MsSUFBWSxRQU1YO0FBTkQsV0FBWSxRQUFRO0lBQ25CLDZDQUFXLENBQUE7SUFDWCxxQ0FBTyxDQUFBO0lBQ1AsdUNBQVEsQ0FBQTtJQUNSLHlDQUFTLENBQUE7SUFDVCx1Q0FBUSxDQUFBO0FBQ1QsQ0FBQyxFQU5XLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBTW5CO0FBNEJELE1BQWEsTUFBTTtJQUFuQjtRQUlTLGlCQUFZLEdBQWUsRUFBRSxDQUFDO0lBMkV2QyxDQUFDO0lBekVBLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHO1FBQ3BDLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELElBQUksQ0FBQyxHQUFXO1FBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxLQUFLLENBQUMsR0FBVztRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELE9BQU87UUFDTixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUMvQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztZQUMzQixPQUFPLFFBQVEsQ0FBQztTQUNoQjthQUFNO1lBQ04sT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDekI7SUFDRixDQUFDO0lBRUQ7O09BRUc7SUFDSyxNQUFNLENBQUMsR0FBVyxFQUFFLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRztRQUMvQyw4QkFBOEI7UUFDOUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDdEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUN2QzthQUFNLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUMvQixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDcEM7SUFDRixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsS0FBSyxDQUFDLGtCQUE0QixFQUFFLFlBQTZCLEVBQUUsbUJBQTRCLElBQUk7UUFDbEcsTUFBTSxXQUFXLEdBQUcsT0FBTyxZQUFZLEtBQUssUUFBUSxDQUFDLENBQUM7WUFDckQsWUFBWSxDQUFDLENBQUM7WUFDZCxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUU3QyxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsTUFBTSxPQUFPLEdBQUc7Z0JBQ2Ysa0JBQWtCO2dCQUNsQixXQUFXO2dCQUNYLGdCQUFnQjthQUNoQixDQUFDO1lBQ0YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDNUMsc0ZBQXNGO2dCQUN0RixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7b0JBQ3RCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7b0JBQy9CLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO29CQUN6QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2lCQUN4RDtZQUNGLENBQUMsQ0FBQyxDQUFDO1NBRUg7SUFDRixDQUFDO0lBRUQsSUFBSSxDQUFDLFdBQXlCLEVBQUUsV0FBb0IsRUFBRSxZQUFzQjtRQUMzRSxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksK0JBQWMsQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFdBQVcsQ0FBQztJQUN6QyxDQUFDO0NBQ0Q7QUEvRUQsd0JBK0VDO0FBRVksUUFBQSxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztBQUVuQyxNQUFhLGNBQWUsU0FBUSwwQkFBVztJQUM5QyxZQUFZLEdBQVcsRUFBRSxLQUFlO1FBQ3ZDLE1BQU0sUUFBUSxHQUNiLEtBQUssS0FBSyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNyQyxLQUFLLEtBQUssUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3JDLFFBQVEsQ0FBQztRQUNWLEtBQUssQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdEIsQ0FBQztDQUNEO0FBUkQsd0NBUUM7QUFFRCxTQUFnQixlQUFlLENBQUMsR0FBVztJQUMxQyxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFGRCwwQ0FFQyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgeyBJbnRlcm5hbExvZ2dlciB9IGZyb20gJy4vaW50ZXJuYWxMb2dnZXInO1xuaW1wb3J0IHsgT3V0cHV0RXZlbnQgfSBmcm9tICcuL2RlYnVnU2Vzc2lvbic7XG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcblx0VmVyYm9zZSA9IDAsXG5cdExvZyA9IDEsXG5cdFdhcm4gPSAyLFxuXHRFcnJvciA9IDMsXG5cdFN0b3AgPSA0XG59XG5cbmV4cG9ydCB0eXBlIElMb2dDYWxsYmFjayA9IChvdXRwdXRFdmVudDogT3V0cHV0RXZlbnQpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBJTG9nSXRlbSB7XG5cdG1zZzogc3RyaW5nO1xuXHRsZXZlbDogTG9nTGV2ZWw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ2dlciB7XG5cdGxvZyhtc2c6IHN0cmluZywgbGV2ZWw/OiBMb2dMZXZlbCk6IHZvaWQ7XG5cdHZlcmJvc2UobXNnOiBzdHJpbmcpOiB2b2lkO1xuXHR3YXJuKG1zZzogc3RyaW5nKTogdm9pZDtcblx0ZXJyb3IobXNnOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElJbnRlcm5hbExvZ2dlciB7XG5cdGRpc3Bvc2UoKTogUHJvbWlzZTx2b2lkPjtcblx0bG9nKG1zZzogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwsIHByZXBlbmRUaW1lc3RhbXA/OiBib29sZWFuKSA6IHZvaWQ7XG5cdHNldHVwKG9wdGlvbnM6IElJbnRlcm5hbExvZ2dlck9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElJbnRlcm5hbExvZ2dlck9wdGlvbnMge1xuXHRjb25zb2xlTWluTG9nTGV2ZWw6IExvZ0xldmVsO1xuXHRsb2dGaWxlUGF0aD86IHN0cmluZztcblx0cHJlcGVuZFRpbWVzdGFtcD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuXHRwcml2YXRlIF9sb2dGaWxlUGF0aEZyb21Jbml0OiBzdHJpbmc7XG5cblx0cHJpdmF0ZSBfY3VycmVudExvZ2dlcjogSUludGVybmFsTG9nZ2VyO1xuXHRwcml2YXRlIF9wZW5kaW5nTG9nUTogSUxvZ0l0ZW1bXSA9IFtdO1xuXG5cdGxvZyhtc2c6IHN0cmluZywgbGV2ZWwgPSBMb2dMZXZlbC5Mb2cpOiB2b2lkIHtcblx0XHRtc2cgPSBtc2cgKyAnXFxuJztcblx0XHR0aGlzLl93cml0ZShtc2csIGxldmVsKTtcblx0fVxuXG5cdHZlcmJvc2UobXNnOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLmxvZyhtc2csIExvZ0xldmVsLlZlcmJvc2UpO1xuXHR9XG5cblx0d2Fybihtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMubG9nKG1zZywgTG9nTGV2ZWwuV2Fybik7XG5cdH1cblxuXHRlcnJvcihtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMubG9nKG1zZywgTG9nTGV2ZWwuRXJyb3IpO1xuXHR9XG5cblx0ZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAodGhpcy5fY3VycmVudExvZ2dlcikge1xuXHRcdFx0Y29uc3QgZGlzcG9zZVAgPSB0aGlzLl9jdXJyZW50TG9nZ2VyLmRpc3Bvc2UoKTtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2dnZXIgPSBudWxsO1xuXHRcdFx0cmV0dXJuIGRpc3Bvc2VQO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIGBsb2dgIGFkZHMgYSBuZXdsaW5lLCBgd3JpdGVgIGRvZXNuJ3Rcblx0ICovXG5cdHByaXZhdGUgX3dyaXRlKG1zZzogc3RyaW5nLCBsZXZlbCA9IExvZ0xldmVsLkxvZyk6IHZvaWQge1xuXHRcdC8vIFtudWxsLCB1bmRlZmluZWRdID0+IHN0cmluZ1xuXHRcdG1zZyA9IG1zZyArICcnO1xuXHRcdGlmICh0aGlzLl9wZW5kaW5nTG9nUSkge1xuXHRcdFx0dGhpcy5fcGVuZGluZ0xvZ1EucHVzaCh7IG1zZywgbGV2ZWwgfSk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9jdXJyZW50TG9nZ2VyKSB7XG5cdFx0XHR0aGlzLl9jdXJyZW50TG9nZ2VyLmxvZyhtc2csIGxldmVsKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBsb2dnZXIncyBtaW5pbXVtIGxldmVsIHRvIGxvZyBpbiB0aGUgY29uc29sZSwgYW5kIHdoZXRoZXIgdG8gbG9nIHRvIHRoZSBmaWxlLiBMb2cgbWVzc2FnZXMgYXJlIHF1ZXVlZCBiZWZvcmUgdGhpcyBpc1xuXHQgKiBjYWxsZWQgdGhlIGZpcnN0IHRpbWUsIGJlY2F1c2UgbWluTG9nTGV2ZWwgZGVmYXVsdHMgdG8gV2Fybi5cblx0ICovXG5cdHNldHVwKGNvbnNvbGVNaW5Mb2dMZXZlbDogTG9nTGV2ZWwsIF9sb2dGaWxlUGF0aD86IHN0cmluZ3xib29sZWFuLCBwcmVwZW5kVGltZXN0YW1wOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuXHRcdGNvbnN0IGxvZ0ZpbGVQYXRoID0gdHlwZW9mIF9sb2dGaWxlUGF0aCA9PT0gJ3N0cmluZycgP1xuXHRcdFx0X2xvZ0ZpbGVQYXRoIDpcblx0XHRcdChfbG9nRmlsZVBhdGggJiYgdGhpcy5fbG9nRmlsZVBhdGhGcm9tSW5pdCk7XG5cblx0XHRpZiAodGhpcy5fY3VycmVudExvZ2dlcikge1xuXHRcdFx0Y29uc3Qgb3B0aW9ucyA9IHtcblx0XHRcdFx0Y29uc29sZU1pbkxvZ0xldmVsLFxuXHRcdFx0XHRsb2dGaWxlUGF0aCxcblx0XHRcdFx0cHJlcGVuZFRpbWVzdGFtcFxuXHRcdFx0fTtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2dnZXIuc2V0dXAob3B0aW9ucykudGhlbigoKSA9PiB7XG5cdFx0XHRcdC8vIE5vdyB0aGF0IHdlIGhhdmUgYSBtaW5pbXVtIGxvZ0xldmVsLCB3ZSBjYW4gY2xlYXIgb3V0IHRoZSBxdWV1ZSBvZiBwZW5kaW5nIG1lc3NhZ2VzXG5cdFx0XHRcdGlmICh0aGlzLl9wZW5kaW5nTG9nUSkge1xuXHRcdFx0XHRcdGNvbnN0IGxvZ1EgPSB0aGlzLl9wZW5kaW5nTG9nUTtcblx0XHRcdFx0XHR0aGlzLl9wZW5kaW5nTG9nUSA9IG51bGw7XG5cdFx0XHRcdFx0bG9nUS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fd3JpdGUoaXRlbS5tc2csIGl0ZW0ubGV2ZWwpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR9XG5cdH1cblxuXHRpbml0KGxvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2ssIGxvZ0ZpbGVQYXRoPzogc3RyaW5nLCBsb2dUb0NvbnNvbGU/OiBib29sZWFuKTogdm9pZCB7XG5cdFx0Ly8gUmUtaW5pdCwgY3JlYXRlIG5ldyBnbG9iYWwgTG9nZ2VyXG5cdFx0dGhpcy5fcGVuZGluZ0xvZ1EgPSB0aGlzLl9wZW5kaW5nTG9nUSB8fCBbXTtcblx0XHR0aGlzLl9jdXJyZW50TG9nZ2VyID0gbmV3IEludGVybmFsTG9nZ2VyKGxvZ0NhbGxiYWNrLCBsb2dUb0NvbnNvbGUpO1xuXHRcdHRoaXMuX2xvZ0ZpbGVQYXRoRnJvbUluaXQgPSBsb2dGaWxlUGF0aDtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5leHBvcnQgY2xhc3MgTG9nT3V0cHV0RXZlbnQgZXh0ZW5kcyBPdXRwdXRFdmVudCB7XG5cdGNvbnN0cnVjdG9yKG1zZzogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwpIHtcblx0XHRjb25zdCBjYXRlZ29yeSA9XG5cdFx0XHRsZXZlbCA9PT0gTG9nTGV2ZWwuRXJyb3IgPyAnc3RkZXJyJyA6XG5cdFx0XHRsZXZlbCA9PT0gTG9nTGV2ZWwuV2FybiA/ICdjb25zb2xlJyA6XG5cdFx0XHQnc3Rkb3V0Jztcblx0XHRzdXBlcihtc2csIGNhdGVnb3J5KTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJpbUxhc3ROZXdsaW5lKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC8oXFxufFxcclxcbikkLywgJycpO1xufVxuXG5cbiJdfQ==","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoggingDebugSession = void 0;\nconst Logger = require(\"./logger\");\nconst logger = Logger.logger;\nconst debugSession_1 = require(\"./debugSession\");\nclass LoggingDebugSession extends debugSession_1.DebugSession {\n    constructor(obsolete_logFilePath, obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer) {\n        super(obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer);\n        this.obsolete_logFilePath = obsolete_logFilePath;\n        this.on('error', (event) => {\n            logger.error(event.body);\n        });\n    }\n    start(inStream, outStream) {\n        super.start(inStream, outStream);\n        logger.init(e => this.sendEvent(e), this.obsolete_logFilePath, this._isServer);\n    }\n    /**\n     * Overload sendEvent to log\n     */\n    sendEvent(event) {\n        if (!(event instanceof Logger.LogOutputEvent)) {\n            // Don't create an infinite loop...\n            let objectToLog = event;\n            if (event instanceof debugSession_1.OutputEvent && event.body && event.body.data && event.body.data.doNotLogOutput) {\n                delete event.body.data.doNotLogOutput;\n                objectToLog = Object.assign({}, event);\n                objectToLog.body = Object.assign(Object.assign({}, event.body), { output: '<output not logged>' });\n            }\n            logger.verbose(`To client: ${JSON.stringify(objectToLog)}`);\n        }\n        super.sendEvent(event);\n    }\n    /**\n     * Overload sendRequest to log\n     */\n    sendRequest(command, args, timeout, cb) {\n        logger.verbose(`To client: ${JSON.stringify(command)}(${JSON.stringify(args)}), timeout: ${timeout}`);\n        super.sendRequest(command, args, timeout, cb);\n    }\n    /**\n     * Overload sendResponse to log\n     */\n    sendResponse(response) {\n        logger.verbose(`To client: ${JSON.stringify(response)}`);\n        super.sendResponse(response);\n    }\n    dispatchRequest(request) {\n        logger.verbose(`From client: ${request.command}(${JSON.stringify(request.arguments)})`);\n        super.dispatchRequest(request);\n    }\n}\nexports.LoggingDebugSession = LoggingDebugSession;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2luZ0RlYnVnU2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dnaW5nRGVidWdTZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O2dHQUdnRzs7O0FBSWhHLG1DQUFtQztBQUNuQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQzdCLGlEQUF5RDtBQUV6RCxNQUFhLG1CQUFvQixTQUFRLDJCQUFZO0lBQ3BELFlBQTJCLG9CQUE2QixFQUFFLHdDQUFrRCxFQUFFLGlCQUEyQjtRQUN4SSxLQUFLLENBQUMsd0NBQXdDLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUR6Qyx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQVM7UUFHdkQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUEwQixFQUFFLEVBQUU7WUFDL0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRU0sS0FBSyxDQUFDLFFBQStCLEVBQUUsU0FBZ0M7UUFDN0UsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNoRixDQUFDO0lBRUQ7O09BRUc7SUFDSSxTQUFTLENBQUMsS0FBMEI7UUFDMUMsSUFBSSxDQUFDLENBQUMsS0FBSyxZQUFZLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUM5QyxtQ0FBbUM7WUFFbkMsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO1lBQ3hCLElBQUksS0FBSyxZQUFZLDBCQUFXLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQ3BHLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO2dCQUN0QyxXQUFXLHFCQUFRLEtBQUssQ0FBRSxDQUFDO2dCQUMzQixXQUFXLENBQUMsSUFBSSxtQ0FBUSxLQUFLLENBQUMsSUFBSSxLQUFFLE1BQU0sRUFBRSxxQkFBcUIsR0FBRSxDQUFBO2FBQ25FO1lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzVEO1FBRUQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRUQ7O09BRUc7SUFDSSxXQUFXLENBQUMsT0FBZSxFQUFFLElBQVMsRUFBRSxPQUFlLEVBQUUsRUFBOEM7UUFDN0csTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsZUFBZSxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3RHLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVEOztPQUVHO0lBQ0ksWUFBWSxDQUFDLFFBQWdDO1FBQ25ELE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6RCxLQUFLLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFUyxlQUFlLENBQUMsT0FBOEI7UUFDdkQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsT0FBTyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUUsR0FBRyxDQUFDLENBQUM7UUFDekYsS0FBSyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNoQyxDQUFDO0NBQ0Q7QUF0REQsa0RBc0RDIiwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7RGVidWdQcm90b2NvbH0gZnJvbSAndnNjb2RlLWRlYnVncHJvdG9jb2wnO1xuXG5pbXBvcnQgKiBhcyBMb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmxvZ2dlcjtcbmltcG9ydCB7RGVidWdTZXNzaW9uLCBPdXRwdXRFdmVudH0gZnJvbSAnLi9kZWJ1Z1Nlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgTG9nZ2luZ0RlYnVnU2Vzc2lvbiBleHRlbmRzIERlYnVnU2Vzc2lvbiB7XG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIG9ic29sZXRlX2xvZ0ZpbGVQYXRoPzogc3RyaW5nLCBvYnNvbGV0ZV9kZWJ1Z2dlckxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxPzogYm9vbGVhbiwgb2Jzb2xldGVfaXNTZXJ2ZXI/OiBib29sZWFuKSB7XG5cdFx0c3VwZXIob2Jzb2xldGVfZGVidWdnZXJMaW5lc0FuZENvbHVtbnNTdGFydEF0MSwgb2Jzb2xldGVfaXNTZXJ2ZXIpO1xuXG5cdFx0dGhpcy5vbignZXJyb3InLCAoZXZlbnQ6IERlYnVnUHJvdG9jb2wuRXZlbnQpID0+IHtcblx0XHRcdGxvZ2dlci5lcnJvcihldmVudC5ib2R5KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGFydChpblN0cmVhbTogTm9kZUpTLlJlYWRhYmxlU3RyZWFtLCBvdXRTdHJlYW06IE5vZGVKUy5Xcml0YWJsZVN0cmVhbSk6IHZvaWQge1xuXHRcdHN1cGVyLnN0YXJ0KGluU3RyZWFtLCBvdXRTdHJlYW0pO1xuXHRcdGxvZ2dlci5pbml0KGUgPT4gdGhpcy5zZW5kRXZlbnQoZSksIHRoaXMub2Jzb2xldGVfbG9nRmlsZVBhdGgsIHRoaXMuX2lzU2VydmVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPdmVybG9hZCBzZW5kRXZlbnQgdG8gbG9nXG5cdCAqL1xuXHRwdWJsaWMgc2VuZEV2ZW50KGV2ZW50OiBEZWJ1Z1Byb3RvY29sLkV2ZW50KTogdm9pZCB7XG5cdFx0aWYgKCEoZXZlbnQgaW5zdGFuY2VvZiBMb2dnZXIuTG9nT3V0cHV0RXZlbnQpKSB7XG5cdFx0XHQvLyBEb24ndCBjcmVhdGUgYW4gaW5maW5pdGUgbG9vcC4uLlxuXG5cdFx0XHRsZXQgb2JqZWN0VG9Mb2cgPSBldmVudDtcblx0XHRcdGlmIChldmVudCBpbnN0YW5jZW9mIE91dHB1dEV2ZW50ICYmIGV2ZW50LmJvZHkgJiYgZXZlbnQuYm9keS5kYXRhICYmIGV2ZW50LmJvZHkuZGF0YS5kb05vdExvZ091dHB1dCkge1xuXHRcdFx0XHRkZWxldGUgZXZlbnQuYm9keS5kYXRhLmRvTm90TG9nT3V0cHV0O1xuXHRcdFx0XHRvYmplY3RUb0xvZyA9IHsgLi4uZXZlbnQgfTtcblx0XHRcdFx0b2JqZWN0VG9Mb2cuYm9keSA9IHsgLi4uZXZlbnQuYm9keSwgb3V0cHV0OiAnPG91dHB1dCBub3QgbG9nZ2VkPicgfVxuXHRcdFx0fVxuXG5cdFx0XHRsb2dnZXIudmVyYm9zZShgVG8gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KG9iamVjdFRvTG9nKX1gKTtcblx0XHR9XG5cblx0XHRzdXBlci5zZW5kRXZlbnQoZXZlbnQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE92ZXJsb2FkIHNlbmRSZXF1ZXN0IHRvIGxvZ1xuXHQgKi9cblx0cHVibGljIHNlbmRSZXF1ZXN0KGNvbW1hbmQ6IHN0cmluZywgYXJnczogYW55LCB0aW1lb3V0OiBudW1iZXIsIGNiOiAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHtcblx0XHRsb2dnZXIudmVyYm9zZShgVG8gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KGNvbW1hbmQpfSgke0pTT04uc3RyaW5naWZ5KGFyZ3MpfSksIHRpbWVvdXQ6ICR7dGltZW91dH1gKTtcblx0XHRzdXBlci5zZW5kUmVxdWVzdChjb21tYW5kLCBhcmdzLCB0aW1lb3V0LCBjYik7XG5cdH1cblxuXHQvKipcblx0ICogT3ZlcmxvYWQgc2VuZFJlc3BvbnNlIHRvIGxvZ1xuXHQgKi9cblx0cHVibGljIHNlbmRSZXNwb25zZShyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXNwb25zZSk6IHZvaWQge1xuXHRcdGxvZ2dlci52ZXJib3NlKGBUbyBjbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpfWApO1xuXHRcdHN1cGVyLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCk6IHZvaWQge1xuXHRcdGxvZ2dlci52ZXJib3NlKGBGcm9tIGNsaWVudDogJHtyZXF1ZXN0LmNvbW1hbmR9KCR7SlNPTi5zdHJpbmdpZnkocmVxdWVzdC5hcmd1bWVudHMpIH0pYCk7XG5cdFx0c3VwZXIuZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3QpO1xuXHR9XG59XG4iXX0=","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Handles = exports.Response = exports.Event = exports.ErrorDestination = exports.CompletionItem = exports.Module = exports.Source = exports.Breakpoint = exports.Variable = exports.Scope = exports.StackFrame = exports.Thread = exports.InvalidatedEvent = exports.ProgressEndEvent = exports.ProgressUpdateEvent = exports.ProgressStartEvent = exports.CapabilitiesEvent = exports.LoadedSourceEvent = exports.ModuleEvent = exports.BreakpointEvent = exports.ThreadEvent = exports.OutputEvent = exports.ContinuedEvent = exports.StoppedEvent = exports.TerminatedEvent = exports.InitializedEvent = exports.logger = exports.Logger = exports.LoggingDebugSession = exports.DebugSession = void 0;\nconst debugSession_1 = require(\"./debugSession\");\nObject.defineProperty(exports, \"DebugSession\", { enumerable: true, get: function () { return debugSession_1.DebugSession; } });\nObject.defineProperty(exports, \"InitializedEvent\", { enumerable: true, get: function () { return debugSession_1.InitializedEvent; } });\nObject.defineProperty(exports, \"TerminatedEvent\", { enumerable: true, get: function () { return debugSession_1.TerminatedEvent; } });\nObject.defineProperty(exports, \"StoppedEvent\", { enumerable: true, get: function () { return debugSession_1.StoppedEvent; } });\nObject.defineProperty(exports, \"ContinuedEvent\", { enumerable: true, get: function () { return debugSession_1.ContinuedEvent; } });\nObject.defineProperty(exports, \"OutputEvent\", { enumerable: true, get: function () { return debugSession_1.OutputEvent; } });\nObject.defineProperty(exports, \"ThreadEvent\", { enumerable: true, get: function () { return debugSession_1.ThreadEvent; } });\nObject.defineProperty(exports, \"BreakpointEvent\", { enumerable: true, get: function () { return debugSession_1.BreakpointEvent; } });\nObject.defineProperty(exports, \"ModuleEvent\", { enumerable: true, get: function () { return debugSession_1.ModuleEvent; } });\nObject.defineProperty(exports, \"LoadedSourceEvent\", { enumerable: true, get: function () { return debugSession_1.LoadedSourceEvent; } });\nObject.defineProperty(exports, \"CapabilitiesEvent\", { enumerable: true, get: function () { return debugSession_1.CapabilitiesEvent; } });\nObject.defineProperty(exports, \"ProgressStartEvent\", { enumerable: true, get: function () { return debugSession_1.ProgressStartEvent; } });\nObject.defineProperty(exports, \"ProgressUpdateEvent\", { enumerable: true, get: function () { return debugSession_1.ProgressUpdateEvent; } });\nObject.defineProperty(exports, \"ProgressEndEvent\", { enumerable: true, get: function () { return debugSession_1.ProgressEndEvent; } });\nObject.defineProperty(exports, \"InvalidatedEvent\", { enumerable: true, get: function () { return debugSession_1.InvalidatedEvent; } });\nObject.defineProperty(exports, \"Thread\", { enumerable: true, get: function () { return debugSession_1.Thread; } });\nObject.defineProperty(exports, \"StackFrame\", { enumerable: true, get: function () { return debugSession_1.StackFrame; } });\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return debugSession_1.Scope; } });\nObject.defineProperty(exports, \"Variable\", { enumerable: true, get: function () { return debugSession_1.Variable; } });\nObject.defineProperty(exports, \"Breakpoint\", { enumerable: true, get: function () { return debugSession_1.Breakpoint; } });\nObject.defineProperty(exports, \"Source\", { enumerable: true, get: function () { return debugSession_1.Source; } });\nObject.defineProperty(exports, \"Module\", { enumerable: true, get: function () { return debugSession_1.Module; } });\nObject.defineProperty(exports, \"CompletionItem\", { enumerable: true, get: function () { return debugSession_1.CompletionItem; } });\nObject.defineProperty(exports, \"ErrorDestination\", { enumerable: true, get: function () { return debugSession_1.ErrorDestination; } });\nconst loggingDebugSession_1 = require(\"./loggingDebugSession\");\nObject.defineProperty(exports, \"LoggingDebugSession\", { enumerable: true, get: function () { return loggingDebugSession_1.LoggingDebugSession; } });\nconst Logger = require(\"./logger\");\nexports.Logger = Logger;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return messages_1.Event; } });\nObject.defineProperty(exports, \"Response\", { enumerable: true, get: function () { return messages_1.Response; } });\nconst handles_1 = require(\"./handles\");\nObject.defineProperty(exports, \"Handles\", { enumerable: true, get: function () { return handles_1.Handles; } });\nconst logger = Logger.logger;\nexports.logger = logger;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Z0dBR2dHO0FBQ2hHLFlBQVksQ0FBQzs7O0FBRWIsaURBT3dCO0FBU3ZCLDZGQWZBLDJCQUFZLE9BZUE7QUFJWixpR0FsQkEsK0JBQWdCLE9Ba0JBO0FBQUUsZ0dBbEJBLDhCQUFlLE9Ba0JBO0FBQUUsNkZBbEJBLDJCQUFZLE9Ba0JBO0FBQUUsK0ZBbEJBLDZCQUFjLE9Ba0JBO0FBQUUsNEZBbEJBLDBCQUFXLE9Ba0JBO0FBQUUsNEZBbEJBLDBCQUFXLE9Ba0JBO0FBQUUsZ0dBbEJBLDhCQUFlLE9Ba0JBO0FBQUUsNEZBbEJBLDBCQUFXLE9Ba0JBO0FBQ3RILGtHQWxCQSxnQ0FBaUIsT0FrQkE7QUFBRSxrR0FsQkEsZ0NBQWlCLE9Ba0JBO0FBQUUsbUdBbEJBLGlDQUFrQixPQWtCQTtBQUFFLG9HQWxCQSxrQ0FBbUIsT0FrQkE7QUFBRSxpR0FsQkEsK0JBQWdCLE9Ba0JBO0FBQUUsaUdBbEJBLCtCQUFnQixPQWtCQTtBQUNsSCx1RkFsQkEscUJBQU0sT0FrQkE7QUFBRSwyRkFsQkEseUJBQVUsT0FrQkE7QUFBRSxzRkFsQkEsb0JBQUssT0FrQkE7QUFBRSx5RkFsQkEsdUJBQVEsT0FrQkE7QUFDbkMsMkZBbEJBLHlCQUFVLE9Ba0JBO0FBQUUsdUZBbEJBLHFCQUFNLE9Ba0JBO0FBQUUsdUZBbEJBLHFCQUFNLE9Ba0JBO0FBQUUsK0ZBbEJBLDZCQUFjLE9Ba0JBO0FBQzFDLGlHQWxCQSwrQkFBZ0IsT0FrQkE7QUFoQmpCLCtEQUEwRDtBQVN6RCxvR0FUTyx5Q0FBbUIsT0FTUDtBQVJwQixtQ0FBbUM7QUFTbEMsd0JBQU07QUFSUCx5Q0FBNkM7QUFlNUMsc0ZBZlEsZ0JBQUssT0FlUjtBQUFFLHlGQWZRLG1CQUFRLE9BZVI7QUFkaEIsdUNBQW9DO0FBZW5DLHdGQWZRLGlCQUFPLE9BZVI7QUFiUixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBTTVCLHdCQUFNIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1xuXHREZWJ1Z1Nlc3Npb24sXG5cdEluaXRpYWxpemVkRXZlbnQsIFRlcm1pbmF0ZWRFdmVudCwgU3RvcHBlZEV2ZW50LCBDb250aW51ZWRFdmVudCwgT3V0cHV0RXZlbnQsIFRocmVhZEV2ZW50LCBCcmVha3BvaW50RXZlbnQsIE1vZHVsZUV2ZW50LFxuXHRcdExvYWRlZFNvdXJjZUV2ZW50LCBDYXBhYmlsaXRpZXNFdmVudCwgUHJvZ3Jlc3NTdGFydEV2ZW50LCBQcm9ncmVzc1VwZGF0ZUV2ZW50LCBQcm9ncmVzc0VuZEV2ZW50LCBJbnZhbGlkYXRlZEV2ZW50LFxuXHRUaHJlYWQsIFN0YWNrRnJhbWUsIFNjb3BlLCBWYXJpYWJsZSxcblx0QnJlYWtwb2ludCwgU291cmNlLCBNb2R1bGUsIENvbXBsZXRpb25JdGVtLFxuXHRFcnJvckRlc3RpbmF0aW9uXG59IGZyb20gJy4vZGVidWdTZXNzaW9uJztcbmltcG9ydCB7TG9nZ2luZ0RlYnVnU2Vzc2lvbn0gZnJvbSAnLi9sb2dnaW5nRGVidWdTZXNzaW9uJztcbmltcG9ydCAqIGFzIExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBFdmVudCwgUmVzcG9uc2UgfSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCB7IEhhbmRsZXMgfSBmcm9tICcuL2hhbmRsZXMnO1xuXG5jb25zdCBsb2dnZXIgPSBMb2dnZXIubG9nZ2VyO1xuXG5leHBvcnQge1xuXHREZWJ1Z1Nlc3Npb24sXG5cdExvZ2dpbmdEZWJ1Z1Nlc3Npb24sXG5cdExvZ2dlcixcblx0bG9nZ2VyLFxuXHRJbml0aWFsaXplZEV2ZW50LCBUZXJtaW5hdGVkRXZlbnQsIFN0b3BwZWRFdmVudCwgQ29udGludWVkRXZlbnQsIE91dHB1dEV2ZW50LCBUaHJlYWRFdmVudCwgQnJlYWtwb2ludEV2ZW50LCBNb2R1bGVFdmVudCxcblx0XHRMb2FkZWRTb3VyY2VFdmVudCwgQ2FwYWJpbGl0aWVzRXZlbnQsIFByb2dyZXNzU3RhcnRFdmVudCwgUHJvZ3Jlc3NVcGRhdGVFdmVudCwgUHJvZ3Jlc3NFbmRFdmVudCwgSW52YWxpZGF0ZWRFdmVudCxcblx0VGhyZWFkLCBTdGFja0ZyYW1lLCBTY29wZSwgVmFyaWFibGUsXG5cdEJyZWFrcG9pbnQsIFNvdXJjZSwgTW9kdWxlLCBDb21wbGV0aW9uSXRlbSxcblx0RXJyb3JEZXN0aW5hdGlvbixcblx0RXZlbnQsIFJlc3BvbnNlLFxuXHRIYW5kbGVzXG59XG4iXX0=","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Event = exports.Response = exports.Message = void 0;\nclass Message {\n    constructor(type) {\n        this.seq = 0;\n        this.type = type;\n    }\n}\nexports.Message = Message;\nclass Response extends Message {\n    constructor(request, message) {\n        super('response');\n        this.request_seq = request.seq;\n        this.command = request.command;\n        if (message) {\n            this.success = false;\n            this.message = message;\n        }\n        else {\n            this.success = true;\n        }\n    }\n}\nexports.Response = Response;\nclass Event extends Message {\n    constructor(event, body) {\n        super('event');\n        this.event = event;\n        if (body) {\n            this.body = body;\n        }\n    }\n}\nexports.Event = Event;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOzs7QUFLaEcsTUFBYSxPQUFPO0lBSW5CLFlBQW1CLElBQVk7UUFDOUIsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDYixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0NBQ0Q7QUFSRCwwQkFRQztBQUVELE1BQWEsUUFBUyxTQUFRLE9BQU87SUFLcEMsWUFBbUIsT0FBOEIsRUFBRSxPQUFnQjtRQUNsRSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztRQUMvQixJQUFJLE9BQU8sRUFBRTtZQUNaLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQ2YsSUFBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7U0FDOUI7YUFBTTtZQUNOLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1NBQ3BCO0lBQ0YsQ0FBQztDQUNEO0FBaEJELDRCQWdCQztBQUVELE1BQWEsS0FBTSxTQUFRLE9BQU87SUFHakMsWUFBbUIsS0FBYSxFQUFFLElBQVU7UUFDM0MsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxJQUFJLEVBQUU7WUFDSCxJQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUN4QjtJQUNGLENBQUM7Q0FDRDtBQVZELHNCQVVDIiwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7IERlYnVnUHJvdG9jb2wgfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5cblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2UgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlByb3RvY29sTWVzc2FnZSB7XG5cdHNlcTogbnVtYmVyO1xuXHR0eXBlOiBzdHJpbmc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZykge1xuXHRcdHRoaXMuc2VxID0gMDtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNwb25zZSBleHRlbmRzIE1lc3NhZ2UgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlIHtcblx0cmVxdWVzdF9zZXE6IG51bWJlcjtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0Y29tbWFuZDogc3RyaW5nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihyZXF1ZXN0OiBEZWJ1Z1Byb3RvY29sLlJlcXVlc3QsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcblx0XHRzdXBlcigncmVzcG9uc2UnKTtcblx0XHR0aGlzLnJlcXVlc3Rfc2VxID0gcmVxdWVzdC5zZXE7XG5cdFx0dGhpcy5jb21tYW5kID0gcmVxdWVzdC5jb21tYW5kO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcblx0XHRcdCg8YW55PnRoaXMpLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN1Y2Nlc3MgPSB0cnVlO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnQgZXh0ZW5kcyBNZXNzYWdlIGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5FdmVudCB7XG5cdGV2ZW50OiBzdHJpbmc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGV2ZW50OiBzdHJpbmcsIGJvZHk/OiBhbnkpIHtcblx0XHRzdXBlcignZXZlbnQnKTtcblx0XHR0aGlzLmV2ZW50ID0gZXZlbnQ7XG5cdFx0aWYgKGJvZHkpIHtcblx0XHRcdCg8YW55PnRoaXMpLmJvZHkgPSBib2R5O1xuXHRcdH1cblx0fVxufVxuIl19","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolServer = void 0;\nconst ee = require(\"events\");\nconst messages_1 = require(\"./messages\");\nclass Disposable0 {\n    dispose() {\n    }\n}\nclass Emitter {\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArg) => {\n                this._listener = listener;\n                this._this = thisArg;\n                let result;\n                result = {\n                    dispose: () => {\n                        this._listener = undefined;\n                        this._this = undefined;\n                    }\n                };\n                return result;\n            };\n        }\n        return this._event;\n    }\n    fire(event) {\n        if (this._listener) {\n            try {\n                this._listener.call(this._this, event);\n            }\n            catch (e) {\n            }\n        }\n    }\n    hasListener() {\n        return !!this._listener;\n    }\n    dispose() {\n        this._listener = undefined;\n        this._this = undefined;\n    }\n}\nclass ProtocolServer extends ee.EventEmitter {\n    constructor() {\n        super();\n        this._sendMessage = new Emitter();\n        this._pendingRequests = new Map();\n        this.onDidSendMessage = this._sendMessage.event;\n    }\n    // ---- implements vscode.Debugadapter interface ---------------------------\n    dispose() {\n    }\n    handleMessage(msg) {\n        if (msg.type === 'request') {\n            this.dispatchRequest(msg);\n        }\n        else if (msg.type === 'response') {\n            const response = msg;\n            const clb = this._pendingRequests.get(response.request_seq);\n            if (clb) {\n                this._pendingRequests.delete(response.request_seq);\n                clb(response);\n            }\n        }\n    }\n    _isRunningInline() {\n        return this._sendMessage && this._sendMessage.hasListener();\n    }\n    //--------------------------------------------------------------------------\n    start(inStream, outStream) {\n        this._sequence = 1;\n        this._writableStream = outStream;\n        this._rawData = new Buffer(0);\n        inStream.on('data', (data) => this._handleData(data));\n        inStream.on('close', () => {\n            this._emitEvent(new messages_1.Event('close'));\n        });\n        inStream.on('error', (error) => {\n            this._emitEvent(new messages_1.Event('error', 'inStream error: ' + (error && error.message)));\n        });\n        outStream.on('error', (error) => {\n            this._emitEvent(new messages_1.Event('error', 'outStream error: ' + (error && error.message)));\n        });\n        inStream.resume();\n    }\n    stop() {\n        if (this._writableStream) {\n            this._writableStream.end();\n        }\n    }\n    sendEvent(event) {\n        this._send('event', event);\n    }\n    sendResponse(response) {\n        if (response.seq > 0) {\n            console.error(`attempt to send more than one response for command ${response.command}`);\n        }\n        else {\n            this._send('response', response);\n        }\n    }\n    sendRequest(command, args, timeout, cb) {\n        const request = {\n            command: command\n        };\n        if (args && Object.keys(args).length > 0) {\n            request.arguments = args;\n        }\n        this._send('request', request);\n        if (cb) {\n            this._pendingRequests.set(request.seq, cb);\n            const timer = setTimeout(() => {\n                clearTimeout(timer);\n                const clb = this._pendingRequests.get(request.seq);\n                if (clb) {\n                    this._pendingRequests.delete(request.seq);\n                    clb(new messages_1.Response(request, 'timeout'));\n                }\n            }, timeout);\n        }\n    }\n    // ---- protected ----------------------------------------------------------\n    dispatchRequest(request) {\n    }\n    // ---- private ------------------------------------------------------------\n    _emitEvent(event) {\n        this.emit(event.event, event);\n    }\n    _send(typ, message) {\n        message.type = typ;\n        message.seq = this._sequence++;\n        if (this._writableStream) {\n            const json = JSON.stringify(message);\n            this._writableStream.write(`Content-Length: ${Buffer.byteLength(json, 'utf8')}\\r\\n\\r\\n${json}`, 'utf8');\n        }\n        this._sendMessage.fire(message);\n    }\n    _handleData(data) {\n        this._rawData = Buffer.concat([this._rawData, data]);\n        while (true) {\n            if (this._contentLength >= 0) {\n                if (this._rawData.length >= this._contentLength) {\n                    const message = this._rawData.toString('utf8', 0, this._contentLength);\n                    this._rawData = this._rawData.slice(this._contentLength);\n                    this._contentLength = -1;\n                    if (message.length > 0) {\n                        try {\n                            let msg = JSON.parse(message);\n                            this.handleMessage(msg);\n                        }\n                        catch (e) {\n                            this._emitEvent(new messages_1.Event('error', 'Error handling data: ' + (e && e.message)));\n                        }\n                    }\n                    continue; // there may be more complete messages to process\n                }\n            }\n            else {\n                const idx = this._rawData.indexOf(ProtocolServer.TWO_CRLF);\n                if (idx !== -1) {\n                    const header = this._rawData.toString('utf8', 0, idx);\n                    const lines = header.split('\\r\\n');\n                    for (let i = 0; i < lines.length; i++) {\n                        const pair = lines[i].split(/: +/);\n                        if (pair[0] == 'Content-Length') {\n                            this._contentLength = +pair[1];\n                        }\n                    }\n                    this._rawData = this._rawData.slice(idx + ProtocolServer.TWO_CRLF.length);\n                    continue;\n                }\n            }\n            break;\n        }\n    }\n}\nexports.ProtocolServer = ProtocolServer;\nProtocolServer.TWO_CRLF = '\\r\\n\\r\\n';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2wuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcHJvdG9jb2wudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOzs7QUFFaEcsNkJBQTZCO0FBRTdCLHlDQUE2QztBQVM3QyxNQUFNLFdBQVc7SUFDaEIsT0FBTztJQUNQLENBQUM7Q0FDRDtBQU1ELE1BQU0sT0FBTztJQU1aLElBQUksS0FBSztRQUNSLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxRQUF1QixFQUFFLE9BQWEsRUFBRSxFQUFFO2dCQUV4RCxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7Z0JBRXJCLElBQUksTUFBbUIsQ0FBQztnQkFDeEIsTUFBTSxHQUFHO29CQUNSLE9BQU8sRUFBRSxHQUFHLEVBQUU7d0JBQ2IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7d0JBQzNCLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO29CQUN4QixDQUFDO2lCQUNELENBQUM7Z0JBQ0YsT0FBTyxNQUFNLENBQUM7WUFDZixDQUFDLENBQUM7U0FDRjtRQUNELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBSSxDQUFDLEtBQVE7UUFDWixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbkIsSUFBSTtnQkFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ3ZDO1lBQUMsT0FBTyxDQUFDLEVBQUU7YUFDWDtTQUNEO0lBQ0YsQ0FBQztJQUVELFdBQVc7UUFDVixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxPQUFPO1FBQ04sSUFBSSxDQUFDLFNBQVMs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QWdCLEVBQUU7NEJBQ2hDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7eUJBQy9CO3FCQUNEO29CQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQzFFLFNBQVM7aUJBQ1Q7YUFDRDtZQUNELE1BQU07U0FDTjtJQUNGLENBQUM7O0FBdktGLHdDQXdLQztBQXRLZSx1QkFBUSxHQUFHLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgKiBhcyBlZSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgRGVidWdQcm90b2NvbCB9IGZyb20gJ3ZzY29kZS1kZWJ1Z3Byb3RvY29sJztcbmltcG9ydCB7IFJlc3BvbnNlLCBFdmVudCB9IGZyb20gJy4vbWVzc2FnZXMnO1xuXG5pbnRlcmZhY2UgRGVidWdQcm90b2NvbE1lc3NhZ2Uge1xufVxuXG5pbnRlcmZhY2UgSURpc3Bvc2FibGUge1xuXHRkaXNwb3NlKCk6IHZvaWQ7XG59XG5cbmNsYXNzIERpc3Bvc2FibGUwIGltcGxlbWVudHMgSURpc3Bvc2FibGUge1xuXHRkaXNwb3NlKCk6IGFueSB7XG5cdH1cbn1cblxuaW50ZXJmYWNlIEV2ZW50MDxUPiB7XG5cdChsaXN0ZW5lcjogKGU6IFQpID0+IGFueSwgdGhpc0FyZz86IGFueSk6IERpc3Bvc2FibGUwO1xufVxuXG5jbGFzcyBFbWl0dGVyPFQ+IHtcblxuXHRwcml2YXRlIF9ldmVudD86IEV2ZW50MDxUPjtcblx0cHJpdmF0ZSBfbGlzdGVuZXI/OiAoZTogVCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBfdGhpcz86IGFueTtcblxuXHRnZXQgZXZlbnQoKTogRXZlbnQwPFQ+IHtcblx0XHRpZiAoIXRoaXMuX2V2ZW50KSB7XG5cdFx0XHR0aGlzLl9ldmVudCA9IChsaXN0ZW5lcjogKGU6IFQpID0+IGFueSwgdGhpc0FyZz86IGFueSkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuX2xpc3RlbmVyID0gbGlzdGVuZXI7XG5cdFx0XHRcdHRoaXMuX3RoaXMgPSB0aGlzQXJnO1xuXG5cdFx0XHRcdGxldCByZXN1bHQ6IElEaXNwb3NhYmxlO1xuXHRcdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdFx0ZGlzcG9zZTogKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5fbGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHR0aGlzLl90aGlzID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9ldmVudDtcblx0fVxuXG5cdGZpcmUoZXZlbnQ6IFQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbGlzdGVuZXIpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRoaXMuX2xpc3RlbmVyLmNhbGwodGhpcy5fdGhpcywgZXZlbnQpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGhhc0xpc3RlbmVyKCkgOiBib29sZWFuIHtcblx0XHRyZXR1cm4gISF0aGlzLl9saXN0ZW5lcjtcblx0fVxuXG5cdGRpc3Bvc2UoKSB7XG5cdFx0dGhpcy5fbGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5fdGhpcyA9IHVuZGVmaW5lZDtcblx0fVxufVxuXG4vKipcbiAqIEEgc3RydWN0dXJhbGx5IGVxdWl2YWxlbnQgY29weSBvZiB2c2NvZGUuRGVidWdBZGFwdGVyXG4gKi9cbmludGVyZmFjZSBWU0NvZGVEZWJ1Z0FkYXB0ZXIgZXh0ZW5kcyBEaXNwb3NhYmxlMCB7XG5cblx0cmVhZG9ubHkgb25EaWRTZW5kTWVzc2FnZTogRXZlbnQwPERlYnVnUHJvdG9jb2xNZXNzYWdlPjtcblxuXHRoYW5kbGVNZXNzYWdlKG1lc3NhZ2U6IERlYnVnUHJvdG9jb2wuUHJvdG9jb2xNZXNzYWdlKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFByb3RvY29sU2VydmVyIGV4dGVuZHMgZWUuRXZlbnRFbWl0dGVyIGltcGxlbWVudHMgVlNDb2RlRGVidWdBZGFwdGVyIHtcblxuXHRwcml2YXRlIHN0YXRpYyBUV09fQ1JMRiA9ICdcXHJcXG5cXHJcXG4nO1xuXG5cdHByaXZhdGUgX3NlbmRNZXNzYWdlID0gbmV3IEVtaXR0ZXI8RGVidWdQcm90b2NvbE1lc3NhZ2U+KCk7XG5cblx0cHJpdmF0ZSBfcmF3RGF0YTogQnVmZmVyO1xuXHRwcml2YXRlIF9jb250ZW50TGVuZ3RoOiBudW1iZXI7XG5cdHByaXZhdGUgX3NlcXVlbmNlOiBudW1iZXI7XG5cdHByaXZhdGUgX3dyaXRhYmxlU3RyZWFtOiBOb2RlSlMuV3JpdGFibGVTdHJlYW07XG5cdHByaXZhdGUgX3BlbmRpbmdSZXF1ZXN0cyA9IG5ldyBNYXA8bnVtYmVyLCAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UpID0+IHZvaWQ+KCk7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdC8vIC0tLS0gaW1wbGVtZW50cyB2c2NvZGUuRGVidWdhZGFwdGVyIGludGVyZmFjZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwdWJsaWMgZGlzcG9zZSgpOiBhbnkge1xuXHR9XG5cblx0cHVibGljIG9uRGlkU2VuZE1lc3NhZ2U6IEV2ZW50MDxEZWJ1Z1Byb3RvY29sTWVzc2FnZT4gPSB0aGlzLl9zZW5kTWVzc2FnZS5ldmVudDtcblxuXHRwdWJsaWMgaGFuZGxlTWVzc2FnZShtc2c6IERlYnVnUHJvdG9jb2wuUHJvdG9jb2xNZXNzYWdlKTogdm9pZCB7XG5cdFx0aWYgKG1zZy50eXBlID09PSAncmVxdWVzdCcpIHtcblx0XHRcdHRoaXMuZGlzcGF0Y2hSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlJlcXVlc3Q+bXNnKTtcblx0XHR9IGVsc2UgaWYgKG1zZy50eXBlID09PSAncmVzcG9uc2UnKSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IDxEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlPm1zZztcblx0XHRcdGNvbnN0IGNsYiA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5nZXQocmVzcG9uc2UucmVxdWVzdF9zZXEpO1xuXHRcdFx0aWYgKGNsYikge1xuXHRcdFx0XHR0aGlzLl9wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKHJlc3BvbnNlLnJlcXVlc3Rfc2VxKTtcblx0XHRcdFx0Y2xiKHJlc3BvbnNlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcm90ZWN0ZWQgX2lzUnVubmluZ0lubGluZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UgJiYgdGhpcy5fc2VuZE1lc3NhZ2UuaGFzTGlzdGVuZXIoKTtcblx0fVxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwdWJsaWMgc3RhcnQoaW5TdHJlYW06IE5vZGVKUy5SZWFkYWJsZVN0cmVhbSwgb3V0U3RyZWFtOiBOb2RlSlMuV3JpdGFibGVTdHJlYW0pOiB2b2lkIHtcblx0XHR0aGlzLl9zZXF1ZW5jZSA9IDE7XG5cdFx0dGhpcy5fd3JpdGFibGVTdHJlYW0gPSBvdXRTdHJlYW07XG5cdFx0dGhpcy5fcmF3RGF0YSA9IG5ldyBCdWZmZXIoMCk7XG5cblx0XHRpblN0cmVhbS5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHRoaXMuX2hhbmRsZURhdGEoZGF0YSkpO1xuXG5cdFx0aW5TdHJlYW0ub24oJ2Nsb3NlJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5fZW1pdEV2ZW50KG5ldyBFdmVudCgnY2xvc2UnKSk7XG5cdFx0fSk7XG5cdFx0aW5TdHJlYW0ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHR0aGlzLl9lbWl0RXZlbnQobmV3IEV2ZW50KCdlcnJvcicsICdpblN0cmVhbSBlcnJvcjogJyArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSkpO1xuXHRcdH0pO1xuXG5cdFx0b3V0U3RyZWFtLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0dGhpcy5fZW1pdEV2ZW50KG5ldyBFdmVudCgnZXJyb3InLCAnb3V0U3RyZWFtIGVycm9yOiAnICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpKSk7XG5cdFx0fSk7XG5cblx0XHRpblN0cmVhbS5yZXN1bWUoKTtcblx0fVxuXG5cdHB1YmxpYyBzdG9wKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl93cml0YWJsZVN0cmVhbSkge1xuXHRcdFx0dGhpcy5fd3JpdGFibGVTdHJlYW0uZW5kKCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHNlbmRFdmVudChldmVudDogRGVidWdQcm90b2NvbC5FdmVudCk6IHZvaWQge1xuXHRcdHRoaXMuX3NlbmQoJ2V2ZW50JywgZXZlbnQpO1xuXHR9XG5cblx0cHVibGljIHNlbmRSZXNwb25zZShyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXNwb25zZSk6IHZvaWQge1xuXHRcdGlmIChyZXNwb25zZS5zZXEgPiAwKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBhdHRlbXB0IHRvIHNlbmQgbW9yZSB0aGFuIG9uZSByZXNwb25zZSBmb3IgY29tbWFuZCAke3Jlc3BvbnNlLmNvbW1hbmR9YCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3NlbmQoJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzZW5kUmVxdWVzdChjb21tYW5kOiBzdHJpbmcsIGFyZ3M6IGFueSwgdGltZW91dDogbnVtYmVyLCBjYjogKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlKSA9PiB2b2lkKSA6IHZvaWQge1xuXG5cdFx0Y29uc3QgcmVxdWVzdDogYW55ID0ge1xuXHRcdFx0Y29tbWFuZDogY29tbWFuZFxuXHRcdH07XG5cdFx0aWYgKGFyZ3MgJiYgT2JqZWN0LmtleXMoYXJncykubGVuZ3RoID4gMCkge1xuXHRcdFx0cmVxdWVzdC5hcmd1bWVudHMgPSBhcmdzO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NlbmQoJ3JlcXVlc3QnLCByZXF1ZXN0KTtcblxuXHRcdGlmIChjYikge1xuXHRcdFx0dGhpcy5fcGVuZGluZ1JlcXVlc3RzLnNldChyZXF1ZXN0LnNlcSwgY2IpO1xuXG5cdFx0XHRjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdFx0XHRjb25zdCBjbGIgPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHMuZ2V0KHJlcXVlc3Quc2VxKTtcblx0XHRcdFx0aWYgKGNsYikge1xuXHRcdFx0XHRcdHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdC5zZXEpO1xuXHRcdFx0XHRcdGNsYihuZXcgUmVzcG9uc2UocmVxdWVzdCwgJ3RpbWVvdXQnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRpbWVvdXQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIC0tLS0gcHJvdGVjdGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCk6IHZvaWQge1xuXHR9XG5cblx0Ly8gLS0tLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHByaXZhdGUgX2VtaXRFdmVudChldmVudDogRGVidWdQcm90b2NvbC5FdmVudCkge1xuXHRcdHRoaXMuZW1pdChldmVudC5ldmVudCwgZXZlbnQpO1xuXHR9XG5cblx0cHJpdmF0ZSBfc2VuZCh0eXA6ICdyZXF1ZXN0JyB8ICdyZXNwb25zZScgfCAnZXZlbnQnLCBtZXNzYWdlOiBEZWJ1Z1Byb3RvY29sLlByb3RvY29sTWVzc2FnZSk6IHZvaWQge1xuXG5cdFx0bWVzc2FnZS50eXBlID0gdHlwO1xuXHRcdG1lc3NhZ2Uuc2VxID0gdGhpcy5fc2VxdWVuY2UrKztcblxuXHRcdGlmICh0aGlzLl93cml0YWJsZVN0cmVhbSkge1xuXHRcdFx0Y29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fd3JpdGFibGVTdHJlYW0ud3JpdGUoYENvbnRlbnQtTGVuZ3RoOiAke0J1ZmZlci5ieXRlTGVuZ3RoKGpzb24sICd1dGY4Jyl9XFxyXFxuXFxyXFxuJHtqc29ufWAsICd1dGY4Jyk7XG5cdFx0fVxuXHRcdHRoaXMuX3NlbmRNZXNzYWdlLmZpcmUobWVzc2FnZSk7XG5cdH1cblxuXHRwcml2YXRlIF9oYW5kbGVEYXRhKGRhdGE6IEJ1ZmZlcik6IHZvaWQge1xuXG5cdFx0dGhpcy5fcmF3RGF0YSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuX3Jhd0RhdGEsIGRhdGFdKTtcblxuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRpZiAodGhpcy5fY29udGVudExlbmd0aCA+PSAwKSB7XG5cdFx0XHRcdGlmICh0aGlzLl9yYXdEYXRhLmxlbmd0aCA+PSB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG5cdFx0XHRcdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuX3Jhd0RhdGEudG9TdHJpbmcoJ3V0ZjgnLCAwLCB0aGlzLl9jb250ZW50TGVuZ3RoKTtcblx0XHRcdFx0XHR0aGlzLl9yYXdEYXRhID0gdGhpcy5fcmF3RGF0YS5zbGljZSh0aGlzLl9jb250ZW50TGVuZ3RoKTtcblx0XHRcdFx0XHR0aGlzLl9jb250ZW50TGVuZ3RoID0gLTE7XG5cdFx0XHRcdFx0aWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0bGV0IG1zZzogRGVidWdQcm90b2NvbC5Qcm90b2NvbE1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmhhbmRsZU1lc3NhZ2UobXNnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2VtaXRFdmVudChuZXcgRXZlbnQoJ2Vycm9yJywgJ0Vycm9yIGhhbmRsaW5nIGRhdGE6ICcgKyAoZSAmJiBlLm1lc3NhZ2UpKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1x0Ly8gdGhlcmUgbWF5IGJlIG1vcmUgY29tcGxldGUgbWVzc2FnZXMgdG8gcHJvY2Vzc1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBpZHggPSB0aGlzLl9yYXdEYXRhLmluZGV4T2YoUHJvdG9jb2xTZXJ2ZXIuVFdPX0NSTEYpO1xuXHRcdFx0XHRpZiAoaWR4ICE9PSAtMSkge1xuXHRcdFx0XHRcdGNvbnN0IGhlYWRlciA9IHRoaXMuX3Jhd0RhdGEudG9TdHJpbmcoJ3V0ZjgnLCAwLCBpZHgpO1xuXHRcdFx0XHRcdGNvbnN0IGxpbmVzID0gaGVhZGVyLnNwbGl0KCdcXHJcXG4nKTtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYWlyID0gbGluZXNbaV0uc3BsaXQoLzogKy8pO1xuXHRcdFx0XHRcdFx0aWYgKHBhaXJbMF0gPT0gJ0NvbnRlbnQtTGVuZ3RoJykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9jb250ZW50TGVuZ3RoID0gK3BhaXJbMV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuX3Jhd0RhdGEgPSB0aGlzLl9yYXdEYXRhLnNsaWNlKGlkeCArIFByb3RvY29sU2VydmVyLlRXT19DUkxGLmxlbmd0aCk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxufVxuIl19","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runDebugAdapter = void 0;\nconst Net = require(\"net\");\nfunction runDebugAdapter(debugSession) {\n    // parse arguments\n    let port = 0;\n    const args = process.argv.slice(2);\n    args.forEach(function (val, index, array) {\n        const portMatch = /^--server=(\\d{4,5})$/.exec(val);\n        if (portMatch) {\n            port = parseInt(portMatch[1], 10);\n        }\n    });\n    if (port > 0) {\n        // start as a server\n        console.error(`waiting for debug protocol on port ${port}`);\n        Net.createServer((socket) => {\n            console.error('>> accepted connection from client');\n            socket.on('end', () => {\n                console.error('>> client connection closed\\n');\n            });\n            const session = new debugSession(false, true);\n            session.setRunAsServer(true);\n            session.start(socket, socket);\n        }).listen(port);\n    }\n    else {\n        // start a session\n        //console.error('waiting for debug protocol on stdin/stdout');\n        const session = new debugSession(false);\n        process.on('SIGTERM', () => {\n            session.shutdown();\n        });\n        session.start(process.stdin, process.stdout);\n    }\n}\nexports.runDebugAdapter = runDebugAdapter;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVuRGVidWdBZGFwdGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3J1bkRlYnVnQWRhcHRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OztnR0FHZ0c7OztBQUVoRywyQkFBMkI7QUFJM0IsU0FBZ0IsZUFBZSxDQUFDLFlBQWlDO0lBRWhFLGtCQUFrQjtJQUNsQixJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7SUFDYixNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLO1FBQ3ZDLE1BQU0sU0FBUyxHQUFHLHNCQUFzQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuRCxJQUFJLFNBQVMsRUFBRTtZQUNkLElBQUksR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ2xDO0lBQ0YsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUU7UUFDYixvQkFBb0I7UUFDcEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxzQ0FBc0MsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUM1RCxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDM0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRTtnQkFDckIsT0FBTyxDQUFDLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1lBQ2hELENBQUMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxPQUFPLEdBQUcsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzlDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDL0IsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2hCO1NBQU07UUFFTixrQkFBa0I7UUFDbEIsOERBQThEO1FBQzlELE1BQU0sT0FBTyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRTtZQUMxQixPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzdDO0FBQ0YsQ0FBQztBQWxDRCwwQ0FrQ0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0ICogYXMgTmV0IGZyb20gJ25ldCc7XG5cbmltcG9ydCB7IERlYnVnU2Vzc2lvbiB9IGZyb20gJy4vZGVidWdTZXNzaW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkRlYnVnQWRhcHRlcihkZWJ1Z1Nlc3Npb246IHR5cGVvZiBEZWJ1Z1Nlc3Npb24pIHtcblxuXHQvLyBwYXJzZSBhcmd1bWVudHNcblx0bGV0IHBvcnQgPSAwO1xuXHRjb25zdCBhcmdzID0gcHJvY2Vzcy5hcmd2LnNsaWNlKDIpO1xuXHRhcmdzLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaW5kZXgsIGFycmF5KSB7XG5cdFx0Y29uc3QgcG9ydE1hdGNoID0gL14tLXNlcnZlcj0oXFxkezQsNX0pJC8uZXhlYyh2YWwpO1xuXHRcdGlmIChwb3J0TWF0Y2gpIHtcblx0XHRcdHBvcnQgPSBwYXJzZUludChwb3J0TWF0Y2hbMV0sIDEwKTtcblx0XHR9XG5cdH0pO1xuXG5cdGlmIChwb3J0ID4gMCkge1xuXHRcdC8vIHN0YXJ0IGFzIGEgc2VydmVyXG5cdFx0Y29uc29sZS5lcnJvcihgd2FpdGluZyBmb3IgZGVidWcgcHJvdG9jb2wgb24gcG9ydCAke3BvcnR9YCk7XG5cdFx0TmV0LmNyZWF0ZVNlcnZlcigoc29ja2V0KSA9PiB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCc+PiBhY2NlcHRlZCBjb25uZWN0aW9uIGZyb20gY2xpZW50Jyk7XG5cdFx0XHRzb2NrZXQub24oJ2VuZCcsICgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignPj4gY2xpZW50IGNvbm5lY3Rpb24gY2xvc2VkXFxuJyk7XG5cdFx0XHR9KTtcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBuZXcgZGVidWdTZXNzaW9uKGZhbHNlLCB0cnVlKTtcblx0XHRcdHNlc3Npb24uc2V0UnVuQXNTZXJ2ZXIodHJ1ZSk7XG5cdFx0XHRzZXNzaW9uLnN0YXJ0KHNvY2tldCwgc29ja2V0KTtcblx0XHR9KS5saXN0ZW4ocG9ydCk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBzdGFydCBhIHNlc3Npb25cblx0XHQvL2NvbnNvbGUuZXJyb3IoJ3dhaXRpbmcgZm9yIGRlYnVnIHByb3RvY29sIG9uIHN0ZGluL3N0ZG91dCcpO1xuXHRcdGNvbnN0IHNlc3Npb24gPSBuZXcgZGVidWdTZXNzaW9uKGZhbHNlKTtcblx0XHRwcm9jZXNzLm9uKCdTSUdURVJNJywgKCkgPT4ge1xuXHRcdFx0c2Vzc2lvbi5zaHV0ZG93bigpO1xuXHRcdH0pO1xuXHRcdHNlc3Npb24uc3RhcnQocHJvY2Vzcy5zdGRpbiwgcHJvY2Vzcy5zdGRvdXQpO1xuXHR9XG59XG4iXX0=","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","module.exports = require(\"assert\");;","module.exports = require(\"constants\");;","module.exports = require(\"crypto\");;","module.exports = require(\"events\");;","module.exports = require(\"fs\");;","module.exports = require(\"net\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","module.exports = require(\"stream\");;","module.exports = require(\"string_decoder\");;","module.exports = require(\"timers\");;","module.exports = require(\"url\");;","module.exports = require(\"util\");;","module.exports = require(\"zlib\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var LIB;LIB=(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,f=a<s?a:s,u=-1,c=0;c<=f;++c){if(c===f){if(s>f){if(47===r.charCodeAt(h+c))return r.slice(h+c+1);if(0===c)return r.slice(h+c)}else a>f&&(47===t.charCodeAt(o+c)?u=c:0===c&&(u=0));break}var l=t.charCodeAt(o+c);if(l!==r.charCodeAt(h+c))break;47===l&&(u=c)}var p=\"\";for(c=o+u+1;c<=i;++c)c!==i&&47!==t.charCodeAt(c)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+u):(h+=u,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var f=t.charCodeAt(n);if(47===f){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(f===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,f=!0,u=t.length-1,c=0;u>=n;--u)if(47!==(o=t.charCodeAt(u)))-1===s&&(f=!1,s=u+1),46===o?-1===a?a=u:1!==c&&(c=1):-1!==a&&(c=-1);else if(!f){h=u+1;break}return-1===a||-1===s||0===c||1===c&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n},447:(t,e,r)=>{var n;if(r.r(e),r.d(e,{URI:()=>g,Utils:()=>O}),\"object\"==typeof process)n=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var o=navigator.userAgent;n=o.indexOf(\"Windows\")>=0}var i,a,h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=/^\\w[\\w\\d+.-]*$/,f=/^\\//,u=/^\\/\\//,c=\"\",l=\"/\",p=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,g=function(){function t(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||c,this.authority=t.authority||c,this.path=t.path||c,this.query=t.query||c,this.fragment=t.fragment||c):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||c,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==l&&(e=l+e):e=l}return e}(this.scheme,r||c),this.query=n||c,this.fragment=o||c,function(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'+t.authority+'\", path: \"'+t.path+'\", query: \"'+t.query+'\", fragment: \"'+t.fragment+'\"}');if(t.scheme&&!s.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!f.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(u.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}(this,i))}return t.isUri=function(e){return e instanceof t||!!e&&\"string\"==typeof e.authority&&\"string\"==typeof e.fragment&&\"string\"==typeof e.path&&\"string\"==typeof e.query&&\"string\"==typeof e.scheme&&\"function\"==typeof e.fsPath&&\"function\"==typeof e.with&&\"function\"==typeof e.toString},Object.defineProperty(t.prototype,\"fsPath\",{get:function(){return C(this,!1)},enumerable:!1,configurable:!0}),t.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=c),void 0===r?r=this.authority:null===r&&(r=c),void 0===n?n=this.path:null===n&&(n=c),void 0===o?o=this.query:null===o&&(o=c),void 0===i?i=this.fragment:null===i&&(i=c),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new v(e,r,n,o,i)},t.parse=function(t,e){void 0===e&&(e=!1);var r=p.exec(t);return r?new v(r[2]||c,x(r[4]||c),x(r[5]||c),x(r[7]||c),x(r[9]||c),e):new v(c,c,c,c,c)},t.file=function(t){var e=c;if(n&&(t=t.replace(/\\\\/g,l)),t[0]===l&&t[1]===l){var r=t.indexOf(l,2);-1===r?(e=t.substring(2),t=l):(e=t.substring(2,r),t=t.substring(r)||l)}return new v(\"file\",e,t,c,c)},t.from=function(t){return new v(t.scheme,t.authority,t.path,t.query,t.fragment)},t.prototype.toString=function(t){return void 0===t&&(t=!1),A(this,t)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var r=new v(e);return r._formatted=e.external,r._fsPath=e._sep===d?e.fsPath:null,r}return e},t}(),d=n?1:void 0,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return h(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=C(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=d),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(g),m=((a={})[58]=\"%3A\",a[47]=\"%2F\",a[63]=\"%3F\",a[35]=\"%23\",a[91]=\"%5B\",a[93]=\"%5D\",a[64]=\"%40\",a[33]=\"%21\",a[36]=\"%24\",a[38]=\"%26\",a[39]=\"%27\",a[40]=\"%28\",a[41]=\"%29\",a[42]=\"%2A\",a[43]=\"%2B\",a[44]=\"%2C\",a[59]=\"%3B\",a[61]=\"%3D\",a[32]=\"%20\",a);function y(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=m[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function b(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=m[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function C(t,e){var r;return r=t.authority&&t.path.length>1&&\"file\"===t.scheme?\"//\"+t.authority+t.path:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,n&&(r=r.replace(/\\//g,\"\\\\\")),r}function A(t,e){var r=e?b:y,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=l,n+=l),i){var f=i.indexOf(\"@\");if(-1!==f){var u=i.substr(0,f);i=i.substr(f+1),-1===(f=u.indexOf(\":\"))?n+=r(u,!1):(n+=r(u.substr(0,f),!1),n+=\":\",n+=r(u.substr(f+1),!1)),n+=\"@\"}-1===(f=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,f),!1),n+=i.substr(f))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(c=a.charCodeAt(1))>=65&&c<=90&&(a=\"/\"+String.fromCharCode(c+32)+\":\"+a.substr(3));else if(a.length>=2&&58===a.charCodeAt(1)){var c;(c=a.charCodeAt(0))>=65&&c<=90&&(a=String.fromCharCode(c+32)+\":\"+a.substr(2))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:y(s,!1)),n}function w(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+w(t.substr(3)):t}}var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(t){return t.match(_)?t.replace(_,(function(t){return w(t)})):t}var O,P=r(470),j=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,h=i.length;a<h;a++,o++)n[o]=i[a];return n},U=P.posix||P;!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:U.join.apply(U,j([t.path],e))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path||\"/\";return t.with({path:U.resolve.apply(U,j([n],e))})},t.dirname=function(t){var e=U.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)?t:t.with({path:e})},t.basename=function(t){return U.basename(t.path)},t.extname=function(t){return U.extname(t.path)}}(O||(O={}))}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(447)})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","import * as fs from 'fs-extra';\nimport { LogConfiguration, LogLevel } from '../../common/configuration';\n\nenum NumericLogLevel { Debug, Info, Warn, Error }\n\n/**\n * The logger used throughout the debug adapter.\n * It is configured using the `log` property in the launch or attach configuration.\n */\nexport class Log {\n\n\tprivate static startTime = Date.now();\n\t\n\tprivate static config: LogConfiguration = {};\n\t\n\tprivate static logs = new Map<string, Log>();\n\tprivate static fileDescriptor?: number;\n\n\tpublic static async setConfig(newConfig: LogConfiguration) {\n\t\tif (Log.fileDescriptor !== undefined) {\n\t\t\tawait fs.close(Log.fileDescriptor);\n\t\t\tLog.fileDescriptor = undefined;\n\t\t}\n\n\t\tLog.config = newConfig;\n\t\tif (Log.config.fileName) {\n\t\t\ttry {\n\t\t\t\tLog.fileDescriptor = await fs.open(Log.config.fileName, 'w');\n\t\t\t} catch(e) {}\n\t\t}\n\n\t\tLog.logs.forEach((log) => log.configure());\n\t}\n\t\n\tpublic static consoleLog: (msg: string) => void = console.log;\n\t\n\tpublic static create(name: string): Log {\n\t\treturn new Log(name);\n\t}\n\n\tprivate fileLevel?: NumericLogLevel;\n\tprivate consoleLevel?: NumericLogLevel;\n\tprivate minLevel?: NumericLogLevel;\n\t\n\tconstructor(private name: string) {\n\t\tthis.configure();\n\t\tLog.logs.set(name, this);\n\t}\n\n\tpublic debug(msg: string): void {\n\t\tthis.log(msg, NumericLogLevel.Debug, 'DEBUG');\n\t}\n\t\n\tpublic info(msg: string): void {\n\t\tthis.log(msg, NumericLogLevel.Info, 'INFO ');\n\t}\n\t\n\tpublic warn(msg: string): void {\n\t\tthis.log(msg, NumericLogLevel.Warn, 'WARN ');\n\t}\n\t\n\tpublic error(msg: string): void {\n\t\tthis.log(msg, NumericLogLevel.Error, 'ERROR');\n\t}\n\n\tpublic isDebugEnabled(): boolean {\n\t\treturn (this.minLevel !== undefined) && (this.minLevel <= NumericLogLevel.Debug);\n\t}\n\n\tpublic isInfoEnabled(): boolean {\n\t\treturn (this.minLevel !== undefined) && (this.minLevel <= NumericLogLevel.Info);\n\t}\n\n\tpublic isWarnEnabled(): boolean {\n\t\treturn (this.minLevel !== undefined) && (this.minLevel <= NumericLogLevel.Warn);\n\t}\n\n\tpublic isErrorEnabled(): boolean {\n\t\treturn (this.minLevel !== undefined) && (this.minLevel <= NumericLogLevel.Error);\n\t}\n\n\tprivate configure() {\n\t\tthis.fileLevel = undefined;\n\t\tif (Log.config.fileName && Log.config.fileLevel) {\n\t\t\tthis.fileLevel = this.convertLogLevel(Log.config.fileLevel[this.name]);\n\t\t\tif (this.fileLevel === undefined) {\n\t\t\t\tthis.fileLevel = this.convertLogLevel(Log.config.fileLevel['default']);\n\t\t\t}\n\t\t}\n\t\tif (Log.config.consoleLevel) {\n\t\t\tthis.consoleLevel = this.convertLogLevel(Log.config.consoleLevel[this.name]);\n\t\t\tif (this.consoleLevel === undefined) {\n\t\t\t\tthis.consoleLevel = this.convertLogLevel(Log.config.consoleLevel['default']);\n\t\t\t}\n\t\t}\n\n\t\tthis.minLevel = this.fileLevel;\n\t\tif ((this.consoleLevel !== undefined) && \n\t\t\t((this.minLevel === undefined) || (this.consoleLevel < this.minLevel))) {\n\t\t\tthis.minLevel = this.consoleLevel;\n\t\t}\n\t}\n\n\tprivate convertLogLevel(logLevel: LogLevel): NumericLogLevel | undefined {\n\t\tif (!logLevel) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tswitch (logLevel) {\n\t\t\tcase 'Debug':\n\t\t\treturn NumericLogLevel.Debug;\n\n\t\t\tcase 'Info':\n\t\t\treturn NumericLogLevel.Info;\n\n\t\t\tcase 'Warn':\n\t\t\treturn NumericLogLevel.Warn;\n\n\t\t\tcase 'Error':\n\t\t\treturn NumericLogLevel.Error;\n\t\t}\n\t}\n\n\tprivate log(msg: string, level: NumericLogLevel, displayLevel: string) {\n\t\tif ((this.minLevel !== undefined) && (level >= this.minLevel)) {\n\t\t\t\n\t\t\tlet elapsedTime = (Date.now() - Log.startTime) / 1000;\n\t\t\tlet elapsedTimeString = elapsedTime.toFixed(3);\n\t\t\twhile (elapsedTimeString.length < 7) {\n\t\t\t\telapsedTimeString = '0' + elapsedTimeString;\n\t\t\t}\n\t\t\tlet logMsg = displayLevel + '|' + elapsedTimeString + '|' + this.name + ': ' + msg;\n\t\t\t\n\t\t\tif ((Log.fileDescriptor !== undefined) && \n\t\t\t\t(this.fileLevel !== undefined) && (level >= this.fileLevel)) {\n\t\t\t\tfs.write(Log.fileDescriptor, logMsg + '\\n', (err, written, str) => {});\n\t\t\t}\n\t\t\tif ((this.consoleLevel !== undefined) && (level >= this.consoleLevel)) {\n\t\t\t\tLog.consoleLog(logMsg);\n\t\t\t}\n\t\t}\n\t}\n}\n","import * as os from 'os';\n\nexport function delay(timeout: number): Promise<void> {\n\treturn new Promise<void>((resolve) => {\n\t\tsetTimeout(resolve, timeout);\n\t});\n}\n\nexport function isWindowsPlatform(): boolean {\n\treturn (os.platform() === 'win32');\n}\n","import * as path from 'path';\nimport * as fs from 'fs-extra';\nimport stripJsonComments from 'strip-json-comments';\nimport { isWindowsPlatform } from '../../common/util';\nimport isAbsoluteUrl from 'is-absolute-url';\n\n/**\n * compare file paths or urls, taking into account whether filenames are case sensitive on the current platform\n */\nexport function pathsAreEqual(path1: string, path2: string | undefined) {\n\tif (path2 === undefined) return false;\n\tif (isWindowsPlatform() && !isAbsoluteUrl(path1)) {\n\t\treturn path1.toUpperCase() === path2.toUpperCase();\n\t} else {\n\t\treturn path1 === path2;\n\t}\n}\n\n/**\n * replace `\\` with `/` on windows and remove trailing slashes\n */\nexport function normalizePath(rawPath: string) {\n\tlet normalized = path.normalize(rawPath);\n\tif (isWindowsPlatform()) {\n\t\tnormalized = normalized.replace(/\\\\/g, '/');\n\t}\n\tif (normalized[normalized.length - 1] === '/') {\n\t\tnormalized = normalized.substr(0, normalized.length - 1);\n\t}\n\n\treturn normalized;\n}\n\n/**\n * extract an error message from an exception\n * [grip](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#grips)\n */\nexport function exceptionGripToString(grip: FirefoxDebugProtocol.Grip | null | undefined) {\n\n\tif ((typeof grip === 'object') && (grip !== null) && (grip.type === 'object')) {\n\n\t\tlet preview = (<FirefoxDebugProtocol.ObjectGrip>grip).preview;\n\t\tif (preview && (preview.kind === 'Error')) {\n\n\t\t\tif (preview.name === 'ReferenceError') {\n\t\t\t\treturn 'not available';\n\t\t\t}\n\n\t\t\tlet str = (preview.name !== undefined) ? (preview.name + ': ') : '';\n\t\t\tstr += (preview.message !== undefined) ? preview.message : '';\n\t\t\tif (str !== '') {\n\t\t\t\treturn str;\n\t\t\t}\n\t\t}\n\n\t} else if (typeof grip === 'string') {\n\t\treturn grip;\n\t}\n\n\treturn 'unknown error';\n}\n\n\nconst identifierExpression = /^[a-zA-Z_$][a-zA-Z_$]*$/;\n\n/**\n * create a javascript expression for accessing a property of an object\n */\nexport function accessorExpression(objectExpression: string | undefined, propertyName: string): string | undefined {\n\tif (objectExpression === undefined) {\n\t\treturn undefined;\n\t} else if (objectExpression === '') {\n\t\treturn propertyName;\n\t} else if (identifierExpression.test(propertyName)) {\n\t\treturn `${objectExpression}.${propertyName}`;\n\t} else {\n\t\tconst escapedPropertyName = propertyName.replace('\\\\', '\\\\\\\\').replace('\\'', '\\\\\\'');\n\t\treturn `${objectExpression}['${escapedPropertyName}']`;\n\t}\n}\n\n/**\n * extract the addon id from a WebExtension's `manifest.json`\n */\nexport async function findAddonId(addonPath: string): Promise<string | undefined> {\n\ttry {\n\t\tconst rawManifest = await fs.readFile(path.join(addonPath, 'manifest.json'), { encoding: 'utf8' });\n\t\tconst manifest = JSON.parse(stripJsonComments(rawManifest));\n\t\tconst id = ((manifest.applications || {}).gecko || {}).id;\n\t\treturn id;\n\t} catch (err) {\n\t\tthrow `Couldn't parse manifest.json: ${err}`;\n\t}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { DebugSession } from 'vscode-debugadapter';\n\n/**\n * This class extends the base class provided by VS Code for debug adapters,\n * offering a Promise-based API instead of the callback-based API used by VS Code\n */\nexport abstract class DebugAdapterBase extends DebugSession {\n\n\tpublic constructor(debuggerLinesStartAt1: boolean, isServer: boolean = false) {\n\t\tsuper(debuggerLinesStartAt1, isServer);\n\t}\n\n\tprotected abstract initialize(args: DebugProtocol.InitializeRequestArguments): DebugProtocol.Capabilities | undefined;\n\tprotected abstract launch(args: DebugProtocol.LaunchRequestArguments): Promise<void>;\n\tprotected abstract attach(args: DebugProtocol.AttachRequestArguments): Promise<void>;\n\tprotected abstract disconnect(args: DebugProtocol.DisconnectArguments): Promise<void>;\n\tprotected abstract breakpointLocations(args: DebugProtocol.BreakpointLocationsArguments): Promise<{ breakpoints: DebugProtocol.BreakpointLocation[] }>;\n\tprotected abstract setBreakpoints(args: DebugProtocol.SetBreakpointsArguments): { breakpoints: DebugProtocol.Breakpoint[] };\n\tprotected abstract setExceptionBreakpoints(args: DebugProtocol.SetExceptionBreakpointsArguments): void;\n\tprotected abstract pause(args: DebugProtocol.PauseArguments): Promise<void>;\n\tprotected abstract next(args: DebugProtocol.NextArguments): Promise<void>;\n\tprotected abstract stepIn(args: DebugProtocol.StepInArguments): Promise<void>;\n\tprotected abstract stepOut(args: DebugProtocol.StepOutArguments): Promise<void>;\n\tprotected abstract continue(args: DebugProtocol.ContinueArguments): Promise<{ allThreadsContinued?: boolean }>;\n\tprotected abstract getSource(args: DebugProtocol.SourceArguments): Promise<{ content: string, mimeType?: string }>;\n\tprotected abstract getThreads(): { threads: DebugProtocol.Thread[] };\n\tprotected abstract getStackTrace(args: DebugProtocol.StackTraceArguments): Promise<{ stackFrames: DebugProtocol.StackFrame[], totalFrames?: number }>;\n\tprotected abstract getScopes(args: DebugProtocol.ScopesArguments): Promise<{ scopes: DebugProtocol.Scope[] }>;\n\tprotected abstract getVariables(args: DebugProtocol.VariablesArguments): Promise<{ variables: DebugProtocol.Variable[] }>;\n\tprotected abstract setVariable(args: DebugProtocol.SetVariableArguments): Promise<{ value: string, variablesReference?: number }>;\n\tprotected abstract evaluate(args: DebugProtocol.EvaluateArguments): Promise<{ result: string, type?: string, variablesReference: number, namedVariables?: number, indexedVariables?: number }>;\n\tprotected abstract getCompletions(args: DebugProtocol.CompletionsArguments): Promise<{ targets: DebugProtocol.CompletionItem[] }>;\n\tprotected abstract dataBreakpointInfo(args: DebugProtocol.DataBreakpointInfoArguments): Promise<{ dataId: string | null, description: string, accessTypes?: DebugProtocol.DataBreakpointAccessType[], canPersist?: boolean }>;\n\tprotected abstract setDataBreakpoints(args: DebugProtocol.SetDataBreakpointsArguments): Promise<{ breakpoints: DebugProtocol.Breakpoint[] }>;\n\tprotected abstract reloadAddon(): Promise<void>;\n\tprotected abstract toggleSkippingFile(url: string): Promise<void>;\n\tprotected abstract setPopupAutohide(popupAutohide: boolean): Promise<void>;\n\tprotected abstract togglePopupAutohide(): Promise<boolean>;\n\n\tprotected initializeRequest(response: DebugProtocol.InitializeResponse, args: DebugProtocol.InitializeRequestArguments): void {\n\t\tthis.handleRequest(response, () => this.initialize(args));\n\t}\n\n\tprotected disconnectRequest(response: DebugProtocol.DisconnectResponse, args: DebugProtocol.DisconnectArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.disconnect(args));\n\t}\n\n\tprotected launchRequest(response: DebugProtocol.LaunchResponse, args: DebugProtocol.LaunchRequestArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.launch(args));\n\t}\n\n\tprotected attachRequest(response: DebugProtocol.AttachResponse, args: DebugProtocol.AttachRequestArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.attach(args));\n\t}\n\n\tprotected breakpointLocationsRequest(response: DebugProtocol.BreakpointLocationsResponse, args: DebugProtocol.BreakpointLocationsArguments, request?: DebugProtocol.Request): void {\n\t\tthis.handleRequestAsync(response, () => this.breakpointLocations(args));\n\t}\n\n\tprotected setBreakPointsRequest(response: DebugProtocol.SetBreakpointsResponse, args: DebugProtocol.SetBreakpointsArguments): void {\n\t\tthis.handleRequest(response, () => this.setBreakpoints(args));\n\t}\n\n\tprotected setExceptionBreakPointsRequest(response: DebugProtocol.SetExceptionBreakpointsResponse, args: DebugProtocol.SetExceptionBreakpointsArguments): void {\n\t\tthis.handleRequest(response, () => this.setExceptionBreakpoints(args));\n\t}\n\n\tprotected pauseRequest(response: DebugProtocol.PauseResponse, args: DebugProtocol.PauseArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.pause(args));\n\t}\n\n\tprotected nextRequest(response: DebugProtocol.NextResponse, args: DebugProtocol.NextArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.next(args));\n\t}\n\n\tprotected stepInRequest(response: DebugProtocol.StepInResponse, args: DebugProtocol.StepInArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.stepIn(args));\n\t}\n\n\tprotected stepOutRequest(response: DebugProtocol.StepOutResponse, args: DebugProtocol.StepOutArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.stepOut(args));\n\t}\n\n\tprotected continueRequest(response: DebugProtocol.ContinueResponse, args: DebugProtocol.ContinueArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.continue(args));\n\t}\n\n\tprotected sourceRequest(response: DebugProtocol.SourceResponse, args: DebugProtocol.SourceArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.getSource(args));\n\t}\n\n\tprotected threadsRequest(response: DebugProtocol.ThreadsResponse): void {\n\t\tthis.handleRequest(response, () => this.getThreads());\n\t}\n\n\tprotected stackTraceRequest(response: DebugProtocol.StackTraceResponse, args: DebugProtocol.StackTraceArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.getStackTrace(args));\n\t}\n\n\tprotected scopesRequest(response: DebugProtocol.ScopesResponse, args: DebugProtocol.ScopesArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.getScopes(args));\n\t}\n\n\tprotected variablesRequest(response: DebugProtocol.VariablesResponse, args: DebugProtocol.VariablesArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.getVariables(args));\n\t}\n\n\tprotected setVariableRequest(response: DebugProtocol.SetVariableResponse, args: DebugProtocol.SetVariableArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.setVariable(args));\n\t}\n\n\tprotected evaluateRequest(response: DebugProtocol.EvaluateResponse, args: DebugProtocol.EvaluateArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.evaluate(args));\n\t}\n\n\tprotected completionsRequest(response: DebugProtocol.CompletionsResponse, args: DebugProtocol.CompletionsArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.getCompletions(args));\n\t}\n\n\tprotected dataBreakpointInfoRequest(response: DebugProtocol.DataBreakpointInfoResponse, args: DebugProtocol.DataBreakpointInfoArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.dataBreakpointInfo(args));\n\t}\n\n\tprotected setDataBreakpointsRequest(response: DebugProtocol.SetDataBreakpointsResponse, args: DebugProtocol.SetDataBreakpointsArguments): void {\n\t\tthis.handleRequestAsync(response, () => this.setDataBreakpoints(args));\n\t}\n\n\tprotected customRequest(command: string, response: DebugProtocol.Response, args: any): void {\n\t\tthis.handleRequestAsync(response, async () => {\n\t\t\tswitch(command) {\n\n\t\t\t\tcase 'reloadAddon':\n\t\t\t\treturn await this.reloadAddon();\n\n\t\t\t\tcase 'toggleSkippingFile':\n\t\t\t\treturn await this.toggleSkippingFile(<string>args);\n\n\t\t\t\tcase 'setPopupAutohide':\n\t\t\t\treturn await this.setPopupAutohide(args === 'true');\n\n\t\t\t\tcase 'togglePopupAutohide':\n\t\t\t\treturn await this.togglePopupAutohide();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate handleRequest<TResponse extends DebugProtocol.Response, TResponseBody>(response: TResponse, executeRequest: () => TResponseBody): void {\n\t\ttry {\n\t\t\tresponse.body = executeRequest();\n\t\t} catch (err) {\n\t\t\tresponse.success = false;\n\t\t\tresponse.message = this.errorString(err);\n\t\t}\n\t\tthis.sendResponse(response);\n\t}\n\n\tprivate async handleRequestAsync<TResponse extends DebugProtocol.Response, TResponseBody>(response: TResponse, executeRequest: () => Promise<TResponseBody>): Promise<void> {\n\t\ttry {\n\t\t\tresponse.body = await executeRequest();\n\t\t} catch (err) {\n\t\t\tresponse.success = false;\n\t\t\tresponse.message = this.errorString(err);\n\t\t}\n\t\tthis.sendResponse(response);\n\t}\n\n\tprivate errorString(err: any) {\n\t\tif ((typeof err === 'object') && (err !== null) && (typeof err.message === 'string')) {\n\t\t\treturn err.message;\n\t\t} else {\n\t\t\treturn String(err);\n\t\t}\n\t}\n}","import { Log } from './log';\n\nlet log = Log.create('PendingRequests');\n\nexport interface PendingRequest<T> {\n\tresolve: (t: T) => void;\n\treject: (err: any) => void;\n}\n\nexport class PendingRequests<T> {\n\t\n\tprivate pendingRequests: PendingRequest<T>[] = [];\n\t\n\tpublic enqueue(req: PendingRequest<T>) {\n\t\tthis.pendingRequests.push(req);\n\t}\n\t\n\tpublic resolveOne(t: T) {\n\t\tif (this.pendingRequests.length > 0) {\n\t\t\tlet request = this.pendingRequests.shift()!;\n\t\t\trequest.resolve(t);\n\t\t} else {\n\t\t\tlog.error(\"Received response without corresponding request!?\");\n\t\t}\n\t}\n\t\n\tpublic rejectOne(err: any) {\n\t\tif (this.pendingRequests.length > 0) {\n\t\t\tlet request = this.pendingRequests.shift()!;\n\t\t\trequest.reject(err);\n\t\t} else {\n\t\t\tlog.error(\"Received error response without corresponding request!?\");\n\t\t}\n\t}\n\t\n\tpublic isEmpty(): boolean {\n\t\treturn (this.pendingRequests.length === 0);\n\t}\n\n\tpublic resolveAll(t: T) {\n\t\tthis.pendingRequests.forEach((req) => req.resolve(t));\n\t\tthis.pendingRequests = [];\n\t}\n\t\n\tpublic rejectAll(err: any) {\n\t\tthis.pendingRequests.forEach((req) => req.reject(err));\n\t\tthis.pendingRequests = [];\n\t}\n}\n","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { PendingRequests, PendingRequest } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\nimport { MappedLocation, Range } from '../../location';\n\nlet log = Log.create('SourceActorProxy');\n\nexport interface ISourceActorProxy {\n\tname: string;\n\tsource: FirefoxDebugProtocol.Source;\n\turl: string | null;\n\tgetBreakableLines(): Promise<number[]>;\n\tgetBreakableLocations(line: number): Promise<MappedLocation[]>;\n\tfetchSource(): Promise<FirefoxDebugProtocol.Grip>;\n\tsetBlackbox(blackbox: boolean): Promise<void>;\n\tdispose(): void;\n}\n\n/**\n * Proxy class for a source actor\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#loading-script-sources),\n * [spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/source.js))\n */\nexport class SourceActorProxy implements ActorProxy, ISourceActorProxy {\n\n\tprivate pendingGetBreakableLinesRequest?: PendingRequest<number[]>;\n\tprivate getBreakableLinesPromise?: Promise<number[]>;\n\tprivate pendingGetBreakpointPositionsRequests = new PendingRequests<FirefoxDebugProtocol.BreakpointPositions>();\n\tprivate pendingFetchSourceRequests = new PendingRequests<FirefoxDebugProtocol.Grip>();\n\tprivate pendingBlackboxRequests = new PendingRequests<void>();\n\t\n\tconstructor(\n\t\tpublic readonly source: FirefoxDebugProtocol.Source,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get name() {\n\t\treturn this.source.actor;\n\t}\n\n\tpublic get url() {\n\t\treturn this.source.url;\n\t}\n\n\tpublic getBreakableLines(): Promise<number[]> {\n\n\t\tif (!this.getBreakableLinesPromise) {\n\n\t\t\tlog.debug(`Fetching breakableLines of ${this.url}`);\n\n\t\t\tthis.getBreakableLinesPromise = new Promise<number[]>((resolve, reject) => {\n\t\t\t\tthis.pendingGetBreakableLinesRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getBreakableLines' });\n\t\t\t});\n\t\t}\n\n\t\treturn this.getBreakableLinesPromise;\n\t}\n\n\tpublic async getBreakableLocations(line: number): Promise<MappedLocation[]> {\n\n\t\tlog.debug(`Fetching breakpointPositions of ${this.url}`);\n\n\t\tconst positions = await this.getBreakpointPositionsForRange({\n\t\t\tstart: { line, column: 0 },\n\t\t\tend: { line, column: Number.MAX_SAFE_INTEGER }\n\t\t});\n\n\t\tif (positions[line]) {\n\t\t\treturn (positions[line].map(column => ({ line, column })));\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tpublic getBreakpointPositionsForRange(range: Range): Promise<FirefoxDebugProtocol.BreakpointPositions> {\n\n\t\tlog.debug(`Fetching breakpoint positions of ${this.url} for range: ${JSON.stringify(range)}`);\n\n\t\treturn new Promise<FirefoxDebugProtocol.BreakpointPositions>((resolve, reject) => {\n\t\t\tthis.pendingGetBreakpointPositionsRequests.enqueue({ resolve, reject });\n\n\t\t\tconst request: any = { to: this.name, type: 'getBreakpointPositionsCompressed' };\n\t\t\tif (range) {\n\t\t\t\trequest.query = {\n\t\t\t\t\tstart: { line: range.start.line, column: range.start.column },\n\t\t\t\t\tend: { line: range.end.line, column: range.end.column },\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.connection.sendRequest(request);\n\t\t});\n\t}\n\n\tpublic fetchSource(): Promise<FirefoxDebugProtocol.Grip> {\n\n\t\tlog.debug(`Fetching source of ${this.url}`);\n\n\t\treturn new Promise<FirefoxDebugProtocol.Grip>((resolve, reject) => {\n\t\t\tthis.pendingFetchSourceRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'source' });\n\t\t});\n\t}\n\n\tpublic setBlackbox(blackbox: boolean): Promise<void> {\n\n\t\tlog.debug(`Setting blackboxing of ${this.url} to ${blackbox}`);\n\n\t\tthis.source.isBlackBoxed = blackbox;\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tlet type = blackbox ? 'blackbox' : 'unblackbox';\n\t\t\tthis.pendingBlackboxRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type });\n\t\t});\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['lines'] !== undefined) {\n\n\t\t\tlog.debug('Received getBreakableLines response');\n\n\t\t\tlet breakableLinesResponse = <FirefoxDebugProtocol.GetBreakableLinesResponse>response;\n\t\t\tif (this.pendingGetBreakableLinesRequest) {\n\t\t\t\tthis.pendingGetBreakableLinesRequest.resolve(breakableLinesResponse.lines);\n\t\t\t\tthis.pendingGetBreakableLinesRequest = undefined;\n\t\t\t} else {\n\t\t\t\tlog.warn(`Got BreakableLines for ${this.url} without a corresponding request`);\n\t\t\t}\n\n\t\t} else if (response['positions'] !== undefined) {\n\n\t\t\tlog.debug('Received getBreakpointPositions response');\n\n\t\t\tlet breakpointPositionsResponse = <FirefoxDebugProtocol.GetBreakpointPositionsCompressedResponse>response;\n\t\t\tthis.pendingGetBreakpointPositionsRequests.resolveOne(breakpointPositionsResponse.positions);\n\n\t\t} else if (response['source'] !== undefined) {\n\n\t\t\tlog.debug('Received fetchSource response');\n\t\t\tlet grip = <FirefoxDebugProtocol.Grip>response['source'];\n\t\t\tthis.pendingFetchSourceRequests.resolveOne(grip);\n\n\t\t} else if (response['error'] === 'noSuchActor') {\n\n\t\t\tlog.error(`No such actor ${JSON.stringify(this.name)}`);\n\t\t\tthis.pendingFetchSourceRequests.rejectAll('No such actor');\n\n\t\t} else {\n\n\t\t\tlet propertyCount = Object.keys(response).length;\n\t\t\tif ((propertyCount === 1) || ((propertyCount === 2) && (response['pausedInSource'] !== undefined))) {\n\n\t\t\t\tlog.debug('Received (un)blackbox response');\n\t\t\t\tthis.pendingBlackboxRequests.resolveOne(undefined);\n\n\t\t\t} else {\n\n\t\t\t\tlog.warn(\"Unknown message from SourceActor: \" + JSON.stringify(response));\n\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Log } from '../../util/log';\nimport { EventEmitter } from 'events';\nimport { DebugConnection } from '../connection';\nimport { PendingRequest, PendingRequests } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\nimport { ISourceActorProxy, SourceActorProxy } from './source';\nimport { MappedLocation, UrlLocation } from '../../location';\n\nlet log = Log.create('ThreadActorProxy');\n\nexport interface AttachOptions {\n\tignoreFrameEnvironment?: boolean;\n\tpauseOnExceptions?: boolean;\n\tignoreCaughtExceptions?: boolean;\n}\n\nexport interface IThreadActorProxy {\n\tname: string;\n\tattach(options: AttachOptions): Promise<void>;\n\tresume(exceptionBreakpoints: ExceptionBreakpoints | undefined, resumeLimitType?: 'next' | 'step' | 'finish'): Promise<void>;\n\tinterrupt(immediately?: boolean): Promise<void>;\n\tfetchSources(): Promise<FirefoxDebugProtocol.Source[]>;\n\tfetchStackFrames(start?: number, count?: number): Promise<FirefoxDebugProtocol.Frame[]>;\n\tsetBreakpoint(location: MappedLocation, sourceActor: ISourceActorProxy, condition?: string, logValue?: string): Promise<void>;\n\tpauseOnExceptions(pauseOnExceptions: boolean, ignoreCaughtExceptions: boolean): Promise<void>;\n\tremoveBreakpoint(location: MappedLocation, sourceActor: ISourceActorProxy): Promise<void>;\n\tfindOriginalLocation(generatedUrl: string, line: number, column?: number): Promise<UrlLocation | undefined>\n\tonPaused(cb: (event: FirefoxDebugProtocol.ThreadPausedResponse) => void): void;\n\tonResumed(cb: () => void): void;\n\tonExited(cb: () => void): void;\n\tonWrongState(cb: () => void): void;\n\tonNewSource(cb: (newSource: ISourceActorProxy) => void): void;\n\tonNewGlobal(cb: () => void): void;\n\tdispose(): void;\n}\n\nexport enum ExceptionBreakpoints {\n\tAll, Uncaught, None\n}\n\n/**\n * A ThreadActorProxy is a proxy for a \"thread-like actor\" (a Tab, Worker or Addon) in Firefox\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#interacting-with-thread-like-actors),\n * [spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/thread.js))\n */\nexport class ThreadActorProxy extends EventEmitter implements ActorProxy, IThreadActorProxy {\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tsuper();\n\t\tthis.connection.register(this);\n\t\tlog.debug(`Created thread ${this.name}`);\n\t}\n\n\tprivate attachPromise?: Promise<void>;\n\tprivate pendingResumeRequest?: PendingRequest<void>;\n\tprivate resumePromise?: Promise<void>;\n\tprivate pendingInterruptRequest?: PendingRequest<void>;\n\tprivate interruptPromise?: Promise<void>;\n\n\tprivate pendingSourcesRequests = new PendingRequests<FirefoxDebugProtocol.Source[]>();\n\tprivate pendingStackFramesRequests = new PendingRequests<FirefoxDebugProtocol.Frame[]>();\n\tprivate pendingEmptyResponseRequests = new PendingRequests<void>();\n\n\t/**\n\t * Attach the thread if it is detached\n\t */\n\tpublic attach(options: AttachOptions): Promise<void> {\n\t\tif (!this.attachPromise) {\n\t\t\tlog.debug(`Attaching thread ${this.name}`);\n\n\t\t\tthis.attachPromise = new Promise<void>((resolve, reject) => {\n\t\t\t\tthis.pendingEmptyResponseRequests.enqueue({ resolve, reject });\n\t\t\t\tthis.connection.sendRequest({\n\t\t\t\t\tto: this.name, type: 'attach', options\n\t\t\t\t});\n\t\t\t});\n\n\t\t} else {\n\t\t\tlog.warn('Attaching this thread has already been requested!');\n\t\t}\n\n\t\treturn this.attachPromise;\n\t}\n\n\t/**\n\t * Resume the thread if it is paused\n\t */\n\tpublic resume(\n\t\texceptionBreakpoints: ExceptionBreakpoints | undefined,\n\t\tresumeLimitType?: 'next' | 'step' | 'finish'\n\t): Promise<void> {\n\n\t\tif (!this.resumePromise) {\n\t\t\tlog.debug(`Resuming thread ${this.name}`);\n\n\t\t\tlet resumeLimit = resumeLimitType ? { type: resumeLimitType } : undefined;\n\t\t\tlet pauseOnExceptions: boolean | undefined = undefined;\n\t\t\tlet ignoreCaughtExceptions: boolean | undefined = undefined;\n\t\t\tswitch (exceptionBreakpoints) {\n\t\t\t\tcase ExceptionBreakpoints.All:\n\t\t\t\t\tpauseOnExceptions = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ExceptionBreakpoints.Uncaught:\n\t\t\t\t\tpauseOnExceptions = true;\n\t\t\t\t\tignoreCaughtExceptions = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.resumePromise = new Promise<void>((resolve, reject) => {\n\t\t\t\tthis.pendingResumeRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({\n\t\t\t\t\tto: this.name, type: 'resume',\n\t\t\t\t\tresumeLimit, pauseOnExceptions, ignoreCaughtExceptions\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.interruptPromise = undefined;\n\n\t\t}\n\n\t\treturn this.resumePromise;\n\t}\n\n\t/**\n\t * Interrupt the thread if it is running\n\t */\n\tpublic interrupt(immediately = true): Promise<void> {\n\n\t\tif (!this.interruptPromise) {\n\t\t\tlog.debug(`Interrupting thread ${this.name}`);\n\n\t\t\tthis.interruptPromise = new Promise<void>((resolve, reject) => {\n\t\t\t\tthis.pendingInterruptRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({\n\t\t\t\t\tto: this.name, type: 'interrupt',\n\t\t\t\t\twhen: immediately ? '' : 'onNext'\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.resumePromise = undefined;\n\n\t\t}\n\n\t\treturn this.interruptPromise;\n\t}\n\n\tpublic setBreakpoint(location: MappedLocation, sourceActor: ISourceActorProxy, condition?: string, logValue?: string): Promise<void> {\n\t\tlog.debug(`Setting breakpoint at ${location.line}:${location.column} in ${sourceActor.url}`);\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingEmptyResponseRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'setBreakpoint',\n\t\t\t\tlocation: { line: location.line, column: location.column, sourceUrl: sourceActor.url },\n\t\t\t\toptions: { condition, logValue }\n\t\t\t});\n\t\t})\n\t}\n\n\tpublic removeBreakpoint(location: MappedLocation, sourceActor: ISourceActorProxy): Promise<void> {\n\t\tlog.debug(`Removing breakpoint at ${location.line}:${location.column} in ${sourceActor.url}`);\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingEmptyResponseRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'removeBreakpoint',\n\t\t\t\tlocation: { line: location.line, column: location.column, sourceUrl: sourceActor.url }\n\t\t\t});\n\t\t})\n\t}\n\n\tpublic pauseOnExceptions(pauseOnExceptions: boolean, ignoreCaughtExceptions: boolean): Promise<void> {\n\t\tlog.debug(`Setting pauseOnException=${pauseOnExceptions}, ignoreCaughtExceptions=${ignoreCaughtExceptions}`);\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingEmptyResponseRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'pauseOnExceptions',\n\t\t\t\tpauseOnExceptions, ignoreCaughtExceptions\n\t\t\t});\n\t\t})\n\t}\n\n\t/**\n\t * Fetch the list of source files. This will also cause newSource events to be emitted for\n\t * every source file (including those that are loaded later and strings passed to eval())\n\t */\n\tpublic fetchSources(): Promise<FirefoxDebugProtocol.Source[]> {\n\t\tlog.debug(`Fetching sources from thread ${this.name}`);\n\n\t\treturn new Promise<FirefoxDebugProtocol.Source[]>((resolve, reject) => {\n\t\t\tthis.pendingSourcesRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'sources' });\n\t\t});\n\t}\n\n\t/**\n\t * Fetch StackFrames. This can only be called while the thread is paused.\n\t */\n\tpublic fetchStackFrames(start = 0, count = 1000): Promise<FirefoxDebugProtocol.Frame[]> {\n\t\tlog.debug(`Fetching stackframes from thread ${this.name}`);\n\n\t\treturn new Promise<FirefoxDebugProtocol.Frame[]>((resolve, reject) => {\n\t\t\tthis.pendingStackFramesRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'frames',\n\t\t\t\tstart, count\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic async findOriginalLocation(\n\t\turl: string,\n\t\tline: number,\n\t\tcolumn: number\n\t): Promise<UrlLocation | undefined> {\n\t\treturn { url, line, column };\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['type'] === 'paused') {\n\n\t\t\tlet pausedResponse = <FirefoxDebugProtocol.ThreadPausedResponse>response;\n\t\t\tlog.debug(`Received paused message of type ${pausedResponse.why.type}`);\n\n\t\t\tswitch (pausedResponse.why.type) {\n\t\t\t\tcase 'attached':\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'interrupted':\n\t\t\t\tcase 'alreadyPaused':\n\t\t\t\t\tif (this.pendingInterruptRequest) {\n\t\t\t\t\t\tthis.pendingInterruptRequest.resolve(undefined);\n\t\t\t\t\t\tthis.pendingInterruptRequest = undefined;\n\t\t\t\t\t} else if (pausedResponse.why.type !== 'alreadyPaused') {\n\t\t\t\t\t\tlog.warn(`Received ${pausedResponse.why.type} message without pending request`);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'resumeLimit':\n\t\t\t\tcase 'breakpoint':\n\t\t\t\tcase 'watchpoint':\n\t\t\t\tcase 'getWatchpoint':\n\t\t\t\tcase 'setWatchpoint':\n\t\t\t\tcase 'exception':\n\t\t\t\tcase 'debuggerStatement':\n\t\t\t\t\tif (this.pendingInterruptRequest) {\n\t\t\t\t\t\tthis.pendingInterruptRequest.resolve(undefined);\n\t\t\t\t\t\tthis.pendingInterruptRequest = undefined;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.interruptPromise = Promise.resolve(undefined);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.pendingResumeRequest) {\n\t\t\t\t\t\tthis.pendingResumeRequest.reject(`Hit ${pausedResponse.why.type}`);\n\t\t\t\t\t\tthis.pendingResumeRequest = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tthis.resumePromise = undefined;\n\t\t\t\t\tthis.emit('paused', pausedResponse);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'clientEvaluated':\n\t\t\t\t\tlog.warn('Received clientEvaluated message without a request');\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tlog.warn(`Paused event with reason ${pausedResponse.why.type} not handled yet`);\n\t\t\t\t\tthis.emit('paused', pausedResponse);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t} else if (response['type'] === 'resumed') {\n\n\t\t\tif (this.pendingResumeRequest) {\n\t\t\t\tlog.debug(`Received resumed event from ${this.name}`);\n\t\t\t\tthis.pendingResumeRequest.resolve(undefined);\n\t\t\t\tthis.pendingResumeRequest = undefined;\n\t\t\t} else {\n\t\t\t\tlog.debug(`Received unexpected resumed event from ${this.name}`);\n\t\t\t\tthis.interruptPromise = undefined;\n\t\t\t\tthis.resumePromise = Promise.resolve(undefined);\n\t\t\t\tthis.emit('resumed');\n\t\t\t}\n\t\t} else if (response['sources']) {\n\n\t\t\tlet sources = <FirefoxDebugProtocol.Source[]>(response['sources']);\n\t\t\tlog.debug(`Received ${sources.length} sources from thread ${this.name}`);\n\t\t\tthis.pendingSourcesRequests.resolveOne(sources);\n\n\t\t\tfor (let source of sources) {\n\n\t\t\t\tif (this.enableCRAWorkaround && source.url?.endsWith('hot-update.js')) {\n\n\t\t\t\t\tlog.debug('Ignoring this source because the CRA workaround is enabled');\n\t\n\t\t\t\t} else if (!this.connection.has(source.actor)) {\n\n\t\t\t\t\tconst sourceActor = new SourceActorProxy(source, this.connection);\n\t\t\t\t\tthis.emit('newSource', sourceActor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if (response['type'] === 'newSource') {\n\n\t\t\tlet source = <FirefoxDebugProtocol.Source>(response['source']);\n\t\t\tlog.debug(`New source ${source.url} on thread ${this.name}`);\n\n\t\t\tif (this.enableCRAWorkaround && source.url?.endsWith('hot-update.js')) {\n\n\t\t\t\tlog.debug('Ignoring this source because the CRA workaround is enabled');\n\n\t\t\t} else if (!this.connection.has(source.actor)) {\n\n\t\t\t\tconst sourceActor = new SourceActorProxy(source, this.connection);\n\t\t\t\tthis.emit('newSource', sourceActor);\n\t\t\t}\n\n\t\t} else if (response['frames']) {\n\n\t\t\tlet frames = <FirefoxDebugProtocol.Frame[]>(response['frames']);\n\t\t\tlog.debug(`Received ${frames.length} frames from thread ${this.name}`);\n\t\t\tthis.pendingStackFramesRequests.resolveOne(frames);\n\n\t\t} else if (response['type'] === 'newGlobal') {\n\n\t\t\tthis.emit('newGlobal');\n\n\t\t} else if (response['type'] === 'exited') {\n\n\t\t\tlog.debug(`Thread ${this.name} exited`);\n\t\t\tthis.emit('exited');\n\t\t\t//TODO send release packet(?)\n\n\t\t} else if (response['error'] === 'wrongState') {\n\n\t\t\tlog.warn(`Thread ${this.name} was in the wrong state for the last request`);\n\t\t\t//TODO reject last request!\n\t\t\tthis.emit('wrongState');\n\n\t\t} else if (response['error'] === 'wrongOrder') {\n\n\t\t\tlog.warn(`got wrongOrder error: ${response['message']}`);\n\t\t\tthis.resumePromise = undefined;\n\t\t\tif (this.pendingResumeRequest) {\n\t\t\t\tthis.pendingResumeRequest.reject(`You need to resume ${response['lastPausedUrl']} first`);\n\t\t\t}\n\n\t\t} else if (response['error'] === 'noSuchActor') {\n\n\t\t\tlog.error(`No such actor ${JSON.stringify(this.name)}`);\n\t\t\tif (this.pendingInterruptRequest) {\n\t\t\t\tthis.pendingInterruptRequest.reject('No such actor');\n\t\t\t}\n\t\t\tif (this.pendingResumeRequest) {\n\t\t\t\tthis.pendingResumeRequest.reject('No such actor');\n\t\t\t}\n\t\t\tthis.pendingSourcesRequests.rejectAll('No such actor');\n\t\t\tthis.pendingStackFramesRequests.rejectAll('No such actor');\n\n\t\t} else if (response['error'] === 'unknownFrame') {\n\n\t\t\tlet errorMsg = response['message']\n\t\t\tlog.error(`Error evaluating expression: ${errorMsg}`);\n\n\t\t} else {\n\n\t\t\tlet propertyCount = Object.keys(response).length;\n\t\t\tif (propertyCount === 1) {\n\n\t\t\t\tif (this.pendingEmptyResponseRequests.isEmpty()) {\n\t\t\t\t\tlog.debug('Received unexpected response, this is probably due to Firefox bug #1577996');\n\t\t\t\t} else {\n\t\t\t\t\tlog.debug('Received setBreakpoint or removeBreakpoint or pauseOnExceptions response');\n\t\t\t\t\tthis.pendingEmptyResponseRequests.resolveOne(undefined);\n\t\t\t\t}\n\n\t\t\t} else if ((response['type'] === 'willInterrupt') || (response['type'] === 'interrupt')) {\n\t\t\t\tlog.debug(`Received ${response['type']} event from ${this.name} (ignoring)`);\n\t\t\t} else {\n\t\t\t\tlog.warn(\"Unknown message from ThreadActor: \" + JSON.stringify(response));\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * The paused event is only sent when the thread is paused because it hit a breakpoint or a\n\t * resumeLimit, but not if it was paused due to an interrupt request or because an evaluate\n\t * request is finished\n\t */\n\tpublic onPaused(cb: (event: FirefoxDebugProtocol.ThreadPausedResponse) => void) {\n\t\tthis.on('paused', cb);\n\t}\n\n\t/**\n\t * The resumed event is only sent when the thread is resumed without a corresponding request\n\t * (this happens when a tab in Firefox is reloaded or navigated to a different url while\n\t * the corresponding thread is paused)\n\t */\n\tpublic onResumed(cb: () => void) {\n\t\tthis.on('resumed', cb);\n\t}\n\n\tpublic onExited(cb: () => void) {\n\t\tthis.on('exited', cb);\n\t}\n\n\tpublic onWrongState(cb: () => void) {\n\t\tthis.on('wrongState', cb);\n\t}\n\n\tpublic onNewSource(cb: (newSource: ISourceActorProxy) => void) {\n\t\tthis.on('newSource', cb);\n\t}\n\n\tpublic onNewGlobal(cb: () => void) {\n\t\tthis.on('newGlobal', cb);\n\t}\n}\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import * as fs from 'fs-extra';\nimport { delay } from '../../common/util';\nimport { Log } from './log';\n\nlet log = Log.create('fs');\n\nexport async function isExecutable(path: string): Promise<boolean> {\n\ttry {\n\t\tawait fs.access(path, fs.constants.X_OK);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"http\");;","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"https\");;","import * as url from 'url';\nimport * as fs from 'fs-extra';\nimport * as net from 'net';\nimport * as http from 'http';\nimport * as https from 'https';\nimport fileUriToPath from 'file-uri-to-path';\nimport dataUriToBuffer from 'data-uri-to-buffer';\nimport { Log } from './log';\nimport { delay } from '../../common/util';\n\nlet log = Log.create('net');\n\n/**\n * connect to a TCP port\n */\nexport function connect(port: number, host?: string): Promise<net.Socket> {\n\treturn new Promise<net.Socket>((resolve, reject) => {\n\t\tlet socket = net.connect(port, host || 'localhost');\n\t\tsocket.on('connect', () => resolve(socket));\n\t\tsocket.on('error', reject);\n\t});\n}\n\n/**\n * Try to connect to a TCP port and keep retrying for the number of seconds given by `timeout`\n * if the connection is rejected initially.\n * Used to connect to Firefox after launching it.\n */\nexport async function waitForSocket(port: number, timeout: number): Promise<net.Socket> {\n\tconst maxIterations = timeout * 5;\n\tlet lastError: any;\n\tfor (var i = 0; i < maxIterations; i++) {\n\t\ttry {\n\t\t\treturn await connect(port);\n\t\t} catch(err) {\n\t\t\tlastError = err;\n\t\t\tawait delay(200);\n\t\t}\n\t}\n\tthrow lastError;\n}\n\nexport function urlBasename(url: string): string {\n\tlet lastSepIndex = url.lastIndexOf('/');\n\tif (lastSepIndex < 0) {\n\t\treturn url;\n\t} else {\n\t\treturn url.substring(lastSepIndex + 1);\n\t}\n}\n\nexport function urlDirname(url: string): string {\n\tlet lastSepIndex = url.lastIndexOf('/');\n\tif (lastSepIndex < 8) {\n\t\treturn url;\n\t} else {\n\t\treturn url.substring(0, lastSepIndex + 1);\n\t}\n}\n\n/**\n * fetch the document from a URI, with support for the http(s), file and data schemes\n */\nexport async function getUri(uri: string): Promise<string> {\n\n\tif (uri.startsWith('data:')) {\n\t\treturn dataUriToBuffer(uri).toString();\n\t}\n\n\tif (uri.startsWith('file:')) {\n\t\treturn await fs.readFile(fileUriToPath(uri), 'utf8');\n\t}\n\n\tif (!uri.startsWith('http:') && !uri.startsWith('https:')) {\n\t\tthrow new Error(`Fetching ${uri} not supported`);\n\t}\n\n\treturn await new Promise<string>((resolve, reject) => {\n\t\tconst parsedUrl = url.parse(uri);\n\t\tconst get = (parsedUrl.protocol === 'https:') ? https.get : http.get;\n\t\tconst options = Object.assign({ rejectUnauthorized: false }, parsedUrl) as https.RequestOptions;\n\n\t\tget(options, response => {\n\t\t\tlet responseData = '';\n\t\t\tresponse.on('data', chunk => responseData += chunk);\n\t\t\tresponse.on('end', () => {\n\t\t\t\tif (response.statusCode === 200) {\n\t\t\t\t\tresolve(responseData);\n\t\t\t\t} else {\n\t\t\t\t\tlog.error(`HTTP GET failed with: ${response.statusCode} ${response.statusMessage}`);\n\t\t\t\t\treject(new Error(responseData.trim()));\n\t\t\t\t}\n\t\t\t});\n\t\t}).on('error', e => {\n\t\t\tlog.error(`HTTP GET failed: ${e}`);\n\t\t\treject(e);\n\t\t});\n\t});\n}\n","import * as os from 'os';\nimport * as path from 'path';\nimport * as uuid from 'uuid';\nimport isAbsoluteUrl from 'is-absolute-url';\nimport RegExpEscape from 'escape-string-regexp';\nimport { Log } from './util/log';\nimport { findAddonId, normalizePath } from './util/misc';\nimport { isExecutable } from './util/fs';\nimport { Minimatch } from 'minimatch';\nimport FirefoxProfile from 'firefox-profile';\nimport { isWindowsPlatform } from '../common/util';\nimport { LaunchConfiguration, AttachConfiguration, CommonConfiguration, ReloadConfiguration, DetailedReloadConfiguration, TabFilterConfiguration } from '../common/configuration';\nimport { urlDirname } from './util/net';\n\nlet log = Log.create('ParseConfiguration');\n\nexport interface NormalizedReloadConfiguration {\n\twatch: string[];\n\tignore: string[];\n\tdebounce: number;\n}\n\nexport interface ParsedTabFilterConfiguration {\n\tinclude: RegExp[];\n\texclude: RegExp[];\n}\n\nexport interface ParsedConfiguration {\n\tattach?: ParsedAttachConfiguration;\n\tlaunch?: ParsedLaunchConfiguration;\n\taddon?: ParsedAddonConfiguration;\n\tpathMappings: PathMappings;\n\tfilesToSkip: RegExp[];\n\treloadOnChange?: NormalizedReloadConfiguration,\n\ttabFilter: ParsedTabFilterConfiguration,\n\tclearConsoleOnReload: boolean,\n\tshowConsoleCallLocation: boolean;\n\tliftAccessorsFromPrototypes: number;\n\tsuggestPathMappingWizard: boolean;\n\tterminate: boolean;\n\tenableCRAWorkaround: boolean;\n}\n\nexport interface ParsedAttachConfiguration {\n\thost: string;\n\tport: number;\n\turl?: string;\n\tfirefoxExecutable?: string;\n\tprofileDir?: string;\n\treloadTabs: boolean;\n}\n\nexport interface FirefoxPreferences {\n\t[key: string]: boolean | number | string;\n}\n\ntype PathMapping = { url: string | RegExp, path: string | null };\nexport type PathMappings = PathMapping[];\n\nexport interface ParsedLaunchConfiguration {\n\tfirefoxExecutable: string;\n\tfirefoxArgs: string[];\n\tprofileDir: string;\n\tsrcProfileDir?: string;\n\tpreferences: FirefoxPreferences;\n\ttmpDirs: string[];\n\tport: number;\n\ttimeout: number;\n\tdetached: boolean;\n}\n\nexport interface ParsedAddonConfiguration {\n\tpath: string;\n\tid: string | undefined;\n\tpopupAutohideButton: boolean;\n}\n\n/**\n * Reads the configuration that was provided by VS Code, checks that it's consistent,\n * adds default values and returns it in a form that is easier to work with\n */\nexport async function parseConfiguration(\n\tconfig: LaunchConfiguration | AttachConfiguration\n): Promise<ParsedConfiguration> {\n\n\tlet attach: ParsedAttachConfiguration | undefined = undefined;\n\tlet launch: ParsedLaunchConfiguration | undefined = undefined;\n\tlet addon: ParsedAddonConfiguration | undefined = undefined;\n\tlet port = config.port || 6000;\n\tlet timeout = 5;\n\tlet pathMappings: PathMappings = [];\n\tlet url: string | undefined = undefined;\n\n\tif (config.request === 'launch') {\n\n\t\tlet tmpDirs: string[] = [];\n\n\t\tif (config.reAttach) {\n\t\t\tattach = {\n\t\t\t\thost: 'localhost', port,\n\t\t\t\treloadTabs: (config.reloadOnAttach !== false)\n\t\t\t};\n\t\t}\n\n\t\tlet firefoxExecutable = await findFirefoxExecutable(config.firefoxExecutable);\n\n\t\tlet firefoxArgs: string[] = [ '-start-debugger-server', String(port), '-no-remote' ];\n\t\tif (config.firefoxArgs) {\n\t\t\tfirefoxArgs.push(...config.firefoxArgs);\n\t\t}\n\n\t\tlet { profileDir, srcProfileDir } = await parseProfileConfiguration(config, tmpDirs);\n\n\t\tfirefoxArgs.push('-profile', profileDir);\n\n\t\tlet preferences = createFirefoxPreferences(config.preferences);\n\n\t\tif (config.file) {\n\t\t\tif (!path.isAbsolute(config.file)) {\n\t\t\t\tthrow 'The \"file\" property in the launch configuration has to be an absolute path';\n\t\t\t}\n\n\t\t\tlet fileUrl = config.file;\n\t\t\tif (isWindowsPlatform()) {\n\t\t\t\tfileUrl = 'file:///' + fileUrl.replace(/\\\\/g, '/');\n\t\t\t} else {\n\t\t\t\tfileUrl = 'file://' + fileUrl;\n\t\t\t}\n\t\t\tfirefoxArgs.push(fileUrl);\n\t\t\turl = fileUrl;\n\n\t\t} else if (config.url) {\n\t\t\tfirefoxArgs.push(config.url);\n\t\t\turl = config.url;\n\t\t} else if (config.addonPath) {\n\t\t\tfirefoxArgs.push('about:blank');\n\t\t} else {\n\t\t\tthrow 'You need to set either \"file\" or \"url\" in the launch configuration';\n\t\t}\n\n\t\tif (typeof config.timeout === 'number') {\n\t\t\ttimeout = config.timeout;\n\t\t}\n\n\t\tlet detached = true;\n\t\tif (os.platform() === 'darwin') {\n\t\t\tif (!config.reAttach) {\n\t\t\t\tdetached = false;\n\t\t\t\tif (config.keepProfileChanges) {\n\t\t\t\t\tthrow 'On MacOS, \"keepProfileChanges\" is only allowed with \"reAttach\" because your profile may get damaged otherwise';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlaunch = {\n\t\t\tfirefoxExecutable, firefoxArgs, profileDir, srcProfileDir,\n\t\t\tpreferences, tmpDirs, port, timeout, detached\n\t\t};\n\n\t} else { // config.request === 'attach'\n\n\t\tconst firefoxExecutable = config.firefoxExecutable ? await findFirefoxExecutable(config.firefoxExecutable) : undefined;\n\n\t\turl = config.url;\n\t\tattach = {\n\t\t\thost: config.host || 'localhost', port, url, firefoxExecutable, profileDir: config.profileDir,\n\t\t\treloadTabs: !!config.reloadOnAttach\n\t\t};\n\t}\n\n\tif (config.pathMappings) {\n\t\tpathMappings.push(...config.pathMappings.map(harmonizeTrailingSlashes).map(handleWildcards));\n\t}\n\n\tif (config.addonPath) {\n\t\taddon = await parseAddonConfiguration(config, pathMappings);\n\t}\n\n\tconst webRoot = parseWebRootConfiguration(config, pathMappings);\n\n\tif (webRoot) {\n\t\tpathMappings.push({ url: 'webpack:///~/', path: webRoot + '/node_modules/' });\n\t\tpathMappings.push({ url: 'webpack:///./~/', path: webRoot + '/node_modules/' });\n\t\tpathMappings.push({ url: 'webpack:///./', path: webRoot + '/' });\n\t\tpathMappings.push({ url: 'webpack:///src/', path: webRoot + '/src/' });\n\t\tpathMappings.push({ url: 'webpack:///node_modules/', path: webRoot + '/node_modules/' });\n\t\tpathMappings.push({ url: 'webpack:///webpack', path: null });\n\t\tpathMappings.push({ url: 'webpack:///(webpack)', path: null });\n\t\tpathMappings.push({ url: 'webpack:///pages/', path: webRoot + '/pages/' });\n\t\tpathMappings.push({ url: 'webpack://[name]_[chunkhash]/node_modules/', path: webRoot + '/node_modules/' });\n\t\tpathMappings.push({ url: 'webpack://[name]_[chunkhash]/', path: null });\n\t}\n\tpathMappings.push({ url: (isWindowsPlatform() ? 'webpack:///' : 'webpack://'), path: '' });\n\n\tpathMappings.push({ url: (isWindowsPlatform() ? 'file:///' : 'file://'), path: ''});\n\n\tlet filesToSkip = parseSkipFilesConfiguration(config);\n\n\tlet reloadOnChange = parseReloadConfiguration(config.reloadOnChange);\n\n\tconst tabFilter = parseTabFilterConfiguration(config.tabFilter, url);\n\n\tconst clearConsoleOnReload = !!config.clearConsoleOnReload;\n\n\tlet showConsoleCallLocation = config.showConsoleCallLocation || false;\n\tlet liftAccessorsFromPrototypes = config.liftAccessorsFromPrototypes || 0;\n\tlet suggestPathMappingWizard = config.suggestPathMappingWizard;\n\tif (suggestPathMappingWizard === undefined) {\n\t\tsuggestPathMappingWizard = true;\n\t}\n\tconst terminate = (config.request === 'launch') && !config.reAttach;\n\tconst enableCRAWorkaround = !!config.enableCRAWorkaround;\n\n\treturn {\n\t\tattach, launch, addon, pathMappings, filesToSkip, reloadOnChange, tabFilter, clearConsoleOnReload,\n\t\tshowConsoleCallLocation, liftAccessorsFromPrototypes, suggestPathMappingWizard, terminate,\n\t\tenableCRAWorkaround\n\t};\n}\n\nfunction harmonizeTrailingSlashes(pathMapping: PathMapping): PathMapping {\n\n\tif ((typeof pathMapping.url === 'string') && (typeof pathMapping.path === 'string') &&\n\t\t(pathMapping.path.length > 0)) {\n\n\t\tif (pathMapping.url.endsWith('/')) {\n\t\t\tif (pathMapping.path.endsWith('/')) {\n\t\t\t\treturn pathMapping;\n\t\t\t} else {\n\t\t\t\treturn { url: pathMapping.url, path: pathMapping.path + '/' };\n\t\t\t}\n\t\t} else {\n\t\t\tif (pathMapping.path.endsWith('/')) {\n\t\t\t\treturn { url: pathMapping.url + '/', path: pathMapping.path };\n\t\t\t} else {\n\t\t\t\treturn pathMapping;\n\t\t\t}\n\t\t}\n\n\t} else {\n\t\treturn pathMapping;\n\t}\n}\n\nfunction handleWildcards(pathMapping: PathMapping): PathMapping {\n\n\tif ((typeof pathMapping.url === 'string') && (pathMapping.url.indexOf('*') >= 0)) {\n\n\t\tconst regexp = '^' + pathMapping.url.split('*').map(RegExpEscape).join('[^/]*') + '(.*)$';\n\n\t\treturn {\n\t\t\turl: new RegExp(regexp),\n\t\t\tpath: pathMapping.path\n\t\t};\n\n\t} else {\n\t\treturn pathMapping;\n\t}\n}\n\nasync function findFirefoxExecutable(configuredPath?: string): Promise<string> {\n\n\tlet candidates: string[];\n\tif (configuredPath) {\n\t\tif ([ 'stable', 'developer', 'nightly' ].indexOf(configuredPath) >= 0) {\n\t\t\tcandidates = getExecutableCandidates(configuredPath as any);\n\t\t} else if (await isExecutable(configuredPath)) {\n\t\t\treturn configuredPath;\n\t\t} else {\n\t\t\tthrow 'Couldn\\'t find the Firefox executable. Please correct the path given in your launch configuration.';\n\t\t}\n\t} else {\n\t\tcandidates = getExecutableCandidates();\n\t}\n\n\tfor (let i = 0; i < candidates.length; i++) {\n\t\tif (await isExecutable(candidates[i])) {\n\t\t\treturn candidates[i];\n\t\t}\n\t}\n\n\tthrow 'Couldn\\'t find the Firefox executable. Please specify the path by setting \"firefoxExecutable\" in your launch configuration.';\n}\n\nexport function getExecutableCandidates(edition?: 'stable' | 'developer' | 'nightly'): string[] {\n\n\tif (edition === undefined) {\n\t\treturn [ ...getExecutableCandidates('developer'), ...getExecutableCandidates('stable') ];\n\t}\n\n\tconst platform = os.platform();\n\n\tif ([ 'linux', 'freebsd', 'sunos' ].indexOf(platform) >= 0) {\n\t\tconst paths = process.env.PATH!.split(':');\n\t\tswitch (edition) {\n\n\t\t\tcase 'stable':\n\t\t\t\treturn [\n\t\t\t\t\t...paths.map(dir => path.join(dir, 'firefox'))\n\t\t\t\t];\n\n\t\t\tcase 'developer':\n\t\t\t\treturn [\n\t\t\t\t\t...paths.map(dir => path.join(dir, 'firefox-developer-edition')),\n\t\t\t\t\t...paths.map(dir => path.join(dir, 'firefox-developer')),\n\t\t\t\t];\n\n\t\t\tcase 'nightly':\n\t\t\t\treturn [\n\t\t\t\t\t...paths.map(dir => path.join(dir, 'firefox-nightly')),\n\t\t\t\t];\n\t\t}\n\t}\n\n\tswitch (edition) {\n\n\t\tcase 'stable':\n\t\t\tif (platform === 'darwin') {\n\t\t\t\treturn [ '/Applications/Firefox.app/Contents/MacOS/firefox' ];\n\t\t\t} else if (platform === 'win32') {\n\t\t\t\treturn [\n\t\t\t\t\t'C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe',\n\t\t\t\t\t'C:\\\\Program Files (x86)\\\\Mozilla Firefox\\\\firefox.exe'\n\t\t\t\t];\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'developer':\n\t\t\tif (platform === 'darwin') {\n\t\t\t\treturn [\n\t\t\t\t\t'/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox',\n\t\t\t\t\t'/Applications/FirefoxDeveloperEdition.app/Contents/MacOS/firefox'\n\t\t\t\t];\n\t\t\t} else if (platform === 'win32') {\n\t\t\t\treturn [\n\t\t\t\t\t'C:\\\\Program Files\\\\Firefox Developer Edition\\\\firefox.exe',\n\t\t\t\t\t'C:\\\\Program Files (x86)\\\\Firefox Developer Edition\\\\firefox.exe'\n\t\t\t\t];\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'nightly':\n\t\t\tif (platform === 'darwin') {\n\t\t\t\treturn [ '/Applications/Firefox Nightly.app/Contents/MacOS/firefox' ]\n\t\t\t} else if (platform === 'win32') {\n\t\t\t\treturn [\n\t\t\t\t\t'C:\\\\Program Files\\\\Firefox Nightly\\\\firefox.exe',\n\t\t\t\t\t'C:\\\\Program Files (x86)\\\\Firefox Nightly\\\\firefox.exe'\n\t\t\t\t];\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\treturn [];\n}\n\nasync function parseProfileConfiguration(config: LaunchConfiguration, tmpDirs: string[])\n: Promise<{ profileDir: string, srcProfileDir?: string }> {\n\n\tlet profileDir: string;\n\tlet srcProfileDir: string | undefined;\n\n\tif (config.profileDir) {\n\t\tif (config.profile) {\n\t\t\tthrow 'You can set either \"profile\" or \"profileDir\", but not both';\n\t\t}\n\t\tsrcProfileDir = config.profileDir;\n\t} else if (config.profile) {\n\t\tsrcProfileDir = await findFirefoxProfileDir(config.profile);\n\t}\n\n\tif (config.keepProfileChanges) {\n\t\tif (srcProfileDir) {\n\t\t\tprofileDir = srcProfileDir;\n\t\t\tsrcProfileDir = undefined;\n\t\t} else {\n\t\t\tthrow 'To enable \"keepProfileChanges\" you need to set either \"profile\" or \"profileDir\"';\n\t\t}\n\t} else {\n\t\tconst tmpDir = config.tmpDir || os.tmpdir();\n\t\tprofileDir = path.join(tmpDir, `vscode-firefox-debug-profile-${uuid.v4()}`);\n\t\ttmpDirs.push(profileDir);\n\t}\n\n\treturn { profileDir, srcProfileDir };\n}\n\nfunction findFirefoxProfileDir(profileName: string): Promise<string | undefined> {\n\treturn new Promise<string | undefined>((resolve, reject) => {\n\n\t\tlet finder = new FirefoxProfile.Finder();\n\n\t\tfinder.getPath(profileName, (err, path) => {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\tresolve(path);\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction createFirefoxPreferences(\n\tadditionalPreferences?: { [key: string]: boolean | number | string | null }\n): FirefoxPreferences {\n\n\tlet preferences: FirefoxPreferences = {};\n\n\t// Remote debugging settings\n\tpreferences['devtools.chrome.enabled'] = true;\n\tpreferences['devtools.debugger.prompt-connection'] = false;\n\tpreferences['devtools.debugger.remote-enabled'] = true;\n\tpreferences['extensions.autoDisableScopes'] = 10;\n\tpreferences['xpinstall.signatures.required'] = false;\n\tpreferences['extensions.sdk.console.logLevel'] = 'all';\n\t// Skip check for default browser on startup\n\tpreferences['browser.shell.checkDefaultBrowser'] = false;\n\t// Hide the telemetry infobar\n\tpreferences['datareporting.policy.dataSubmissionPolicyBypassNotification'] = true;\n\t// Do not redirect user when a milestone upgrade of Firefox is detected\n\tpreferences['browser.startup.homepage_override.mstone'] = 'ignore';\n\t// Disable the UI tour\n\tpreferences['browser.uitour.enabled'] = false;\n\t// Do not warn on quitting Firefox\n\tpreferences['browser.warnOnQuit'] = false;\n\n\tif (additionalPreferences !== undefined) {\n\t\tfor (let key in additionalPreferences) {\n\t\t\tlet value = additionalPreferences[key];\n\t\t\tif (value !== null) {\n\t\t\t\tpreferences[key] = value;\n\t\t\t} else {\n\t\t\t\tdelete preferences[key];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn preferences;\n}\n\nfunction parseWebRootConfiguration(config: CommonConfiguration, pathMappings: PathMappings): string | undefined {\n\n\tif (config.url) {\n\t\tif (!config.webRoot) {\n\t\t\tif ((config.request === 'launch') && !config.pathMappings) {\n\t\t\t\tthrow `If you set \"url\" you also have to set \"webRoot\" or \"pathMappings\" in the ${config.request} configuration`;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t} else if (!path.isAbsolute(config.webRoot) && !isAbsoluteUrl(config.webRoot)) {\n\t\t\tthrow `The \"webRoot\" property in the ${config.request} configuration has to be an absolute path`;\n\t\t}\n\n\t\tlet webRootUrl = config.url;\n\t\tif (webRootUrl.lastIndexOf('/') > 7) {\n\t\t\twebRootUrl = webRootUrl.substr(0, webRootUrl.lastIndexOf('/'));\n\t\t}\n\n\t\tlet webRoot = isAbsoluteUrl(config.webRoot) ? config.webRoot : normalizePath(config.webRoot);\n\n\t\tpathMappings.forEach((pathMapping) => {\n\t\t\tconst to = pathMapping.path;\n\t\t\tif ((typeof to === 'string') && (to.substr(0, 10) === '${webRoot}')) {\n\t\t\t\tpathMapping.path = webRoot + to.substr(10);\n\t\t\t}\n\t\t});\n\n\t\tpathMappings.push({ url: webRootUrl, path: webRoot });\n\n\t\treturn webRoot;\n\n\t} else if (config.webRoot) {\n\t\tthrow `If you set \"webRoot\" you also have to set \"url\" in the ${config.request} configuration`;\n\t}\n\n\treturn undefined;\n}\n\nfunction parseSkipFilesConfiguration(config: CommonConfiguration): RegExp[] {\n\n\tlet filesToSkip: RegExp[] = [];\n\n\tif (config.skipFiles) {\n\t\tconfig.skipFiles.forEach((glob) => {\n\n\t\t\tlet minimatch = new Minimatch(glob);\n\t\t\tlet regExp = minimatch.makeRe();\n\n\t\t\tif (regExp) {\n\t\t\t\tfilesToSkip.push(regExp);\n\t\t\t} else {\n\t\t\t\tlog.warn(`Invalid glob pattern \"${glob}\" specified in \"skipFiles\"`);\n\t\t\t}\n\t\t})\n\t}\n\n\treturn filesToSkip;\n}\n\nfunction parseReloadConfiguration(\n\treloadConfig: ReloadConfiguration | undefined\n): NormalizedReloadConfiguration | undefined {\n\n\tif (reloadConfig === undefined) {\n\t\treturn undefined;\n\t}\n\n\tconst defaultDebounce = 100;\n\n\tif (typeof reloadConfig === 'string') {\n\n\t\treturn {\n\t\t\twatch: [ normalizePath(reloadConfig) ],\n\t\t\tignore: [],\n\t\t\tdebounce: defaultDebounce\n\t\t};\n\n\t} else if (Array.isArray(reloadConfig)) {\n\n\t\treturn {\n\t\t\twatch: reloadConfig.map(path => normalizePath(path)),\n\t\t\tignore: [],\n\t\t\tdebounce: defaultDebounce\n\t\t};\n\n\t} else {\n\n\t\tlet _config = <DetailedReloadConfiguration>reloadConfig;\n\n\t\tlet watch: string[];\n\t\tif (typeof _config.watch === 'string') {\n\t\t\twatch = [ _config.watch ];\n\t\t} else {\n\t\t\twatch = _config.watch;\n\t\t}\n\n\t\twatch = watch.map((path) => normalizePath(path));\n\n\t\tlet ignore: string[];\n\t\tif (_config.ignore === undefined) {\n\t\t\tignore = [];\n\t\t} else if (typeof _config.ignore === 'string') {\n\t\t\tignore = [ _config.ignore ];\n\t\t} else {\n\t\t\tignore = _config.ignore;\n\t\t}\n\n\t\tignore = ignore.map((path) => normalizePath(path));\n\n\t\tlet debounce: number;\n\t\tif (typeof _config.debounce === 'number') {\n\t\t\tdebounce = _config.debounce;\n\t\t} else {\n\t\t\tdebounce = (_config.debounce !== false) ? defaultDebounce : 0;\n\t\t}\n\n\t\treturn { watch, ignore, debounce };\n\t}\n}\n\nfunction parseTabFilterConfiguration(\n\ttabFilterConfig?: TabFilterConfiguration,\n\turl?: string\n): ParsedTabFilterConfiguration {\n\n\tif (tabFilterConfig === undefined) {\n\n\t\tif (url) {\n\t\t\treturn { include: [ new RegExp(RegExpEscape(urlDirname(url)) + '.*') ], exclude: [] };\n\t\t} else {\n\t\t\treturn { include: [ /.*/ ], exclude: [] };\n\t\t}\n\n\t}\n\n\tif ((typeof tabFilterConfig === 'string') || Array.isArray(tabFilterConfig)) {\n\n\t\treturn { include: parseTabFilter(tabFilterConfig), exclude: [] }\n\n\t} else {\n\n\t\treturn {\n\t\t\tinclude: (tabFilterConfig.include !== undefined) ? parseTabFilter(tabFilterConfig.include) : [ /.*/ ],\n\t\t\texclude: (tabFilterConfig.exclude !== undefined) ? parseTabFilter(tabFilterConfig.exclude) : []\n\t\t}\n\t}\n}\n\nfunction parseTabFilter(tabFilter: string | string[]): RegExp[] {\n\n\tif (typeof tabFilter === 'string') {\n\n\t\tconst parts = tabFilter.split('*').map(part => RegExpEscape(part));\n\t\tconst regExp = new RegExp(`^${parts.join('.*')}$`);\n\t\treturn [ regExp ];\n\n\t} else {\n\n\t\treturn tabFilter.map(f => parseTabFilter(f)[0]);\n\n\t}\n}\n\nasync function parseAddonConfiguration(\n\tconfig: LaunchConfiguration | AttachConfiguration,\n\tpathMappings: PathMappings\n): Promise<ParsedAddonConfiguration> {\n\n\tlet addonPath = config.addonPath!;\n\tconst popupAutohideButton = (config.popupAutohideButton !== false);\n\n\tlet addonId = await findAddonId(addonPath);\n\n\tlet sanitizedAddonPath = addonPath;\n\tif (sanitizedAddonPath[sanitizedAddonPath.length - 1] === '/') {\n\t\tsanitizedAddonPath = sanitizedAddonPath.substr(0, sanitizedAddonPath.length - 1);\n\t}\n\tpathMappings.push({\n\t\turl: new RegExp('^moz-extension://[0-9a-f-]*(/.*)$'),\n\t\tpath: sanitizedAddonPath\n\t});\n\n\tif (addonId) {\n\t\t// this pathMapping may no longer be necessary, I haven't seen this kind of URL recently...\n\t\tlet rewrittenAddonId = addonId.replace('{', '%7B').replace('}', '%7D');\n\t\tpathMappings.push({\n\t\t\turl: new RegExp(`^jar:file:.*/extensions/${rewrittenAddonId}.xpi!(/.*)$`),\n\t\t\tpath: sanitizedAddonPath\n\t\t});\n\t}\n\n\treturn {\n\t\tpath: addonPath, id: addonId, popupAutohideButton\n\t}\n}\n","import { Log } from '../../util/log';\nimport { EventEmitter } from 'events';\nimport { DebugConnection } from '../connection';\nimport { PendingRequests, PendingRequest } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\nimport { exceptionGripToString } from '../../util/misc';\n\nlet log = Log.create('ConsoleActorProxy');\n\n/**\n * Proxy class for a console actor\n */\nexport class ConsoleActorProxy extends EventEmitter implements ActorProxy {\n\n\tprivate static listenFor = [ 'PageError', 'ConsoleAPI' ];\n\n\tprivate pendingStartListenersRequests = new PendingRequests<void>();\n\tprivate pendingStopListenersRequests = new PendingRequests<void>();\n\tprivate pendingResultIDRequests = new PendingRequests<number>();\n\tprivate pendingEvaluateRequests = new Map<number, PendingRequest<FirefoxDebugProtocol.Grip>>();\n\tprivate pendingAutoCompleteRequests = new PendingRequests<string[]>();\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tsuper();\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic startListeners(): Promise<void> {\n\t\tlog.debug('Starting console listeners');\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingStartListenersRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'startListeners',\n\t\t\t\tlisteners: ConsoleActorProxy.listenFor\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic stopListeners(): Promise<void> {\n\t\tlog.debug('Stopping console listeners');\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingStopListenersRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'stopListeners',\n\t\t\t\tlisteners: ConsoleActorProxy.listenFor\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic getCachedMessages(): void {\n\t\tlog.debug('Getting cached messages');\n\n\t\tthis.connection.sendRequest({\n\t\t\tto: this.name, type: 'getCachedMessages',\n\t\t\tmessageTypes: ConsoleActorProxy.listenFor\n\t\t});\n\t}\n\n\t/**\n\t * Evaluate the given expression. This will create 2 PendingRequest objects because we expect\n\t * 2 answers: the first answer gives us a resultID for the evaluation result. The second answer\n\t * gives us the actual evaluation result.\n\t */\n\tpublic evaluate(expr: string, frameActorName?: string): Promise<FirefoxDebugProtocol.Grip> {\n\t\tlog.debug(`Evaluating '${expr}' on console ${this.name}`);\n\n\t\treturn new Promise<FirefoxDebugProtocol.Grip>((resolveEvaluate, rejectEvaluate) => {\n\n\t\t\t// we don't use a promise for the pendingResultIDRequest because we need the\n\t\t\t// pendingEvaluateRequest to be enqueued *immediately* after receiving the resultID\n\t\t\t// message (and a promise doesn't call its callbacks immediately after being resolved,\n\t\t\t// but rather schedules them to be called later)\n\t\t\tthis.pendingResultIDRequests.enqueue({\n\t\t\t\tresolve: (resultID) => {\n\t\t\t\t\tthis.pendingEvaluateRequests.set(resultID, { \n\t\t\t\t\t\tresolve: resolveEvaluate, reject: rejectEvaluate\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\treject: () => {}\n\t\t\t});\n\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'evaluateJSAsync',\n\t\t\t\ttext: expr, frameActor: frameActorName\n\t\t\t});\n\t\t})\n\t}\n\n\tpublic autoComplete(text: string, column: number, frameActor?: string) {\n\t\tlog.debug(`Getting completions for ${text} at position ${column}`);\n\n\t\treturn new Promise<string[]>((resolve, reject) => {\n\t\t\tthis.pendingAutoCompleteRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({\n\t\t\t\tto: this.name, type: 'autocomplete', text, cursor: column, frameActor\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['startedListeners']) {\n\n\t\t\tlog.debug('Listeners started');\n\t\t\tthis.pendingStartListenersRequests.resolveOne(undefined);\n\n\t\t} else if (response['stoppedListeners']) {\n\n\t\t\tlog.debug('Listeners stopped');\n\t\t\tthis.pendingStartListenersRequests.resolveOne(undefined);\n\n\t\t} else if (response['messages']) {\n\n\t\t\tlog.debug('Received cached messages');\n\t\t\tfor (let message of response.messages) {\n\t\t\t\tif ((message as FirefoxDebugProtocol.CachedMessage).type === 'consoleAPICall') {\n\t\t\t\t\tthis.emit('consoleAPI', message.message);\n\t\t\t\t} else if ((message as FirefoxDebugProtocol.CachedMessage).type === 'pageError') {\n\t\t\t\t\tthis.emit('pageError', message.pageError);\n\t\t\t\t} else if ((message as FirefoxDebugProtocol.LegacyCachedMessage)._type === 'ConsoleAPI') {\n\t\t\t\t\tthis.emit('consoleAPI', message);\n\t\t\t\t} else if ((message as FirefoxDebugProtocol.LegacyCachedMessage)._type === 'PageError') {\n\t\t\t\t\tthis.emit('pageError', message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if (response['type'] === 'consoleAPICall') {\n\n\t\t\tlog.debug(`Received ConsoleAPI message`);\n\t\t\tthis.emit('consoleAPI', (<FirefoxDebugProtocol.ConsoleAPICallResponse>response).message);\n\n\t\t} else if (response['type'] === 'pageError') {\n\n\t\t\tlog.debug(`Received PageError message`);\n\t\t\tthis.emit('pageError', (<FirefoxDebugProtocol.PageErrorResponse>response).pageError);\n\n\t\t} else if (response['type'] === 'logMessage') {\n\n\t\t\tlog.debug(`Received LogMessage message`);\n\t\t\tthis.emit('logMessage', (<FirefoxDebugProtocol.LogMessageResponse>response).message);\n\n\t\t} else if (response['type'] === 'evaluationResult') {\n\n\t\t\tlog.debug(`Received EvaluationResult message`);\n\t\t\tlet resultResponse = <FirefoxDebugProtocol.EvaluationResultResponse>response;\n\t\t\tif (!this.pendingEvaluateRequests.has(resultResponse.resultID)) {\n\t\t\t\tlog.error('Received evaluationResult with unknown resultID');\n\t\t\t} else {\n\t\t\t\tlet evaluateRequest = this.pendingEvaluateRequests.get(resultResponse.resultID)!;\n\t\t\t\tif (resultResponse.exceptionMessage === undefined) {\n\t\t\t\t\tevaluateRequest.resolve(resultResponse.result);\n\t\t\t\t} else {\n\t\t\t\t\tevaluateRequest.reject(exceptionGripToString(resultResponse.exception));\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if (response['resultID']) {\n\n\t\t\tlog.debug(`Received ResultID message`);\n\t\t\tthis.pendingResultIDRequests.resolveOne(response['resultID']);\n\n\t\t} else if (response['matches'] !== undefined) {\n\n\t\t\tlog.debug(`Received autoComplete response`);\n\t\t\tthis.pendingAutoCompleteRequests.resolveOne(\n\t\t\t\t(<FirefoxDebugProtocol.AutoCompleteResponse>response).matches);\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from ConsoleActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n\n\tpublic onConsoleAPICall(cb: (body: FirefoxDebugProtocol.ConsoleAPICallResponseBody) => void) {\n\t\tthis.on('consoleAPI', cb);\n\t}\n\n\tpublic onPageErrorCall(cb: (body: FirefoxDebugProtocol.PageErrorResponseBody) => void) {\n\t\tthis.on('pageError', cb);\n\t}\n\n\tpublic onLogMessageCall(cb: (message: string) => void) {\n\t\tthis.on('logMessage', cb);\n\t}\n}\n","import { Log } from '../../util/log';\nimport { ISourceActorProxy, SourceActorProxy } from '../actorProxy/source';\nimport { SourceMappingInfo } from './info';\nimport { getUri } from '../../util/net';\nimport { MappedLocation, Range } from '../../location';\n\nconst log = Log.create('SourceMappingSourceActorProxy');\n\ninterface Breakables {\n\tlines: number[];\n\tlocations: Map<number, MappedLocation[]>;\n}\n\nexport class SourceMappingSourceActorProxy implements ISourceActorProxy {\n\n\tpublic get name(): string {\n\t\treturn this.source.actor;\n\t}\n\n\tpublic get url(): string {\n\t\treturn this.source.url!;\n\t}\n\n\tpublic get underlyingActor(): SourceActorProxy { return this.sourceMappingInfo.underlyingSource; }\n\n\tprivate allBreakablesPromise?: Promise<Breakables>;\n\n\tpublic constructor(\n\t\tpublic readonly source: FirefoxDebugProtocol.Source,\n\t\tprivate readonly sourceMappingInfo: SourceMappingInfo\n\t) {}\n\n\tpublic async getBreakableLines(): Promise<number[]> {\n\n\t\tif (!this.allBreakablesPromise) {\n\t\t\tthis.allBreakablesPromise = this.getAllBreakables();\n\t\t}\n\n\t\tconst allBreakables = await this.allBreakablesPromise;\n\t\treturn allBreakables.lines;\n\t}\n\n\tpublic async getBreakableLocations(line: number): Promise<MappedLocation[]> {\n\n\t\tif (!this.allBreakablesPromise) {\n\t\t\tthis.allBreakablesPromise = this.getAllBreakables();\n\t\t}\n\n\t\tconst allBreakableLocations = await this.allBreakablesPromise;\n\t\treturn allBreakableLocations.locations.get(line) || [];\n\t}\n\n\tprivate async getAllBreakables(): Promise<Breakables> {\n\n\t\tthis.sourceMappingInfo.computeColumnSpans();\n\n\t\tif (log.isDebugEnabled()) log.debug(`Calculating ranges for ${this.url} within its generated source`);\n\t\tconst unresolvedSource = this.sourceMappingInfo.findUnresolvedSource(this.source.url!);\n\t\tconst generatedRanges: Range[] = [];\n\t\tlet currentRange: Range | undefined = undefined;\n\t\tthis.sourceMappingInfo.eachMapping(mapping => {\n\n\t\t\tif (mapping.source === unresolvedSource) {\n\n\t\t\t\tif (!currentRange) {\n\t\t\t\t\tcurrentRange = {\n\t\t\t\t\t\tstart: {\n\t\t\t\t\t\t\tline: mapping.generatedLine,\n\t\t\t\t\t\t\tcolumn: mapping.generatedColumn\n\t\t\t\t\t\t},\n\t\t\t\t\t\tend: {\n\t\t\t\t\t\t\tline: mapping.generatedLine,\n\t\t\t\t\t\t\tcolumn: mapping.lastGeneratedColumn || 0\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst lastGeneratedColumn = (mapping as any).lastGeneratedColumn || mapping.generatedColumn;\n\t\t\t\t\tcurrentRange.end = {\n\t\t\t\t\t\tline: mapping.generatedLine,\n\t\t\t\t\t\tcolumn: lastGeneratedColumn\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif (currentRange) {\n\t\t\t\t\tgeneratedRanges.push(currentRange);\n\t\t\t\t\tcurrentRange = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (currentRange) {\n\t\t\tgeneratedRanges.push(currentRange);\n\t\t}\n\n\t\tconst mappedBreakableLocations = new Map<number, MappedLocation[]>();\n\t\tconst originalBreakableColumns = new Map<number, Set<number>>();\n\t\tfor (const range of generatedRanges) {\n\n\t\t\tif (log.isDebugEnabled()) log.debug(`Fetching generated breakpoint locations for ${this.url}, ${range.start.line}:${range.start.column} - ${range.end.line}:${range.end.column}`);\n\t\t\tconst generatedBreakableLocations =\n\t\t\t\tawait this.sourceMappingInfo.underlyingSource.getBreakpointPositionsForRange(range);\n\n\t\t\tif (log.isDebugEnabled()) log.debug(`Computing original breakpoint locations for ${Object.keys(generatedBreakableLocations).length} generated lines`);\n\t\t\tfor (const generatedLineString in generatedBreakableLocations) {\n\t\t\t\tfor (const generatedColumn of generatedBreakableLocations[generatedLineString]) {\n\n\t\t\t\t\tconst generatedLine = +generatedLineString;\n\t\t\t\t\tconst originalLocation = this.sourceMappingInfo.originalLocationFor({\n\t\t\t\t\t\tline: generatedLine,\n\t\t\t\t\t\tcolumn: generatedColumn\n\t\t\t\t\t});\n\t\t\t\t\tif ((originalLocation === undefined) ||\n\t\t\t\t\t\t(originalLocation.line === null) ||\n\t\t\t\t\t\t(originalLocation.url !== this.url)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!mappedBreakableLocations.has(originalLocation.line)) {\n\t\t\t\t\t\tmappedBreakableLocations.set(originalLocation.line, []);\n\t\t\t\t\t\toriginalBreakableColumns.set(originalLocation.line, new Set<number>());\n\t\t\t\t\t}\n\n\t\t\t\t\tconst originalColumn = originalLocation.column || 0;\n\t\t\t\t\tif (!originalBreakableColumns.get(originalLocation.line)!.has(originalColumn)) {\n\t\t\t\t\t\tmappedBreakableLocations.get(originalLocation.line)!.push({\n\t\t\t\t\t\t\tline: originalLocation.line,\n\t\t\t\t\t\t\tcolumn: originalColumn,\n\t\t\t\t\t\t\tgenerated: {\n\t\t\t\t\t\t\t\tline: generatedLine,\n\t\t\t\t\t\t\t\tcolumn: generatedColumn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\toriginalBreakableColumns.get(originalLocation.line)!.add(originalColumn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst breakableLines: number[] = [];\n\t\tfor (const line of mappedBreakableLocations.keys()) {\n\t\t\tif (mappedBreakableLocations.get(line)!.length > 0) {\n\t\t\t\tbreakableLines.push(+line);\n\t\t\t}\n\t\t}\n\t\tbreakableLines.sort();\n\n\t\treturn {\n\t\t\tlines: breakableLines,\n\t\t\tlocations: mappedBreakableLocations\n\t\t};\n\t}\n\n\tpublic async fetchSource(): Promise<FirefoxDebugProtocol.Grip> {\n\t\tif (log.isDebugEnabled()) log.debug(`Fetching source for ${this.url}`);\n\t\tlet embeddedSource = this.sourceMappingInfo.sourceContentFor(this.url);\n\t\tif (embeddedSource) {\n\t\t\tif (log.isDebugEnabled()) log.debug(`Got embedded source for ${this.url}`);\n\t\t\treturn embeddedSource;\n\t\t} else {\n\t\t\tconst source = await getUri(this.url);\n\t\t\tif (log.isDebugEnabled()) log.debug(`Got non-embedded source for ${this.url}`);\n\t\t\treturn source;\n\t\t}\n\t}\n\n\tpublic async setBlackbox(blackbox: boolean): Promise<void> {\n\t\tthis.source.isBlackBoxed = blackbox;\n\t\tthis.sourceMappingInfo.syncBlackboxFlag();\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.sourceMappingInfo.disposeSource(this);\n\t}\n}\n","import * as url from 'url';\nimport { Log } from '../../util/log';\nimport { isWindowsPlatform as detectWindowsPlatform } from '../../../common/util';\nimport { ISourceActorProxy, SourceActorProxy } from '../actorProxy/source';\nimport { SourceMapConsumer, BasicSourceMapConsumer, MappingItem } from 'source-map';\nimport { UrlLocation, LocationWithColumn } from '../../location';\n\nlet GREATEST_LOWER_BOUND = SourceMapConsumer.GREATEST_LOWER_BOUND;\nlet LEAST_UPPER_BOUND = SourceMapConsumer.LEAST_UPPER_BOUND;\n\nconst isWindowsPlatform = detectWindowsPlatform();\nconst windowsAbsolutePathRegEx = /^[a-zA-Z]:[\\/\\\\]/;\n\ndeclare module \"source-map\" {\n\tinterface MappingItem {\n\t\tlastGeneratedColumn?: number | null;\n\t}\n}\n\nconst log = Log.create('SourceMappingInfo');\n\nexport class SourceMappingInfo {\n\n\tprivate columnSpansComputed = false;\n\n\tpublic get hasSourceMap(): boolean { return !!this.sourceMapConsumer; }\n\n\tpublic constructor(\n\t\tpublic readonly sources: ISourceActorProxy[],\n\t\tpublic readonly underlyingSource: SourceActorProxy,\n\t\tpublic readonly sourceMapUri?: string,\n\t\tprivate readonly sourceMapConsumer?: BasicSourceMapConsumer,\n\t\tprivate readonly sourceRoot?: string\n\t) {}\n\n\tpublic computeColumnSpans(): void {\n\t\tif (this.sourceMapConsumer && !this.columnSpansComputed) {\n\t\t\tthis.sourceMapConsumer.computeColumnSpans();\n\t\t\tthis.columnSpansComputed = true;\n\t\t}\n\t}\n\n\tpublic originalLocationFor(generatedLocation: LocationWithColumn): UrlLocation | undefined {\n\n\t\tif (!this.sourceMapConsumer) {\n\t\t\treturn { ...generatedLocation, url: this.sources[0].url || undefined };\n\t\t}\n\n\t\tlet consumerArgs = {\n\t\t\tline: generatedLocation.line,\n\t\t\tcolumn: generatedLocation.column || 0,\n\t\t\tbias: GREATEST_LOWER_BOUND\n\t\t};\n\n\t\tif (this.underlyingSource.source.introductionType === 'wasm') {\n\t\t\tconsumerArgs.column = consumerArgs.line;\n\t\t\tconsumerArgs.line = 1;\n\t\t}\n\n\t\tlet originalLocation = this.sourceMapConsumer.originalPositionFor(consumerArgs);\n\n\t\tif (originalLocation.source === null) {\n\t\t\tconsumerArgs.bias = LEAST_UPPER_BOUND;\n\t\t\toriginalLocation = this.sourceMapConsumer.originalPositionFor(consumerArgs);\n\t\t}\n\n\t\tif (originalLocation.source === null) {\n\t\t\tlog.warn(`Got original location ${JSON.stringify(originalLocation)} for generated location ${JSON.stringify(generatedLocation)}`);\n\t\t\treturn undefined;\n\t\t}\n\n\t\toriginalLocation.source = this.resolveSource(originalLocation.source);\n\n\t\tif ((this.underlyingSource.source.introductionType === 'wasm') && originalLocation.line) {\n\t\t\toriginalLocation.line--;\n\t\t}\n\n\t\tif (originalLocation.line !== null) {\n\t\t\treturn {\n\t\t\t\turl: originalLocation.source,\n\t\t\t\tline: originalLocation.line,\n\t\t\t\tcolumn: (originalLocation.column !== null) ? originalLocation.column : undefined\n\t\t\t};\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tpublic eachMapping(callback: (mapping: MappingItem) => void): void {\n\t\tif (this.sourceMapConsumer) {\n\t\t\tthis.sourceMapConsumer.eachMapping(mappingItem => {\n\t\t\t\tconst lastGeneratedColumn = (mappingItem.lastGeneratedColumn !== undefined) ? (mappingItem.lastGeneratedColumn || mappingItem.generatedColumn) : undefined;\n\t\t\t\tcallback({\n\t\t\t\t\t...mappingItem,\n\t\t\t\t\toriginalColumn: mappingItem.originalColumn,\n\t\t\t\t\tgeneratedColumn: mappingItem.generatedColumn,\n\t\t\t\t\tlastGeneratedColumn\n\t\t\t\t});\n\t\t\t}, undefined, SourceMapConsumer.GENERATED_ORDER);\n\t\t}\n\t}\n\n\tpublic sourceContentFor(source: string): string | undefined {\n\t\tif (this.sourceMapConsumer) {\n\t\t\treturn this.sourceMapConsumer.sourceContentFor(source) || undefined;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic syncBlackboxFlag(): void {\n\n\t\tif ((this.sources.length === 1) && (this.sources[0] === this.underlyingSource)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet blackboxUnderlyingSource = this.sources.every((source) => source.source.isBlackBoxed);\n\t\tif (this.underlyingSource.source.isBlackBoxed !== blackboxUnderlyingSource) {\n\t\t\tthis.underlyingSource.setBlackbox(blackboxUnderlyingSource);\n\t\t}\n\t}\n\n\tpublic disposeSource(source: ISourceActorProxy): void {\n\n\t\tlet sourceIndex = this.sources.indexOf(source);\n\t\tif (sourceIndex >= 0) {\n\n\t\t\tthis.sources.splice(sourceIndex, 1);\n\n\t\t\tif (this.sources.length === 0) {\n\t\t\t\tthis.underlyingSource.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic resolveSource(sourceUrl: string): string {\n\n\t\t\t// some tools (e.g. create-react-app) use absolute _paths_ instead of _urls_ here,\n\t\t\t// we work around this bug by converting anything that looks like an absolute path\n\t\t\t// into a url\n\t\t\tif (isWindowsPlatform)\n\t\t\t{\n\t\t\t\tif (windowsAbsolutePathRegEx.test(sourceUrl)) {\n\t\t\t\t\tsourceUrl = encodeURI('file:///' + sourceUrl.replace(/\\\\/g, '/'));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sourceUrl.startsWith('/')) {\n\t\t\t\t\tsourceUrl = encodeURI('file://' + sourceUrl);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.sourceRoot) {\n\t\t\t\tsourceUrl = url.resolve(this.sourceRoot, sourceUrl);\n\t\t\t}\n\n\t\t\treturn sourceUrl;\n\t}\n\n\tpublic findUnresolvedSource(resolvedSource: string): string | undefined {\n\t\tif (!this.sourceMapConsumer) return undefined;\n\n\t\tfor (const source of this.sourceMapConsumer.sources) {\n\n\t\t\tif ((source === resolvedSource) ||\n\t\t\t\t(this.resolveSource(source) === resolvedSource)) {\n\n\t\t\t\treturn source;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n}\n","import { EventEmitter } from 'events';\nimport * as url from 'url';\nimport * as fs from 'fs-extra';\nimport isAbsoluteUrl from 'is-absolute-url';\nimport { SourceMapConsumer, RawSourceMap } from 'source-map';\nimport { Log } from '../../util/log';\nimport { PathMapper } from '../../util/pathMapper';\nimport { getUri, urlDirname } from '../../util/net';\nimport { PendingRequest } from '../../util/pendingRequests';\nimport { DebugConnection } from '../connection';\nimport { ISourceActorProxy, SourceActorProxy } from '../actorProxy/source';\nimport { SourceMappingSourceActorProxy } from './source';\nimport { IThreadActorProxy, ExceptionBreakpoints, AttachOptions } from '../actorProxy/thread';\nimport { SourceMappingInfo } from './info';\nimport { MappedLocation, UrlLocation } from '../../location';\n\nlet log = Log.create('SourceMappingThreadActorProxy');\n\nexport class SourceMappingThreadActorProxy extends EventEmitter implements IThreadActorProxy {\n\n\tprivate sourceMappingInfos = new Map<string, Promise<SourceMappingInfo>>();\n\tprivate pendingSources = new Map<string, PendingRequest<SourceMappingInfo>>();\n\n\tpublic constructor(\n\t\tprivate readonly underlyingActorProxy: IThreadActorProxy,\n\t\tprivate readonly pathMapper: PathMapper,\n\t\tprivate readonly connection: DebugConnection\n\t) {\n\t\tsuper();\n\n\t\tunderlyingActorProxy.onNewSource(async (generatedSourceActor) => {\n\t\t\tlet sourceMappingInfo = await this.getOrCreateSourceMappingInfo(generatedSourceActor.source);\n\t\t\tfor (let originalSourceActor of sourceMappingInfo.sources) {\n\t\t\t\tthis.emit('newSource', originalSourceActor);\n\t\t\t}\n\t\t\tif (!sourceMappingInfo.sources.some(actor => actor === generatedSourceActor)) {\n\t\t\t\tthis.emit('newSource', generatedSourceActor);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic get name(): string {\n\t\treturn this.underlyingActorProxy.name;\n\t}\n\n\tpublic async fetchSources(): Promise<FirefoxDebugProtocol.Source[]> {\n\n\t\tlet underlyingSources = await this.underlyingActorProxy.fetchSources();\n\n\t\tlet allMappedSources: FirefoxDebugProtocol.Source[] = [];\n\t\tfor (let source of underlyingSources) {\n\t\t\tlet info = await this.getOrCreateSourceMappingInfo(source);\n\t\t\tlet mappedSources = info.sources.map((actor) => actor.source);\n\t\t\tallMappedSources.push(...mappedSources);\n\t\t}\n\n\t\treturn allMappedSources;\n\t}\n\n\tprivate getOrCreateSourceMappingInfo(\n\t\tsource: FirefoxDebugProtocol.Source\n\t): Promise<SourceMappingInfo> {\n\n\t\tif (this.sourceMappingInfos.has(source.actor)) {\n\n\t\t\tif (this.pendingSources.has(source.actor)) {\n\n\t\t\t\tconst pending = this.pendingSources.get(source.actor)!;\n\t\t\t\tthis.pendingSources.delete(source.actor);\n\n\t\t\t\t(async () => {\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst sourceMappingInfos = await this.createSourceMappingInfo(source);\n\t\t\t\t\t\tpending.resolve(sourceMappingInfos);\n\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tpending.reject(e);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\n\t\t\treturn this.sourceMappingInfos.get(source.actor)!;\n\n\t\t} else {\n\n\t\t\tlet sourceMappingInfoPromise = this.createSourceMappingInfo(source);\n\t\t\tthis.sourceMappingInfos.set(source.actor, sourceMappingInfoPromise);\n\t\t\treturn sourceMappingInfoPromise;\n\t\t}\n\t}\n\n\tprivate async createSourceMappingInfo(\n\t\tsource: FirefoxDebugProtocol.Source\n\t): Promise<SourceMappingInfo> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Trying to sourcemap ${JSON.stringify(source)}`);\n\t\t}\n\n\t\tlet sourceActor = this.connection.getOrCreate(\n\t\t\tsource.actor, () => new SourceActorProxy(source, this.connection));\n\n\t\tlet sourceMapUrl = source.sourceMapURL;\n\t\tif (!sourceMapUrl) {\n\t\t\treturn new SourceMappingInfo([sourceActor], sourceActor);\n\t\t}\n\n\t\tif (!isAbsoluteUrl(sourceMapUrl)) {\n\t\t\tif (source.url) {\n\t\t\t\tsourceMapUrl = url.resolve(urlDirname(source.url), sourceMapUrl);\n\t\t\t} else {\n\t\t\t\tlog.warn(`Can't create absolute sourcemap URL from ${sourceMapUrl} - giving up`);\n\t\t\t\treturn new SourceMappingInfo([sourceActor], sourceActor);\n\t\t\t}\n\t\t}\n\n\t\tlet rawSourceMap: RawSourceMap | undefined = undefined;\n\t\ttry {\n\n\t\t\tconst sourceMapPath = this.pathMapper.convertFirefoxUrlToPath(sourceMapUrl);\n\t\t\tif (sourceMapPath && !isAbsoluteUrl(sourceMapPath)) {\n\t\t\t\ttry {\n\t\t\t\t\tconst sourceMapString = await fs.readFile(sourceMapPath, 'utf8');\n\t\t\t\t\tlog.debug('Loaded sourcemap from disk');\n\t\t\t\t\trawSourceMap = JSON.parse(sourceMapString);\n\t\t\t\t\tlog.debug('Parsed sourcemap');\n\t\t\t\t} catch(e) {\n\t\t\t\t\tlog.debug(`Failed reading sourcemap from ${sourceMapPath} - trying to fetch it from ${sourceMapUrl}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!rawSourceMap) {\n\t\t\t\tconst sourceMapString = await getUri(sourceMapUrl);\n\t\t\t\tlog.debug('Received sourcemap');\n\t\t\t\trawSourceMap = JSON.parse(sourceMapString);\n\t\t\t\tlog.debug('Parsed sourcemap');\n\t\t\t}\n\n\t\t} catch(e) {\n\t\t\tlog.warn(`Failed fetching sourcemap from ${sourceMapUrl} - giving up`);\n\t\t\treturn new SourceMappingInfo([sourceActor], sourceActor);\n\t\t}\n\n\t\tlet sourceMapConsumer = await new SourceMapConsumer(rawSourceMap!);\n\t\tlet sourceMappingSourceActors: SourceMappingSourceActorProxy[] = [];\n\t\tlet sourceRoot = rawSourceMap!.sourceRoot;\n\t\tif (!sourceRoot && source.url) {\n\t\t\tsourceRoot = urlDirname(source.url);\n\t\t} else if ((sourceRoot !== undefined) && !isAbsoluteUrl(sourceRoot)) {\n\t\t\tsourceRoot = url.resolve(sourceMapUrl, sourceRoot);\n\t\t}\n\t\tlog.debug('Created SourceMapConsumer');\n\n\t\tlet sourceMappingInfo = new SourceMappingInfo(\n\t\t\tsourceMappingSourceActors, sourceActor, sourceMapUrl, sourceMapConsumer, sourceRoot);\n\n\t\tfor (let origSource of sourceMapConsumer.sources) {\n\n\t\t\torigSource = sourceMappingInfo.resolveSource(origSource);\n\n\t\t\tlet sourceMappingSource = this.createOriginalSource(source, origSource, sourceMapUrl);\n\n\t\t\tlet sourceMappingSourceActor = new SourceMappingSourceActorProxy(\n\t\t\t\tsourceMappingSource, sourceMappingInfo);\n\n\t\t\tsourceMappingSourceActors.push(sourceMappingSourceActor);\n\t\t}\n\n\t\treturn sourceMappingInfo;\n\t}\n\n\tprivate getSourceMappingInfo(actor: string): Promise<SourceMappingInfo> {\n\n\t\tif (this.sourceMappingInfos.has(actor)) {\n\n\t\t\treturn this.sourceMappingInfos.get(actor)!;\n\n\t\t} else {\n\n\t\t\tconst promise = new Promise<SourceMappingInfo>((resolve, reject) => {\n\t\t\t\tthis.pendingSources.set(actor, { resolve, reject });\n\t\t\t});\n\n\t\t\tthis.sourceMappingInfos.set(actor, promise);\n\n\t\t\treturn promise;\n\t\t}\n\t}\n\n\tpublic async fetchStackFrames(\n\t\tstart?: number,\n\t\tcount?: number\n\t): Promise<FirefoxDebugProtocol.Frame[]> {\n\n\t\tlet stackFrames = await this.underlyingActorProxy.fetchStackFrames(start, count);\n\n\t\tawait Promise.all(stackFrames.map((frame) => this.applySourceMapToFrame(frame)));\n\n\t\treturn stackFrames;\n\t}\n\n\tprivate async applySourceMapToFrame(frame: FirefoxDebugProtocol.Frame): Promise<void> {\n\n\t\tlet sourceMappingInfo: SourceMappingInfo | undefined;\n\t\tconst sourceMappingInfoPromise = this.getSourceMappingInfo(frame.where.actor);\n\t\tsourceMappingInfo = await sourceMappingInfoPromise;\n\t\tconst source = sourceMappingInfo.underlyingSource.source;\n\n\t\tif (source && sourceMappingInfo && sourceMappingInfo.hasSourceMap && frame.where.line) {\n\n\t\t\tlet originalLocation = sourceMappingInfo.originalLocationFor({\n\t\t\t\tline: frame.where.line, column: frame.where.column || 0\n\t\t\t});\n\n\t\t\tif (originalLocation && originalLocation.url) {\n\n\t\t\t\tframe.where = {\n\t\t\t\t\tactor: `${source.actor}!${originalLocation.url}`,\n\t\t\t\t\tline: originalLocation.line || undefined,\n\t\t\t\t\tcolumn: originalLocation.column || undefined\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createOriginalSource(\n\t\tgeneratedSource: FirefoxDebugProtocol.Source,\n\t\toriginalSourceUrl: string | null,\n\t\tsourceMapUrl: string\n\t): FirefoxDebugProtocol.Source {\n\n\t\treturn <FirefoxDebugProtocol.Source>{\n\t\t\tactor: `${generatedSource.actor}!${originalSourceUrl}`,\n\t\t\turl: originalSourceUrl,\n\t\t\tintroductionUrl: generatedSource.introductionUrl,\n\t\t\tintroductionType: generatedSource.introductionType,\n\t\t\tgeneratedUrl: generatedSource.url,\n\t\t\tisBlackBoxed: false,\n\t\t\tisPrettyPrinted: false,\n\t\t\tisSourceMapped: true,\n\t\t\tsourceMapURL: sourceMapUrl\n\t\t}\n\t}\n\n\tpublic async setBreakpoint(location: MappedLocation, sourceActor: ISourceActorProxy, condition?: string, logValue?: string): Promise<void> {\n\t\tif (location.generated && (sourceActor instanceof SourceMappingSourceActorProxy)) {\n\t\t\tawait this.underlyingActorProxy.setBreakpoint(location.generated, sourceActor.underlyingActor, condition, logValue);\n\t\t} else {\n\t\t\tawait this.underlyingActorProxy.setBreakpoint(location, sourceActor, condition, logValue);\n\t\t}\n\t}\n\n\tpublic async removeBreakpoint(location: MappedLocation, sourceActor: ISourceActorProxy): Promise<void> {\n\t\tif (location.generated && (sourceActor instanceof SourceMappingSourceActorProxy)) {\n\t\t\tawait this.underlyingActorProxy.removeBreakpoint(location.generated, sourceActor.underlyingActor);\n\t\t} else {\n\t\t\tawait this.underlyingActorProxy.removeBreakpoint(location, sourceActor);\n\t\t}\n\t}\n\n\tpublic pauseOnExceptions(pauseOnExceptions: boolean, ignoreCaughtExceptions: boolean): Promise<void> {\n\t\treturn this.underlyingActorProxy.pauseOnExceptions(pauseOnExceptions, ignoreCaughtExceptions);\n\t}\n\n\tpublic attach(options: AttachOptions): Promise<void> {\n\t\treturn this.underlyingActorProxy.attach(options);\n\t}\n\n\tpublic resume(\n\t\texceptionBreakpoints: ExceptionBreakpoints | undefined,\n\t\tresumeLimitType?: \"next\" | \"step\" | \"finish\" | undefined\n\t): Promise<void> {\n\t\treturn this.underlyingActorProxy.resume(exceptionBreakpoints, resumeLimitType);\n\t}\n\n\tpublic interrupt(immediately: boolean = true): Promise<void> {\n\t\treturn this.underlyingActorProxy.interrupt(immediately);\n\t}\n\n\tpublic async findOriginalLocation(\n\t\tgeneratedUrl: string,\n\t\tline: number,\n\t\tcolumn?: number\n\t): Promise<UrlLocation | undefined> {\n\n\t\tfor (const infoPromise of this.sourceMappingInfos.values()) {\n\t\t\tconst info = await infoPromise;\n\t\t\tif (generatedUrl === info.underlyingSource.url) {\n\n\t\t\t\tconst originalLocation = info.originalLocationFor({ line, column: column || 0 });\n\n\t\t\t\tif (originalLocation && originalLocation.url && originalLocation.line) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\turl: originalLocation.url,\n\t\t\t\t\t\tline: originalLocation.line,\n\t\t\t\t\t\tcolumn: originalLocation.column || 0\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic onPaused(cb: (_event: FirefoxDebugProtocol.ThreadPausedResponse) => void): void {\n\t\tthis.underlyingActorProxy.onPaused(async (event) => {\n\t\t\tawait this.applySourceMapToFrame(event.frame);\n\t\t\tcb(event);\n\t\t});\n\t}\n\n\tpublic onResumed(cb: () => void): void {\n\t\tthis.underlyingActorProxy.onResumed(cb);\n\t}\n\n\tpublic onExited(cb: () => void): void {\n\t\tthis.underlyingActorProxy.onExited(cb);\n\t}\n\n\tpublic onWrongState(cb: () => void): void {\n\t\tthis.underlyingActorProxy.onWrongState(cb);\n\t}\n\n\tpublic onNewSource(cb: (newSource: ISourceActorProxy) => void): void {\n\t\tthis.on('newSource', cb);\n\t}\n\n\tpublic onNewGlobal(cb: () => void): void {\n\t\tthis.underlyingActorProxy.onNewGlobal(cb);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.underlyingActorProxy.dispose();\n\t}\n}\n","import { EventEmitter } from 'events';\nimport { DebugConnection } from '../connection';\nimport { ActorProxy } from './interface';\nimport { PendingRequests } from '../../util/pendingRequests';\n\nexport abstract class BaseActorProxy extends EventEmitter implements ActorProxy {\n\n\tprivate readonly pendingRequests = new PendingRequests<any>();\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate readonly responseTypes: string[],\n\t\tprotected readonly connection: DebugConnection\n\t) {\n\t\tsuper();\n\t\tthis.connection.register(this);\n\t}\n\n\tsendRequest<T extends Omit<FirefoxDebugProtocol.Request, 'to'>, S>(request: T): Promise<S> {\n\t\treturn new Promise<S>((resolve, reject) => {\n\t\t\tthis.pendingRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ ...request, to: this.name });\n\t\t});\n\t}\n\n\tasync getRequestTypes(): Promise<string[]> {\n\t\treturn (await this.sendRequest<any, FirefoxDebugProtocol.RequestTypesResponse>(\n\t\t\t{ type: 'requestTypes' })\n\t\t).requestTypes;\n\t}\n\n\tabstract handleEvent(event: FirefoxDebugProtocol.Event): void;\n\n\treceiveResponse(message: FirefoxDebugProtocol.Response): void {\n\t\tif (message.error) {\n\t\t\tthis.pendingRequests.rejectOne(message);\n\t\t} else if (message.type && !this.responseTypes.includes(message.type)) {\n\t\t\tthis.handleEvent(message as FirefoxDebugProtocol.Event);\n\t\t} else {\n\t\t\tthis.pendingRequests.resolveOne(message);\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n}\n","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { IThreadActorProxy, ThreadActorProxy } from './thread';\nimport { ConsoleActorProxy } from './console';\nimport { SourceMappingThreadActorProxy } from '../sourceMaps/thread';\nimport { PathMapper } from '../../util/pathMapper';\nimport { BaseActorProxy } from './base';\n\nlet log = Log.create('WorkerActorProxy');\n\nexport class WorkerActorProxy extends BaseActorProxy {\n\n\tprivate attachPromise?: Promise<string>;\n\tprivate connectPromise?: Promise<[IThreadActorProxy, ConsoleActorProxy]>;\n\n\tconstructor(\n\t\tname: string,\n\t\tpublic readonly url: string,\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate readonly pathMapper: PathMapper,\n\t\tconnection: DebugConnection\n\t) {\n\t\tsuper(name, ['attached', 'connected'], connection);\n\t}\n\n\tpublic attach(): Promise<string> {\n\t\tif (!this.attachPromise) {\n\t\t\tlog.debug(`Attaching worker ${this.name}`);\n\n\t\t\tthis.attachPromise = this.sendRequest<any, FirefoxDebugProtocol.WorkerAttachedResponse>(\n\t\t\t\t{ type: 'attach' }\n\t\t\t).then(response => response.url);\n\t\t\t\n\t\t} else {\n\t\t\tlog.warn('Attaching this worker has already been requested!');\n\t\t}\n\t\t\n\t\treturn this.attachPromise;\n\t}\n\n\tpublic connect(): Promise<[IThreadActorProxy, ConsoleActorProxy]> {\n\t\tif (!this.connectPromise) {\n\t\t\tlog.debug(`Attaching worker ${this.name}`);\n\t\t\tthis.connectPromise = this._connect();\n\t\t} else {\n\t\t\tlog.warn('Connecting this worker has already been requested!');\n\t\t}\n\t\t\n\t\treturn this.connectPromise;\n\t}\n\n\tprivate async _connect(): Promise<[IThreadActorProxy, ConsoleActorProxy]> {\n\n\t\tconst requestTypes = await this.getRequestTypes();\n\t\tconst type = requestTypes.includes('getTarget') ? 'getTarget' : 'connect';\n\t\tconst response: FirefoxDebugProtocol.WorkerConnectedResponse = await this.sendRequest(\n\t\t\t{ type, options: { useSourceMaps: true } }\n\t\t);\n\n\t\tlet threadActor: IThreadActorProxy = this.connection.getOrCreate(\n\t\t\tresponse.threadActor, \n\t\t\t() => new ThreadActorProxy(response.threadActor, this.enableCRAWorkaround, this.connection));\n\n\t\tthreadActor = new SourceMappingThreadActorProxy(threadActor, this.pathMapper, this.connection);\n\n\t\tlet consoleActor = this.connection.getOrCreate(\n\t\t\tresponse.consoleActor,\n\t\t\t() => new ConsoleActorProxy(response.consoleActor, this.connection));\n\n\t\treturn [threadActor, consoleActor];\n\t}\n\n\thandleEvent(event: FirefoxDebugProtocol.Event): void {\n\t\tif (event.type === 'close') {\n\t\t\tlog.debug(`Worker ${this.name} closed`);\n\t\t\tthis.emit('close');\n\t\t} else if (event.type === 'newSource') {\n\t\t\tlog.debug(`Ignored newSource event from worker ${this.name}`);\n\t\t} else {\n\t\t\tlog.warn(\"Unknown message from WorkerActor: \" + JSON.stringify(event));\n\t\t}\n\t}\n\n\tpublic onClose(cb: () => void) {\n\t\tthis.on('close', cb);\n\t}\n}\n","import { Log } from '../../util/log';\nimport { EventEmitter } from 'events';\nimport { DebugConnection } from '../connection';\nimport { ActorProxy } from './interface';\nimport { WorkerActorProxy } from './worker';\nimport { IThreadActorProxy, ThreadActorProxy } from './thread';\nimport { SourceMappingThreadActorProxy } from '../sourceMaps/thread';\nimport { PendingRequests } from '../../util/pendingRequests';\nimport { PathMapper } from '../../util/pathMapper';\n\nlet log = Log.create('TabActorProxy');\n\n/**\n * Proxy class for a tab actor\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#listing-browser-tabs))\n */\nexport class TabActorProxy extends EventEmitter implements ActorProxy {\n\n\tprivate pendingAttachRequests = new PendingRequests<IThreadActorProxy>();\n\tprivate pendingDetachRequests = new PendingRequests<void>();\n\tprivate pendingWorkersRequests = new PendingRequests<Map<string, WorkerActorProxy>>();\n\tprivate pendingReloadRequests = new PendingRequests<void>();\n\tprivate workers = new Map<string, WorkerActorProxy>();\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate _title: string,\n\t\tprivate _url: string,\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate readonly pathMapper: PathMapper,\n\t\tprivate readonly connection: DebugConnection\n\t) {\n\t\tsuper();\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get title(): string {\n\t\treturn this._title;\n\t}\n\n\tpublic get url(): string {\n\t\treturn this._url;\n\t}\n\n\tpublic attach(): Promise<IThreadActorProxy> {\n\n\t\tlog.debug(`Attaching to tab ${this.name}`);\n\n\t\treturn new Promise<IThreadActorProxy>((resolve, reject) => {\n\t\t\tthis.pendingAttachRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'attach' });\n\t\t});\n\t}\n\n\tpublic detach(): Promise<void> {\n\n\t\tlog.debug(`Detaching from tab ${this.name}`);\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingDetachRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'detach' });\n\t\t});\n\t}\n\n\tpublic fetchWorkers(): Promise<Map<string, WorkerActorProxy>> {\n\t\t\n\t\tlog.debug('Fetching workers');\n\t\t\n\t\treturn new Promise<Map<string, WorkerActorProxy>>((resolve, reject) => {\n\t\t\tthis.pendingWorkersRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'listWorkers' });\n\t\t});\n\t}\n\n\tpublic reload(): Promise<void> {\n\t\t\n\t\tlog.debug(`Reloading ${this.name}`);\n\t\t\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingReloadRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'reload' });\n\t\t});\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['threadActor']) {\n\n\t\t\tlog.debug(`Attached to tab ${this.name}`);\n\t\t\tlet tabAttachedResponse = <FirefoxDebugProtocol.TabAttachedResponse>response;\n\n\t\t\tlet threadActor: IThreadActorProxy = this.connection.getOrCreate(\n\t\t\t\ttabAttachedResponse.threadActor, \n\t\t\t\t() => new ThreadActorProxy(tabAttachedResponse.threadActor, this.enableCRAWorkaround, this.connection));\n\n\t\t\tthreadActor = new SourceMappingThreadActorProxy(threadActor, this.pathMapper, this.connection);\n\n\t\t\tthis.emit('attached', threadActor);\n\t\t\tthis.pendingAttachRequests.resolveOne(threadActor);\n\n\t\t} else if (response['type'] === 'exited') {\n\n\t\t\tlog.debug(`Tab ${this.name} exited`);\n\t\t\tthis.pendingAttachRequests.rejectOne(\"exited\");\n\n\t\t} else if (response['type'] === 'detached') {\n\n\t\t\tlog.debug(`Detached from tab ${this.name} as requested`);\n\t\t\tthis.pendingDetachRequests.resolveOne(undefined);\n\n\t\t} else if (response['error'] === 'wrongState') {\n\n\t\t\tlog.warn(`Tab ${this.name} was in the wrong state for the last request`);\n\t\t\tthis.pendingDetachRequests.rejectOne(\"exited\");\n\n\t\t} else if (response['type'] === 'tabDetached') {\n\n\t\t\tlog.debug(`Detached from tab ${this.name} because it was closed`);\n\t\t\t// TODO handle pendingRequests\n\t\t\tthis.emit('detached');\n\n\t\t} else if (response['type'] === 'tabNavigated') {\n\n\t\t\tif (response['state'] === 'start') {\n\n\t\t\t\tthis._url = (<FirefoxDebugProtocol.TabWillNavigateResponse>response).url;\n\t\t\t\tlog.debug(`Tab ${this.name} will navigate to ${this._url}`);\n\t\t\t\tthis.emit('willNavigate');\n\t\t\t\t\n\t\t\t} else if (response['state'] === 'stop') {\n\n\t\t\t\tlet didNavigateResponse = <FirefoxDebugProtocol.TabDidNavigateResponse>response;\n\t\t\t\tthis._url = didNavigateResponse.url;\n\t\t\t\tthis._title = didNavigateResponse.title;\n\t\t\t\tlog.debug(`Tab ${this.name} did navigate to ${this._url}`);\n\t\t\t\tthis.emit('didNavigate');\n\n\t\t\t}\n\n\t\t} else if (response['type'] === 'frameUpdate') {\n\n\t\t\tif (response['destroyAll']) {\n\t\t\t\tthis.emit('framesDestroyed');\n\t\t\t}\n\n\t\t} else if (response['type'] === 'workerListChanged') {\n\t\t\t\n\t\t\tlog.debug('Received workerListChanged event');\n\t\t\tthis.emit('workerListChanged');\n\t\t\t\n\t\t} else if (response['workers']) {\n\n\t\t\tlet workersResponse = <FirefoxDebugProtocol.WorkersResponse>response;\n\t\t\tlet currentWorkers = new Map<string, WorkerActorProxy>();\n\t\t\tlog.debug(`Received ${workersResponse.workers.length} workers`);\n\n\t\t\t// convert the Worker array into a map of WorkerActorProxies, re-using already \n\t\t\t// existing proxies and emitting workerStarted events for new ones\n\t\t\tworkersResponse.workers.forEach((worker) => {\n\n\t\t\t\tlet workerActor: WorkerActorProxy;\n\t\t\t\t\n\t\t\t\tif (this.workers.has(worker.actor)) {\n\n\t\t\t\t\tworkerActor = this.workers.get(worker.actor)!;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlog.debug(`Worker ${worker.actor} started`);\n\n\t\t\t\t\tworkerActor = new WorkerActorProxy(\n\t\t\t\t\t\tworker.actor, worker.url, this.enableCRAWorkaround, this.pathMapper, this.connection);\n\t\t\t\t\tthis.emit('workerStarted', workerActor);\n\n\t\t\t\t}\n\t\t\t\tcurrentWorkers.set(worker.actor, workerActor);\n\t\t\t});\n\n\t\t\t// emit workerStopped events for workers that have disappeared\n\t\t\tthis.workers.forEach((workerActor) => {\n\t\t\t\tif (!currentWorkers.has(workerActor.name)) {\n\t\t\t\t\tlog.debug(`Worker ${workerActor.name} stopped`);\n\t\t\t\t\tthis.emit('workerStopped', workerActor);\n\t\t\t\t\tworkerActor.dispose();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.workers = currentWorkers;\n\t\t\tthis.pendingWorkersRequests.resolveOne(currentWorkers);\n\t\t\t\n\t\t} else if (response['error'] === 'noSuchActor') {\n\n\t\t\tlog.error(`No such actor ${JSON.stringify(this.name)}`);\n\t\t\tthis.pendingAttachRequests.rejectAll('No such actor');\n\t\t\tthis.pendingDetachRequests.rejectAll('No such actor');\n\n\t\t} else if (Object.keys(response).length === 1) {\n\n\t\t\tlog.debug('Received response to reload request');\n\t\t\tthis.pendingReloadRequests.resolveOne(undefined);\n\n\t\t} else {\n\n\t\t\tif (response['type'] === 'frameUpdate') {\n\t\t\t\tlog.debug(`Ignored frameUpdate event from tab ${this.name}`);\n\t\t\t} else if (response['type'] === 'newSource') {\n\t\t\t\tlog.debug(`Ignored newSource event from tab ${this.name}`);\n\t\t\t} else {\n\t\t\t\tlog.warn(\"Unknown message from TabActor: \" + JSON.stringify(response));\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tpublic onAttached(cb: (threadActor: IThreadActorProxy) => void) {\n\t\tthis.on('attached', cb);\n\t}\n\n\tpublic onDetached(cb: () => void) {\n\t\tthis.on('detached', cb);\n\t}\n\n\tpublic onWillNavigate(cb: () => void) {\n\t\tthis.on('willNavigate', cb);\n\t}\n\n\tpublic onDidNavigate(cb: () => void) {\n\t\tthis.on('didNavigate', cb);\n\t}\n\n\tpublic onFramesDestroyed(cb: () => void) {\n\t\tthis.on('framesDestroyed', cb);\n\t}\n\n\tpublic onWorkerListChanged(cb: () => void) {\n\t\tthis.on('workerListChanged', cb);\n\t}\n\n\tpublic onWorkerStarted(cb: (workerActor: WorkerActorProxy) => void) {\n\t\tthis.on('workerStarted', cb);\n\t}\n\n\tpublic onWorkerStopped(cb: (workerActor: WorkerActorProxy) => void) {\n\t\tthis.on('workerStopped', cb);\n\t}\n}\n","import { Log } from '../../util/log';\nimport { EventEmitter } from 'events';\nimport { PendingRequests } from '../../util/pendingRequests';\nimport { PathMapper } from '../../util/pathMapper';\nimport { ActorProxy } from './interface';\nimport { TabActorProxy } from './tab';\nimport { ConsoleActorProxy } from './console';\nimport { DebugConnection } from '../connection';\n\nlet log = Log.create('WebExtensionActorProxy');\n\n/**\n * Proxy class for a WebExtension actor\n * ([spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/addon/webextension.js))\n */\nexport class WebExtensionActorProxy extends EventEmitter implements ActorProxy {\n\n\tprivate pendingConnectRequests = new PendingRequests<[TabActorProxy, ConsoleActorProxy]>();\n\n\tconstructor(\n\t\tprivate readonly webExtensionInfo: FirefoxDebugProtocol.Addon,\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate readonly pathMapper: PathMapper,\n\t\tprivate readonly connection: DebugConnection\n\t) {\n\t\tsuper();\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get name() {\n\t\treturn this.webExtensionInfo.actor;\n\t}\n\n\tpublic connect(): Promise<[TabActorProxy, ConsoleActorProxy]> {\n\n\t\tlog.debug('Connecting using connect request');\n\n\t\treturn new Promise<[TabActorProxy, ConsoleActorProxy]>((resolve, reject) => {\n\t\t\tthis.pendingConnectRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'connect' });\n\t\t})\n\t}\n\n\tpublic getTarget(): Promise<[TabActorProxy, ConsoleActorProxy]> {\n\n\t\tlog.debug('Connecting using getTarget request');\n\n\t\treturn new Promise<[TabActorProxy, ConsoleActorProxy]>((resolve, reject) => {\n\t\t\tthis.pendingConnectRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getTarget' });\n\t\t})\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['form']) {\n\n\t\t\tlet connectResponse = <FirefoxDebugProtocol.ProcessResponse>response;\n\t\t\tlog.debug('Received connect response');\n\t\t\tthis.pendingConnectRequests.resolveOne([\n\t\t\t\tnew TabActorProxy(\n\t\t\t\t\tconnectResponse.form.actor, this.webExtensionInfo.name, connectResponse.form.url,\n\t\t\t\t\tthis.enableCRAWorkaround, this.pathMapper, this.connection),\n\t\t\t\tnew ConsoleActorProxy(connectResponse.form.consoleActor, this.connection)\n\t\t\t]);\n\n\t\t} else if (response['error']) {\n\n\t\t\tlet msg = response['message'];\n\t\t\tlog.warn(`Error message from WebExtensionActor: ${msg}`);\n\n\t\t\tif (msg && msg.startsWith('Extension not found')) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'connect' });\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from WebExtensionActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}\n","import * as path from 'path';\nimport { ParsedAddonConfiguration } from '../configuration';\nimport { RootActorProxy } from '../firefox/actorProxy/root';\nimport { AddonsActorProxy } from '../firefox/actorProxy/addons';\nimport { PreferenceActorProxy } from '../firefox/actorProxy/preference';\nimport { ConsoleActorProxy } from '../firefox/actorProxy/console';\nimport { WebExtensionActorProxy } from '../firefox/actorProxy/webExtension';\nimport { TabActorProxy } from '../firefox/actorProxy/tab';\nimport { FirefoxDebugSession } from '../firefoxDebugSession';\nimport { PopupAutohideEventBody } from '../../common/customEvents';\nimport { isWindowsPlatform } from '../../common/util';\n\nexport const popupAutohidePreferenceKey = 'ui.popup.disable_autohide';\n\n/**\n * When debugging a WebExtension, this class installs the WebExtension, attaches to it, reloads it\n * when desired and tells the [`PopupAutohideManager`](../../extension/popupAutohideManager.ts) the\n * initial state of the popup auto-hide flag by sending a custom event.\n */\nexport class AddonManager {\n\n\tprivate readonly config: ParsedAddonConfiguration;\n\n\tprivate addonAttached = false;\n\tprivate addonActor: TabActorProxy | undefined = undefined;\n\n\tconstructor(\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate readonly debugSession: FirefoxDebugSession\n\t) {\n\t\tthis.config = debugSession.config.addon!;\n\t}\n\n\tpublic async sessionStarted(\n\t\trootActor: RootActorProxy,\n\t\taddonsActor: AddonsActorProxy,\n\t\tpreferenceActor: PreferenceActorProxy,\n\t\tuseConnect: boolean\n\t): Promise<void> {\n\n\t\tconst addonPath = isWindowsPlatform() ? path.normalize(this.config.path) : this.config.path;\n\t\tlet result = await addonsActor.installAddon(addonPath);\n\t\tif (!this.config.id) {\n\t\t\tthis.config.id = result.addon.id;\n\t\t}\n\n\t\tthis.fetchAddonsAndAttach(rootActor, useConnect);\n\n\t\tif (this.config.popupAutohideButton) {\n\t\t\tconst popupAutohide = !(await preferenceActor.getBoolPref(popupAutohidePreferenceKey));\n\t\t\tthis.debugSession.sendCustomEvent('popupAutohide', <PopupAutohideEventBody>{ popupAutohide });\n\t\t}\n\t}\n\n\tpublic async reloadAddon(): Promise<void> {\n\t\tif (!this.addonActor) {\n\t\t\tthrow 'Addon isn\\'t attached';\n\t\t}\n\n\t\tawait this.addonActor.reload();\n\t}\n\n\tprivate async fetchAddonsAndAttach(rootActor: RootActorProxy, useConnect: boolean): Promise<void> {\n\n\t\tif (this.addonAttached) return;\n\n\t\tlet addons = await rootActor.fetchAddons();\n\n\t\tif (this.addonAttached) return;\n\n\t\taddons.forEach((addon) => {\n\t\t\tif (addon.id === this.config.id) {\n\t\t\t\t(async () => {\n\n\t\t\t\t\tlet consoleActor: ConsoleActorProxy;\n\t\t\t\t\tlet webExtensionActor = new WebExtensionActorProxy(\n\t\t\t\t\t\taddon, this.enableCRAWorkaround, this.debugSession.pathMapper,\n\t\t\t\t\t\tthis.debugSession.firefoxDebugConnection);\n\n\t\t\t\t\tif (useConnect) {\n\t\t\t\t\t\t[this.addonActor, consoleActor] = await webExtensionActor.connect();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t[this.addonActor, consoleActor] = await webExtensionActor.getTarget();\n\t\t\t\t\t}\n\n\t\t\t\t\tlet threadAdapter = await this.debugSession.attachTabOrAddon(\n\t\t\t\t\t\tthis.addonActor, consoleActor, 'Addon');\n\t\t\t\t\tif (threadAdapter !== undefined) {\n\t\t\t\t\t\tthis.debugSession.attachConsole(consoleActor, threadAdapter);\n\t\t\t\t\t}\n\t\t\t\t\tthis.addonAttached = true;\n\t\t\t\t})();\n\t\t\t}\n\t\t});\n\t}\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"child_process\");;","import { Log } from '../util/log';\nimport { EventEmitter } from 'events';\n\nlet log = Log.create('DebugProtocolTransport');\n\n/**\n * Implements the Remote Debugging Protocol Stream Transport as defined in\n * https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#stream-transport\n * Currently bulk data packets are unsupported and error handling is nonexistent\n */\nexport class DebugProtocolTransport extends EventEmitter {\n\n\tprivate static initialBufferLength = 11; // must be large enough to receive a complete header\n\tprivate buffer: Buffer;\n\tprivate bufferedLength: number;\n\tprivate receivingHeader: boolean;\n\n\tconstructor(\n\t\tprivate socket: SocketLike\n\t) {\n\t\tsuper();\n\n\t\tthis.buffer = Buffer.alloc(DebugProtocolTransport.initialBufferLength);\n\t\tthis.bufferedLength = 0;\n\t\tthis.receivingHeader = true;\n\n\t\tthis.socket.on('data', (chunk: Buffer) => {\n\n\t\t\tlet processedLength = 0;\n\t\t\twhile (processedLength < chunk.length) {\n\t\t\t\t// copy the maximum number of bytes possible into this.buffer\n\t\t\t\tlet copyLength = Math.min(chunk.length - processedLength, this.buffer.length - this.bufferedLength);\n\t\t\t\tchunk.copy(this.buffer, this.bufferedLength, processedLength, processedLength + copyLength);\n\t\t\t\tprocessedLength += copyLength;\n\t\t\t\tthis.bufferedLength += copyLength;\n\n\t\t\t\tif (this.receivingHeader) {\n\t\t\t\t\t// did we receive a complete header yet?\n\t\t\t\t\tfor (var i = 0; i < this.bufferedLength; i++) {\n\t\t\t\t\t\tif (this.buffer[i] === 58) {\n\t\t\t\t\t\t\t// header is complete: parse it\n\t\t\t\t\t\t\tlet bodyLength = +this.buffer.toString('ascii', 0, i);\n\t\t\t\t\t\t\tif (bodyLength > 1000000) {\n\t\t\t\t\t\t\t\tlog.debug(`Going to receive message with ${bodyLength} bytes in body (initial chunk contained ${chunk.length} bytes)`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// create a buffer for the message body\n\t\t\t\t\t\t\tlet bodyBuffer = Buffer.alloc(bodyLength);\n\t\t\t\t\t\t\t// copy the start of the body from this.buffer\n\t\t\t\t\t\t\tthis.buffer.copy(bodyBuffer, 0, i + 1);\n\t\t\t\t\t\t\t// replace this.buffer with bodyBuffer\n\t\t\t\t\t\t\tthis.buffer = bodyBuffer;\n\t\t\t\t\t\t\tthis.bufferedLength = this.bufferedLength - (i + 1);\n\t\t\t\t\t\t\tthis.receivingHeader = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// did we receive the complete body yet?\n\t\t\t\t\tif (this.bufferedLength === this.buffer.length) {\n\t\t\t\t\t\tif (this.bufferedLength > 1000000) {\n\t\t\t\t\t\t\tlog.info(`Received ${this.bufferedLength} bytes`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// body is complete: parse and emit it\n\t\t\t\t\t\tlet msgString = this.buffer.toString('utf8');\n\t\t\t\t\t\tthis.emit('message', JSON.parse(msgString));\n\t\t\t\t\t\t// get ready to receive the next header\n\t\t\t\t\t\tthis.buffer = Buffer.alloc(DebugProtocolTransport.initialBufferLength);\n\t\t\t\t\t\tthis.bufferedLength = 0;\n\t\t\t\t\t\tthis.receivingHeader = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic sendMessage(msg: any): void {\n\t\tlet msgBuf = Buffer.from(JSON.stringify(msg), 'utf8');\n\t\tthis.socket.write(msgBuf.length + ':', 'ascii');\n\t\tthis.socket.write(msgBuf);\n\t}\n\t\n\tpublic disconnect(): Promise<void> {\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.socket.on('close', () => resolve());\n\t\t\tthis.socket.end();\n\t\t});\n\t}\n}\n\nexport interface SocketLike {\n\ton(event: string, listener: Function): EventEmitter;\n\twrite(buffer: Buffer): boolean;\n\twrite(str: string, encoding: string): boolean;\n\tend(): void;\n}\n","import { Log } from '../../util/log';\nimport { PendingRequest } from '../../util/pendingRequests';\nimport { PathMapper } from '../../util/pathMapper';\nimport { ActorProxy } from './interface';\nimport { TabActorProxy } from './tab';\nimport { ConsoleActorProxy } from './console';\nimport { DebugConnection } from '../connection';\n\nlet log = Log.create('TabDescriptorActorProxy');\n\n/**\n * Proxy class for a TabDescriptor actor\n */\nexport class TabDescriptorActorProxy implements ActorProxy {\n\n\tprivate pendingGetTargetRequest?:PendingRequest<[TabActorProxy, ConsoleActorProxy]>;\n\tprivate getTargetPromise?: Promise<[TabActorProxy, ConsoleActorProxy]>;\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate readonly pathMapper: PathMapper,\n\t\tprivate readonly connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic getTarget(): Promise<[TabActorProxy, ConsoleActorProxy]> {\n\n\t\tif (!this.getTargetPromise) {\n\n\t\t\tlog.debug('Connecting to tab');\n\n\t\t\tthis.getTargetPromise = new Promise<[TabActorProxy, ConsoleActorProxy]>((resolve, reject) => {\n\t\t\t\tthis.pendingGetTargetRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getTarget' });\n\t\t\t});\n\t\t}\n\n\t\treturn this.getTargetPromise;\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['frame']) {\n\n\t\t\tlog.debug('Received getTarget response');\n\n\t\t\tif (this.pendingGetTargetRequest) {\n\n\t\t\t\tconst getTargetResponse = <FirefoxDebugProtocol.TabDescriptorTargetResponse>response;\n\n\t\t\t\tthis.pendingGetTargetRequest.resolve([\n\t\t\t\t\tnew TabActorProxy(\n\t\t\t\t\t\tgetTargetResponse.frame.actor, getTargetResponse.frame.title, getTargetResponse.frame.url,\n\t\t\t\t\t\tthis.enableCRAWorkaround, this.pathMapper, this.connection),\n\t\t\t\t\tnew ConsoleActorProxy(getTargetResponse.frame.consoleActor, this.connection)\n\t\t\t\t]);\n\n\t\t\t} else {\n\t\t\t\tlog.warn(`Got target for ${this.name} without a corresponding request`);\n\t\t\t}\n\n\t\t} else if (response['error']) {\n\n\t\t\tlet msg = response['message'];\n\t\t\tlog.warn(`Error message from TabDescriptorActor: ${msg}`);\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from TabDescriptorActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}\n","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { ActorProxy } from './interface';\nimport { PendingRequests } from '../../util/pendingRequests';\n\nlet log = Log.create('PreferenceActorProxy');\n\n/**\n * Proxy class for a preference actor\n * ([spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/preference.js))\n */\nexport class PreferenceActorProxy implements ActorProxy {\n\n\tprivate pendingGetPrefRequests = new PendingRequests<string>();\n\tprivate pendingSetPrefRequests = new PendingRequests<void>();\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic async getBoolPref(pref: string): Promise<boolean> {\n\n\t\tlet prefString = await this.getPref(pref, 'Bool');\n\t\treturn (prefString === 'true');\n\n\t}\n\n\tpublic getCharPref(pref: string): Promise<string> {\n\n\t\treturn this.getPref(pref, 'Char');\n\n\t}\n\n\tpublic async getIntPref(pref: string): Promise<number> {\n\n\t\tlet prefString = await this.getPref(pref, 'Bool');\n\t\treturn parseInt(prefString, 10);\n\n\t}\n\n\tpublic setBoolPref(pref: string, val: boolean): Promise<void> {\n\n\t\treturn this.setPref(pref, val, 'Bool');\n\n\t}\n\n\tpublic setCharPref(pref: string, val: string): Promise<void> {\n\n\t\treturn this.setPref(pref, val, 'Char');\n\n\t}\n\n\tpublic setIntPref(pref: string, val: number): Promise<void> {\n\n\t\treturn this.setPref(pref, val, 'Int');\n\n\t}\n\n\tprivate getPref(\n\t\tpref: string,\n\t\ttype: 'Bool' | 'Char' | 'Int'\n\t): Promise<string> {\n\n\t\tlog.debug(`Getting preference value for ${pref}`);\n\n\t\treturn new Promise<string>((resolve, reject) => {\n\t\t\tthis.pendingGetPrefRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ \n\t\t\t\tto: this.name,\n\t\t\t\ttype: `get${type}Pref`,\n\t\t\t\tvalue: pref\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate setPref(\n\t\tpref: string,\n\t\tval: boolean | string | number,\n\t\ttype: 'Bool' | 'Char' | 'Int'\n\t): Promise<void> {\n\n\t\tlog.debug(`Setting preference value for ${pref} to ${val}`);\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingSetPrefRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ \n\t\t\t\tto: this.name,\n\t\t\t\ttype: `set${type}Pref`,\n\t\t\t\tname: pref,\n\t\t\t\tvalue: val\n\t\t\t});\n\t\t});\n\t}\n\n\treceiveResponse(response: any): void {\n\n\t\tif (response['value'] !== undefined) {\n\n\t\t\tthis.pendingGetPrefRequests.resolveOne(response['value'].toString());\n\n\t\t} else if (Object.keys(response).length === 1) {\n\n\t\t\tthis.pendingSetPrefRequests.resolveOne(undefined);\n\n\t\t} else if (response['error']) {\n\n\t\t\tlog.warn(\"Error from PreferenceActor: \" + JSON.stringify(response));\n\t\t\tthis.pendingGetPrefRequests.rejectOne(response['message'] || response['error']);\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from PreferenceActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { ActorProxy } from './interface';\nimport { PendingRequests } from '../../util/pendingRequests';\n\nlet log = Log.create('AddonsActorProxy');\n\n/**\n * Proxy class for an addons actor\n * ([spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/addon/addons.js))\n */\nexport class AddonsActorProxy implements ActorProxy {\n\n\tprivate pendingInstallRequests = new PendingRequests<FirefoxDebugProtocol.InstallAddonResponse>();\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic installAddon(addonPath: string): Promise<FirefoxDebugProtocol.InstallAddonResponse> {\n\n\t\tlog.debug(`Installing addon from ${addonPath}`);\n\n\t\treturn new Promise<FirefoxDebugProtocol.InstallAddonResponse>((resolve, reject) => {\n\t\t\tthis.pendingInstallRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ \n\t\t\t\tto: this.name,\n\t\t\t\ttype: 'installTemporaryAddon',\n\t\t\t\taddonPath\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['addon']) {\n\n\t\t\tlet installAddonResponse = <FirefoxDebugProtocol.InstallAddonResponse>response;\n\t\t\tthis.pendingInstallRequests.resolveOne(installAddonResponse);\n\n\t\t} else if (response['error']) {\n\n\t\t\tlog.warn(\"Error from AddonsActor: \" + JSON.stringify(response));\n\t\t\tthis.pendingInstallRequests.rejectOne(response['message'] || response['error']);\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from AddonsActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { PendingRequest } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\n\nlet log = Log.create('DeviceActorProxy');\n\n/**\n * Proxy class for the device actor\n */\nexport class DeviceActorProxy implements ActorProxy {\n\n\tprivate pendingDescriptionRequest?: PendingRequest<FirefoxDebugProtocol.DeviceDescription>;\n\tprivate descriptionPromise?: Promise<FirefoxDebugProtocol.DeviceDescription>;\n\n\tconstructor(\n\t\tpublic readonly name: string,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic getDescription(): Promise<FirefoxDebugProtocol.DeviceDescription> {\n\t\tif (!this.descriptionPromise) {\n\n\t\t\tlog.debug('Getting device description');\n\n\t\t\tthis.descriptionPromise =new Promise<FirefoxDebugProtocol.DeviceDescription>((resolve, reject) => {\n\t\t\t\tthis.pendingDescriptionRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getDescription' });\n\t\t\t});\n\t\t}\n\n\t\treturn this.descriptionPromise;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['value']) {\n\n\t\t\tlog.debug('Device description received');\n\n\t\t\tif (this.pendingDescriptionRequest) {\n\n\t\t\t\tthis.pendingDescriptionRequest.resolve(response['value']);\n\t\t\t\tthis.pendingDescriptionRequest = undefined;\n\n\t\t\t} else {\n\t\t\t\tlog.warn('Received getDescription response without a corresponding request');\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from DeviceActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}\n","import { Log } from '../../util/log';\nimport { EventEmitter } from 'events';\nimport { PendingRequests, PendingRequest } from '../../util/pendingRequests';\nimport { PathMapper } from '../../util/pathMapper';\nimport { ActorProxy } from './interface';\nimport { TabActorProxy } from './tab';\nimport { TabDescriptorActorProxy } from './tabDescriptor';\nimport { ConsoleActorProxy } from './console';\nimport { PreferenceActorProxy } from './preference';\nimport { AddonsActorProxy } from './addons';\nimport { DeviceActorProxy } from './device';\nimport { DebugConnection } from '../connection';\n\nlet log = Log.create('RootActorProxy');\n\nexport interface FetchRootResult {\n\tpreference: PreferenceActorProxy,\n\taddons: AddonsActorProxy | undefined,\n\tdevice: DeviceActorProxy\n}\n\n/**\n * Proxy class for a root actor\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#the-root-actor),\n * [spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/root.js))\n */\nexport class RootActorProxy extends EventEmitter implements ActorProxy {\n\n\tprivate tabs = new Map<string, [TabActorProxy, ConsoleActorProxy]>();\n\tprivate pendingRootRequest?: PendingRequest<FetchRootResult>;\n\tprivate rootPromise?: Promise<FetchRootResult>;\n\tprivate pendingProcessRequests = new PendingRequests<[TabActorProxy, ConsoleActorProxy]>();\n\tprivate pendingTabsRequests = new PendingRequests<Map<string, [TabActorProxy, ConsoleActorProxy]>>();\n\tprivate pendingAddonsRequests = new PendingRequests<FirefoxDebugProtocol.Addon[]>();\n\n\tconstructor(\n\t\tprivate readonly enableCRAWorkaround: boolean,\n\t\tprivate readonly pathMapper: PathMapper,\n\t\tprivate readonly connection: DebugConnection\n\t) {\n\t\tsuper();\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get name() {\n\t\treturn 'root';\n\t}\n\n\tpublic fetchRoot(): Promise<FetchRootResult> {\n\t\tif (!this.rootPromise) {\n\n\t\t\tlog.debug('Fetching root');\n\n\t\t\tthis.rootPromise = new Promise<FetchRootResult>((resolve, reject) => {\n\t\t\t\tthis.pendingRootRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getRoot' });\n\t\t\t});\n\t\t}\n\n\t\treturn this.rootPromise;\n\t}\n\n\tpublic fetchProcess(): Promise<[TabActorProxy, ConsoleActorProxy]> {\n\n\t\tlog.debug('Fetching process');\n\n\t\treturn new Promise<[TabActorProxy, ConsoleActorProxy]>((resolve, reject) => {\n\t\t\tthis.pendingProcessRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getProcess' });\n\t\t})\n\t}\n\n\tpublic fetchTabs(): Promise<Map<string, [TabActorProxy, ConsoleActorProxy]>> {\n\n\t\tlog.debug('Fetching tabs');\n\n\t\treturn new Promise<Map<string, [TabActorProxy, ConsoleActorProxy]>>((resolve, reject) => {\n\t\t\tthis.pendingTabsRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'listTabs' });\n\t\t})\n\t}\n\n\tpublic fetchAddons(): Promise<FirefoxDebugProtocol.Addon[]> {\n\n\t\tlog.debug('Fetching addons');\n\n\t\treturn new Promise<FirefoxDebugProtocol.Addon[]>((resolve, reject) => {\n\t\t\tthis.pendingAddonsRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'listAddons' });\n\t\t})\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['applicationType']) {\n\n\t\t\tthis.emit('init', response);\n\n\t\t} else if (response['tabs']) {\n\n\t\t\tlet tabsResponse = <FirefoxDebugProtocol.TabsResponse>response;\n\t\t\tlet currentTabs = new Map<string, [TabActorProxy, ConsoleActorProxy]>();\n\n\t\t\t// sometimes Firefox returns 0 tabs if the listTabs request was sent \n\t\t\t// shortly after launching it\n\t\t\tif (tabsResponse.tabs.length === 0) {\n\t\t\t\tlog.info('Received 0 tabs - will retry in 100ms');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'listTabs' });\n\t\t\t\t}, 100);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlog.debug(`Received ${tabsResponse.tabs.length} tabs`);\n\n\t\t\t// convert the Tab array into a map of TabActorProxies, re-using already \n\t\t\t// existing proxies and emitting tabOpened events for new ones\n\t\t\tPromise.all(tabsResponse.tabs.map(async tab => {\n\n\t\t\t\tlet actorsForTab: [TabActorProxy, ConsoleActorProxy];\n\t\t\t\tif (this.tabs.has(tab.actor)) {\n\n\t\t\t\t\tactorsForTab = this.tabs.get(tab.actor)!;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlog.debug(`Tab ${tab.actor} opened`);\n\n\t\t\t\t\tif ((tab as FirefoxDebugProtocol.Tab).consoleActor) {\n\n\t\t\t\t\t\tconst _tab = tab as FirefoxDebugProtocol.Tab;\n\t\t\t\t\t\tactorsForTab = [\n\t\t\t\t\t\t\tnew TabActorProxy(tab.actor, _tab.title, _tab.url,\n\t\t\t\t\t\t\t\tthis.enableCRAWorkaround, this.pathMapper, this.connection),\n\t\t\t\t\t\t\tnew ConsoleActorProxy(_tab.consoleActor, this.connection)\n\t\t\t\t\t\t];\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst tabDescriptorActor = new TabDescriptorActorProxy(\n\t\t\t\t\t\t\ttab.actor, this.enableCRAWorkaround, this.pathMapper, this.connection);\n\t\t\t\t\t\tactorsForTab = await tabDescriptorActor.getTarget();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.emit('tabOpened', actorsForTab);\n\t\t\t\t}\n\n\t\t\t\tcurrentTabs.set(tab.actor, actorsForTab);\n\n\t\t\t})).then(() => {\n\n\t\t\t\t// emit tabClosed events for tabs that have disappeared\n\t\t\t\tthis.tabs.forEach((actorsForTab, tabActorName) => {\n\t\t\t\t\tif (!currentTabs.has(tabActorName)) {\n\t\t\t\t\t\tlog.debug(`Tab ${tabActorName} closed`);\n\t\t\t\t\t\tthis.emit('tabClosed', actorsForTab);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.tabs = currentTabs;\n\t\t\n\t\t\t\tthis.pendingTabsRequests.resolveOne(currentTabs);\n\t\t\t});\n\n\t\t} else if (response['preferenceActor']) {\n\n\t\t\tlog.debug('Received root response');\n\n\t\t\tlet rootResponse = <FirefoxDebugProtocol.RootResponse>response;\n\t\t\tif (this.pendingRootRequest) {\n\n\t\t\t\tlet preferenceActor = this.connection.getOrCreate(rootResponse.preferenceActor,\n\t\t\t\t\t() => new PreferenceActorProxy(rootResponse.preferenceActor, this.connection));\n\t\n\t\t\t\tlet addonsActor: AddonsActorProxy | undefined;\n\t\t\t\tconst addonsActorName = rootResponse.addonsActor;\n\t\t\t\tif (addonsActorName) {\n\t\t\t\t\taddonsActor = this.connection.getOrCreate(addonsActorName,\n\t\t\t\t\t\t() => new AddonsActorProxy(addonsActorName, this.connection));\n\t\t\t\t}\n\n\t\t\t\tconst deviceActor = this.connection.getOrCreate(rootResponse.deviceActor,\n\t\t\t\t\t() => new DeviceActorProxy(rootResponse.deviceActor, this.connection));\n\n\t\t\t\tthis.pendingRootRequest.resolve({ \n\t\t\t\t\tpreference: preferenceActor,\n\t\t\t\t\taddons: addonsActor,\n\t\t\t\t\tdevice: deviceActor\n\t\t\t\t});\n\t\t\t\tthis.pendingRootRequest = undefined;\n\n\t\t\t} else {\n\t\t\t\tlog.warn('Received root response without a corresponding request');\n\t\t\t}\n\n\t\t} else if (response['type'] === 'tabListChanged') {\n\n\t\t\tlog.debug('Received tabListChanged event');\n\t\t\t\n\t\t\tthis.emit('tabListChanged');\n\n\t\t} else if (response['addons']) {\n\n\t\t\tlet addonsResponse = <FirefoxDebugProtocol.AddonsResponse>response;\n\t\t\tlog.debug(`Received ${addonsResponse.addons.length} addons`);\n\t\t\tthis.pendingAddonsRequests.resolveOne(addonsResponse.addons);\n\n\t\t} else if (response['type'] === 'addonListChanged') {\n\n\t\t\tlog.debug('Received addonListChanged event');\n\t\t\t\n\t\t\tthis.emit('addonListChanged');\n\n\t\t} else if (response['form']) {\n\n\t\t\tlet processResponse = <FirefoxDebugProtocol.ProcessResponse>response;\n\t\t\tlog.debug('Received getProcess response');\n\t\t\tthis.pendingProcessRequests.resolveOne([\n\t\t\t\tnew TabActorProxy(\n\t\t\t\t\tprocessResponse.form.actor, 'Browser', processResponse.form.url,\n\t\t\t\t\tthis.enableCRAWorkaround, this.pathMapper, this.connection),\n\t\t\t\tnew ConsoleActorProxy(processResponse.form.consoleActor, this.connection)\n\t\t\t]);\n\n\t\t} else {\n\n\t\t\tif (response['type'] === 'forwardingCancelled') {\n\t\t\t\tlog.debug(`Received forwardingCancelled event from ${this.name} (ignoring)`);\n\t\t\t} else {\n\t\t\t\tlog.warn(\"Unknown message from RootActor: \" + JSON.stringify(response));\n\t\t\t}\n\n\t\t}\n\t}\n\n\tpublic onInit(cb: (response: FirefoxDebugProtocol.InitialResponse) => void) {\n\t\tthis.on('init', cb);\n\t}\n\n\tpublic onTabOpened(cb: (actorsForTab: [TabActorProxy, ConsoleActorProxy]) => void) {\n\t\tthis.on('tabOpened', cb);\n\t}\n\n\tpublic onTabClosed(cb: (actorsForTab: [TabActorProxy, ConsoleActorProxy]) => void) {\n\t\tthis.on('tabClosed', cb);\n\t}\n\n\tpublic onTabListChanged(cb: () => void) {\n\t\tthis.on('tabListChanged', cb);\n\t}\n\n\tpublic onAddonListChanged(cb: () => void) {\n\t\tthis.on('addonListChanged', cb);\n\t}\n}\n","import { Log } from '../util/log';\nimport { Socket } from 'net';\nimport { DebugProtocolTransport } from './transport';\nimport { ActorProxy } from './actorProxy/interface';\nimport { RootActorProxy } from './actorProxy/root';\nimport { PathMapper } from '../util/pathMapper';\n\nlet log = Log.create('DebugConnection');\n\n/**\n * Connects to a target supporting the Firefox Debugging Protocol and sends and receives messages\n */\nexport class DebugConnection {\n\n\tprivate transport: DebugProtocolTransport;\n\tprivate actors: Map<string, ActorProxy>;\n\tpublic readonly rootActor: RootActorProxy;\n\n\tconstructor(\n\t\tenableCRAWorkaround: boolean,\n\t\tpathMapper: PathMapper,\n\t\tsocket: Socket\n\t) {\n\n\t\tthis.actors = new Map<string, ActorProxy>();\n\t\tthis.rootActor = new RootActorProxy(enableCRAWorkaround, pathMapper, this);\n\t\tthis.transport = new DebugProtocolTransport(socket);\n\n\t\tthis.transport.on('message', (response: FirefoxDebugProtocol.Response) => {\n\t\t\tif (this.actors.has(response.from)) {\n\t\t\t\tif (log.isDebugEnabled()) {\n\t\t\t\t\tlog.debug(`Received response/event ${JSON.stringify(response)}`);\n\t\t\t\t}\n\t\t\t\tthis.actors.get(response.from)!.receiveResponse(response);\n\t\t\t} else {\n\t\t\t\tlog.error('Unknown actor: ' + JSON.stringify(response));\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic sendRequest<T extends FirefoxDebugProtocol.Request>(request: T) {\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Sending request ${JSON.stringify(request)}`);\n\t\t}\n\t\tthis.transport.sendMessage(request);\n\t}\n\n\tpublic register(actor: ActorProxy): void {\n\t\tthis.actors.set(actor.name, actor);\n\t}\n\n\tpublic unregister(actor: ActorProxy): void {\n\t\tthis.actors.delete(actor.name);\n\t}\n\n\tpublic has(actorName: string): boolean {\n\t\treturn this.actors.has(actorName);\n\t}\n\n\tpublic getOrCreate<T extends ActorProxy>(actorName: string, createActor: () => T): T {\n\t\tif (this.actors.has(actorName)) {\n\t\t\treturn <T>this.actors.get(actorName);\n\t\t} else {\n\t\t\treturn createActor();\n\t\t}\n\t}\n\t\n\tpublic disconnect(): Promise<void> {\n\t\treturn this.transport.disconnect();\n\t}\n}\n","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { PendingRequests } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\n\nlet log = Log.create('ObjectGripActorProxy');\n\n/**\n * Proxy class for an object grip actor\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#objects),\n * [spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/object.js))\n */\nexport class ObjectGripActorProxy implements ActorProxy {\n\n\tprivate _refCount = 0;\n\n \tprivate pendingPrototypeAndPropertiesRequests = new PendingRequests<FirefoxDebugProtocol.PrototypeAndPropertiesResponse>();\n \tprivate pendingVoidRequests = new PendingRequests<void>();\n\n\tconstructor(\n\t\tprivate grip: FirefoxDebugProtocol.ObjectGrip,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get name() {\n\t\treturn this.grip.actor;\n\t}\n\n\tpublic get refCount() {\n\t\treturn this._refCount;\n\t}\n\n\tpublic increaseRefCount() {\n\t\tthis._refCount++;\n\t}\n\n\tpublic decreaseRefCount() {\n\t\tthis._refCount--;\n\t\tif (this._refCount === 0) {\n\t\t\tthis.connection.unregister(this);\n\t\t}\n\t}\n\n\tpublic fetchPrototypeAndProperties(): Promise<FirefoxDebugProtocol.PrototypeAndPropertiesResponse> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Fetching prototype and properties from ${this.name}`);\n\t\t}\n\n\t\treturn new Promise<FirefoxDebugProtocol.PrototypeAndPropertiesResponse>((resolve, reject) => {\n\t\t\tthis.pendingPrototypeAndPropertiesRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'prototypeAndProperties' });\n\t\t});\n\t}\n\n\tpublic addWatchpoint(property: string, label: string, watchpointType: 'get' | 'set'): Promise<void> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Adding watchpoint for ${property} on ${this.name}`);\n\t\t}\n\n\t\tthis.connection.sendRequest({\n\t\t\tto: this.name, type: 'addWatchpoint',\n\t\t\tproperty, label, watchpointType\n\t\t});\n\n\t\treturn Promise.resolve();\n\t}\n\n\tpublic removeWatchpoint(property: string): Promise<void> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Removing watchpoint for ${property} on ${this.name}`);\n\t\t}\n\n\t\tthis.connection.sendRequest({\n\t\t\tto: this.name, type: 'removeWatchpoint',\n\t\t\tproperty\n\t\t});\n\n\t\treturn Promise.resolve();\n\t}\n\n\tpublic threadLifetime(): Promise<void> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Extending lifetime of ${this.name}`);\n\t\t}\n\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis.pendingVoidRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'threadGrip' });\n\t\t});\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif ((response['prototype'] !== undefined) && (response['ownProperties'] !== undefined)) {\n\n\t\t\tif (log.isDebugEnabled()) {\n\t\t\t\tlog.debug(`Prototype and properties fetched from ${this.name}`);\n\t\t\t}\n\t\t\tthis.pendingPrototypeAndPropertiesRequests.resolveOne(<FirefoxDebugProtocol.PrototypeAndPropertiesResponse>response);\n\n\t\t} else if (Object.keys(response).length === 1) {\n\n\t\t\tif (log.isDebugEnabled()) {\n\t\t\t\tlog.debug(`Void response from ${this.name}`);\n\t\t\t}\n\t\t\tthis.pendingVoidRequests.resolveOne(undefined);\n\n\t\t} else if (response['error'] === 'noSuchActor') {\n\n\t\t\tlog.warn(`No such actor ${this.grip.actor} - you will not be able to inspect this value; this is probably due to Firefox bug #1249962`);\n\t\t\tthis.pendingPrototypeAndPropertiesRequests.rejectAll('No such actor');\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from ObjectGripActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}\n","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { PendingRequests } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\n\nlet log = Log.create('LongStringGripActorProxy');\n\n/**\n * Proxy class for a long string grip actor\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#long-strings),\n * [spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/string.js))\n */\nexport class LongStringGripActorProxy implements ActorProxy {\n\n\tprivate pendingSubstringRequests = new PendingRequests<string>();\n\n\tconstructor(\n\t\tprivate grip: FirefoxDebugProtocol.LongStringGrip,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get name() {\n\t\treturn this.grip.actor;\n\t}\n\n\tpublic extendLifetime() {\n\t\tthis.connection.sendRequest({ to: this.name, type: 'threadGrip' });\n\t}\n\n\tpublic fetchContent(): Promise<string> {\n\n\t\tlog.debug(`Fetching content from long string ${this.name}`);\n\n\t\treturn new Promise<string>((resolve, reject) => {\n\t\t\tthis.pendingSubstringRequests.enqueue({ resolve, reject });\n\t\t\tthis.connection.sendRequest({ to: this.name, type: 'substring', start: 0, end: this.grip.length });\n\t\t});\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (response['substring'] !== undefined) {\n\n\t\t\tlog.debug(`Content fetched from ${this.name}`);\n\t\t\tthis.pendingSubstringRequests.resolveOne(response['substring']);\n\n\t\t} else if (response['error'] === 'noSuchActor') {\n\n\t\t\tlog.warn(`No such actor ${this.grip.actor} - you will not be able to inspect this value; this is probably due to Firefox bug #1249962`);\n\t\t\tthis.pendingSubstringRequests.rejectAll('No such actor');\n\n\t\t} else if (Object.keys(response).length === 1) {\n\n\t\t\tlog.debug('Received response to threadGrip or release request');\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown message from LongStringActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n}\n","import { VariablesProvider } from './variablesProvider';\nimport { VariableAdapter } from './variable';\nimport { FrameAdapter } from './frame';\nimport { ThreadAdapter } from './thread';\nimport { ObjectGripActorProxy } from '../firefox/actorProxy/objectGrip';\n\n/**\n * Adapter class for a javascript object.\n */\nexport class ObjectGripAdapter implements VariablesProvider {\n\n\tpublic readonly variablesProviderId: number;\n\tpublic readonly actor: ObjectGripActorProxy;\n\tpublic get threadAdapter(): ThreadAdapter {\n\t\treturn this.variableAdapter.threadAdapter;\n\t}\n\t/** a javascript expression for accessing the object represented by this adapter */\n\tpublic get referenceExpression(): string | undefined {\n\t\treturn this.variableAdapter.referenceExpression;\n\t}\n\t/** the stackframe to use when executing the `referenceExpression` */\n\tpublic get referenceFrame(): FrameAdapter | undefined {\n\t\treturn this.variableAdapter.referenceFrame;\n\t}\n\n\tpublic constructor(\n\t\tprivate readonly variableAdapter: VariableAdapter,\n\t\tobjectGrip: FirefoxDebugProtocol.ObjectGrip,\n\t\tpublic threadLifetime: boolean,\n\t\tprivate readonly isPrototype: boolean\n\t) {\n\t\tthis.actor = this.threadAdapter.debugSession.getOrCreateObjectGripActorProxy(objectGrip);\n\t\tthis.actor.increaseRefCount();\n\t\tthis.variablesProviderId = this.threadAdapter.debugSession.variablesProviders.register(this);\n\t\tthis.threadAdapter.registerObjectGripAdapter(this);\n\t}\n\n\t/**\n\t * get the referenced object's properties and its prototype as an array of Variables.\n\t * This method can only be called when the thread is paused.\n\t */\n\tpublic async getVariables(): Promise<VariableAdapter[]> {\n\n\t\tlet prototypeAndProperties = await this.threadAdapter.coordinator.runOnPausedThread(\n\t\t\t() => this.actor.fetchPrototypeAndProperties());\n\n\t\tlet variables: VariableAdapter[] = [];\n\t\tlet symbolVariables: VariableAdapter[] = [];\n\t\tlet safeGetterValues = prototypeAndProperties.safeGetterValues || {};\n\t\tlet symbolProperties = prototypeAndProperties.ownSymbols || [];\n\n\t\tfor (let varname in prototypeAndProperties.ownProperties) {\n\t\t\tif (!safeGetterValues[varname]) {\n\t\t\t\tvariables.push(VariableAdapter.fromPropertyDescriptor(\n\t\t\t\t\tvarname, this.referenceExpression, this.referenceFrame,\n\t\t\t\t\tprototypeAndProperties.ownProperties[varname],\n\t\t\t\t\tthis.threadLifetime, this.threadAdapter));\n\t\t\t}\n\t\t}\n\n\t\tfor (let varname in safeGetterValues) {\n\t\t\tvariables.push(VariableAdapter.fromSafeGetterValueDescriptor(\n\t\t\t\tvarname, this.referenceExpression, this.referenceFrame,\n\t\t\t\tsafeGetterValues[varname],\n\t\t\t\tthis.threadLifetime, this.threadAdapter));\n\t\t}\n\n\t\tfor (let symbolProperty of symbolProperties) {\n\t\t\tsymbolVariables.push(VariableAdapter.fromPropertyDescriptor(\n\t\t\t\tsymbolProperty.name, undefined, undefined,\n\t\t\t\tsymbolProperty.descriptor, this.threadLifetime, this.threadAdapter));\n\t\t}\n\n\t\tlet prototypeVariable: VariableAdapter | undefined = undefined;\n\t\tlet accessorsFromPrototypes: VariableAdapter[] = [];\n\t\tif (prototypeAndProperties.prototype.type !== 'null') {\n\t\t\tprototypeVariable = VariableAdapter.fromGrip(\n\t\t\t\t'__proto__', this.referenceExpression, this.referenceFrame,\n\t\t\t\tprototypeAndProperties.prototype,\n\t\t\t\tthis.threadLifetime, this.threadAdapter\n\t\t\t);\n\n\t\t\tif (!this.isPrototype) {\n\t\t\t\tconst prototypeLevels = this.threadAdapter.debugSession.config.liftAccessorsFromPrototypes;\n\t\t\t\tif (prototypeLevels > 0) {\n\t\t\t\t\taccessorsFromPrototypes = await this.fetchAccessorsFromPrototypes(prototypeVariable, prototypeLevels);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/** Array-Objects are already sorted, sorting them again as strings messes up the order */\n\t\tlet isArray = (prototypeAndProperties.prototype.type == 'object' && prototypeAndProperties.prototype.class == 'Array');\n\t\tif (!isArray) {\n\t\t\tVariableAdapter.sortVariables(variables);\n\t\t}\n\t\tVariableAdapter.sortVariables(symbolVariables);\n\t\tVariableAdapter.sortVariables(accessorsFromPrototypes);\n\t\tvariables.push(...symbolVariables);\n\t\tvariables.push(...accessorsFromPrototypes);\n\n\t\tif (prototypeVariable) {\n\t\t\tvariables.push(prototypeVariable);\n\t\t}\n\n\t\treturn variables;\n\t}\n\n\t/**\n\t * used to \"lift\" accessor properties from the prototype chain to an object if the\n\t * `liftAccessorsFromPrototypes` configuration property is set.\n\t * Have a look at the [`GetterValueAdapter`](./getterValue.ts) for more info.\n\t */\n\tprivate async fetchAccessorsFromPrototypes(\n\t\tprototypeVariable: VariableAdapter,\n\t\tlevels: number\n\t): Promise<VariableAdapter[]> {\n\n\t\tlet objectGripAdapter: ObjectGripAdapter | undefined = <any>prototypeVariable.variablesProvider;\n\t\tlet variables: VariableAdapter[] = [];\n\t\tlet level = 0;\n\t\twhile ((level < levels) && objectGripAdapter) {\n\n\t\t\tlet prototypeAndProperties = await objectGripAdapter.actor.fetchPrototypeAndProperties();\n\n\t\t\tfor (const varname in prototypeAndProperties.ownProperties) {\n\n\t\t\t\tconst propertyDescriptor = prototypeAndProperties.ownProperties[varname];\n\t\t\t\tif ((varname !== '__proto__') && \n\t\t\t\t\t(<FirefoxDebugProtocol.AccessorPropertyDescriptor>propertyDescriptor).get) {\n\n\t\t\t\t\tvariables.push(VariableAdapter.fromPropertyDescriptor(\n\t\t\t\t\t\tvarname, this.referenceExpression, this.referenceFrame,\n\t\t\t\t\t\tpropertyDescriptor, this.threadLifetime, this.threadAdapter\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprototypeVariable = VariableAdapter.fromGrip(\n\t\t\t\t'__proto__', this.referenceExpression, this.referenceFrame,\n\t\t\t\tprototypeAndProperties.prototype,\n\t\t\t\tthis.threadLifetime, this.threadAdapter\n\t\t\t);\n\t\t\tobjectGripAdapter = <any>prototypeVariable.variablesProvider;\n\n\t\t\tlevel++;\n\t\t}\n\n\t\treturn variables;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.actor.decreaseRefCount();\n\t\tthis.threadAdapter.debugSession.variablesProviders.unregister(this.variablesProviderId);\n\t}\n}\n","import { Log } from '../util/log';\n\nconst log = Log.create('Preview');\n\nconst maxProperties = 5;\nconst maxArrayItems = 5;\nconst maxStringChars = 20;\nconst maxAttributes = 5;\nconst maxParameters = 5;\n\n/** generates the preview string for an object shown in the debugger's Variables view */\nexport function renderPreview(objectGrip: FirefoxDebugProtocol.ObjectGrip): string {\n\ttry {\n\n\t\tif ((objectGrip.class === 'Function') || \n\t\t\t(objectGrip as FirefoxDebugProtocol.FunctionGrip).parameterNames) {\n\n\t\t\tif (objectGrip.class !== 'Function') {\n\t\t\t\tlog.warn(`Looks like a FunctionGrip but has a different class: ${JSON.stringify(objectGrip)}`);\n\t\t\t}\n\t\t\treturn renderFunctionGrip(<FirefoxDebugProtocol.FunctionGrip>objectGrip);\n\t\t}\n\n\t\tconst preview = objectGrip.preview;\n\t\tif (!preview) {\n\t\t\treturn objectGrip.class;\n\t\t}\n\n\t\tif (preview.kind === 'Object') {\n\n\t\t\treturn renderObjectPreview(preview, objectGrip.class);\n\n\t\t} else if (preview.kind === 'ArrayLike') {\n\n\t\t\treturn renderArrayLikePreview(preview, objectGrip.class);\n\n\t\t} else if ((objectGrip.class === 'Date') && (preview.kind === undefined)) {\n\n\t\t\tconst date = new Date(preview.timestamp);\n\t\t\treturn date.toString();\n\n\t\t} else if (preview.kind === 'ObjectWithURL') {\n\n\t\t\treturn `${objectGrip.class} ${preview.url}`;\n\n\t\t} else if ((preview.kind === 'DOMNode') && (preview.nodeType === 1)) {\n\n\t\t\treturn renderDOMElementPreview(preview);\n\n\t\t} else if (preview.kind === 'Error') {\n\n\t\t\treturn `${objectGrip.class}: ${preview.message}`;\n\n\t\t} else {\n\n\t\t\treturn objectGrip.class;\n\n\t\t}\n\n\t} catch (e) {\n\t\tlog.error(`renderPreview failed for ${JSON.stringify(objectGrip)}: ${e}`);\n\t\treturn '';\n\t}\n}\n\nfunction renderObjectPreview(preview: FirefoxDebugProtocol.ObjectPreview, className: string): string {\n\n\tconst renderedProperties: string[] = [];\n\tlet i = 0;\n\tfor (const property in preview.ownProperties) {\n\n\t\tvar valueGrip = preview.ownProperties[property].value;\n\t\tif (!valueGrip) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst renderedValue = renderGrip(valueGrip);\n\t\trenderedProperties.push(`${property}: ${renderedValue}`);\n\n\t\tif (++i >= maxProperties) {\n\t\t\trenderedProperties.push('\\u2026');\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (i < maxProperties) {\n\t\tfor (const symbolProperty of preview.ownSymbols) {\n\n\t\t\tconst renderedValue = renderGrip(symbolProperty.descriptor.value);\n\t\t\trenderedProperties.push(`Symbol(${symbolProperty.name}): ${renderedValue}`);\n\n\t\t\tif (++i >= maxProperties) {\n\t\t\t\trenderedProperties.push('\\u2026');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst renderedObject = `{${renderedProperties.join(', ')}}`;\n\n\tif (className === 'Object') {\n\t\treturn renderedObject;\n\t} else {\n\t\treturn `${className} ${renderedObject}`;\n\t}\n}\n\nfunction renderDOMElementPreview(preview: FirefoxDebugProtocol.DOMNodePreview): string {\n\n\tif (!preview.attributes) {\n\t\treturn `<${preview.nodeName}>`;\n\t}\n\n\tconst renderedAttributes: string[] = [];\n\tlet i = 0;\n\tfor (const attribute in preview.attributes) {\n\n\t\tconst renderedValue = renderGrip(preview.attributes[attribute]);\n\t\trenderedAttributes.push(`${attribute}=${renderedValue}`);\n\n\t\tif (++i >= maxAttributes) {\n\t\t\trenderedAttributes.push('\\u2026');\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (renderedAttributes.length === 0) {\n\t\treturn `<${preview.nodeName}>`;\n\t} else {\n\t\treturn `<${preview.nodeName} ${renderedAttributes.join(' ')}>`;\n\t}\n}\n\nfunction renderArrayLikePreview(preview: FirefoxDebugProtocol.ArrayLikePreview, className: string): string {\n\n\tlet result = `${className}(${preview.length})`;\n\n\tif (preview.items && preview.items.length > 0) {\n\n\t\tconst renderCount = Math.min(preview.items.length, maxArrayItems);\n\t\tconst itemsToRender = preview.items.slice(0, renderCount);\n\t\tconst renderedItems = itemsToRender.map(item => renderGripOrNull(item));\n\n\t\tif (renderCount < preview.items.length) {\n\t\t\trenderedItems.push('\\u2026');\n\t\t}\n\n\t\tresult += ` [${renderedItems.join(', ')}]`;\n\n\t}\n\n\treturn result;\n}\n\nfunction renderFunctionGrip(functionGrip: FirefoxDebugProtocol.FunctionGrip): string {\n\n\tlet parameters = '';\n\n\tif (functionGrip.parameterNames &&\n\t\tfunctionGrip.parameterNames.every(parameterName => typeof parameterName === 'string')) {\n\n\t\tlet parameterNames = functionGrip.parameterNames;\n\t\tif (parameterNames.length > maxParameters) {\n\t\t\tparameterNames = parameterNames.slice(0, maxParameters);\n\t\t\tparameterNames.push('\\u2026');\n\t\t}\n\n\t\tparameters = parameterNames.join(', ');\n\t}\n\n\tconst functionName = functionGrip.displayName || functionGrip.name || 'function';\n\treturn `${functionName}(${parameters}) {\\u2026}`;\n}\n\nfunction renderGripOrNull(gripOrNull: FirefoxDebugProtocol.Grip | null): string {\n\tif (gripOrNull === null) {\n\t\treturn \"_\";\n\t} else {\n\t\treturn renderGrip(gripOrNull);\n\t}\n}\n\nfunction renderGrip(grip: FirefoxDebugProtocol.Grip): string {\n\n\tif ((typeof grip === 'boolean') || (typeof grip === 'number')) {\n\n\t\treturn grip.toString();\n\n\t} else if (typeof grip === 'string') {\n\n\t\tif (grip.length > maxStringChars) {\n\t\t\treturn `\"${grip.substr(0, maxStringChars)}\\u2026\"`;\n\t\t} else {\n\t\t\treturn `\"${grip}\"`;\n\t\t}\n\n\t} else {\n\n\t\tswitch (grip.type) {\n\n\t\t\tcase 'null':\n\t\t\tcase 'undefined':\n\t\t\tcase 'Infinity':\n\t\t\tcase '-Infinity':\n\t\t\tcase 'NaN':\n\t\t\tcase '-0':\n\n\t\t\t\treturn grip.type;\n\n\t\t\tcase 'BigInt':\n\n\t\t\t\treturn `${(<FirefoxDebugProtocol.BigIntGrip>grip).text}n`;\n\n\t\t\tcase 'longString':\n\n\t\t\t\tconst initial = (<FirefoxDebugProtocol.LongStringGrip>grip).initial;\n\t\t\t\tif (initial.length > maxStringChars) {\n\t\t\t\t\treturn `${initial.substr(0, maxStringChars)}\\u2026`;\n\t\t\t\t} else {\n\t\t\t\t\treturn initial;\n\t\t\t\t}\n\t\t\n\t\t\tcase 'symbol':\n\n\t\t\t\tlet symbolName = (<FirefoxDebugProtocol.SymbolGrip>grip).name;\n\t\t\t\treturn `Symbol(${symbolName})`;\n\n\t\t\tcase 'object':\n\n\t\t\t\tlet objectGrip = <FirefoxDebugProtocol.ObjectGrip>grip;\n\t\t\t\treturn renderPreview(objectGrip);\n\n\t\t\tdefault:\n\n\t\t\t\tlog.warn(`Unexpected object grip of type ${grip.type}: ${JSON.stringify(grip)}`);\n\t\t\t\treturn '';\n\n\t\t}\n\t}\n}\n","import { VariablesProvider } from './variablesProvider';\nimport { ThreadAdapter } from './thread';\nimport { FrameAdapter } from './frame';\nimport { VariableAdapter } from './variable';\n\n/**\n * Adapter class for an accessor property with a getter (i.e. a property defined using\n * [`Object.defineProperty()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)\n * with an accessor descriptor containing a `get` function or using the new ES6 syntax for defining\n * accessors).\n * The value of such a property can only be determined by executing the getter function, but that may\n * have side-effects. Therefore it is not executed and the corresponding [`VariableAdapter`](./variable.ts)\n * will show a text like \"Getter & Setter - expand to execute Getter\" to the user. When the user\n * clicks on this text, the getter will be executed by the `getVariables()` method and the value\n * will be displayed.\n * \n * Note that if the accessor property is not defined on the object itself but on one of its\n * prototypes, the user would have to navigate to the prototype to find it and if he then executed\n * the getter, it would be executed with `this` set to the prototype, which is usually not the\n * desired behavior. Therefore it is possible to \"lift\" accessor properties to an object from its\n * prototype chain using the `liftAccessorsFromPrototypes` configuration property.\n */\nexport class GetterValueAdapter implements VariablesProvider {\n\n\tpublic readonly variablesProviderId: number;\n\tpublic get threadAdapter(): ThreadAdapter {\n\t\treturn this.variableAdapter.threadAdapter;\n\t}\n\t/** a javascript expression that will execute the getter */\n\tpublic get referenceExpression(): string | undefined {\n\t\treturn this.variableAdapter.referenceExpression;\n\t}\n\t/** the stackframe to use when executing the `referenceExpression` */\n\tpublic get referenceFrame(): FrameAdapter | undefined {\n\t\treturn this.variableAdapter.referenceFrame;\n\t}\n\n\tpublic constructor(private readonly variableAdapter: VariableAdapter) {\n\t\tthis.variablesProviderId = this.threadAdapter.debugSession.variablesProviders.register(this);\n\t}\n\n\t/** execute the getter and return a VariableAdapter for the value returned by the getter */\n\tpublic async getVariables(): Promise<VariableAdapter[]> {\n\t\tif (this.referenceExpression && this.referenceFrame) {\n\n\t\t\tconst grip = await this.threadAdapter.coordinator.evaluate(\n\t\t\t\tthis.referenceExpression, this.referenceFrame.frame.actor\n\t\t\t);\n\n\t\t\tconst variableAdapter = VariableAdapter.fromGrip(\n\t\t\t\t'Value from Getter', this.referenceExpression, this.referenceFrame,\n\t\t\t\tgrip, false, this.threadAdapter, true\n\t\t\t);\n\n\t\t\treturn [ variableAdapter ];\n\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n}\n","import { Log } from '../util/log';\nimport { ThreadAdapter } from './thread';\nimport { ObjectGripAdapter } from './objectGrip';\nimport { FrameAdapter } from './frame';\nimport { Variable } from 'vscode-debugadapter';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { accessorExpression } from '../util/misc';\nimport { renderPreview } from './preview';\nimport { VariablesProvider } from './variablesProvider';\nimport { GetterValueAdapter } from './getterValue';\n\nlet log = Log.create('VariableAdapter');\n\n/**\n * Adapter class for anything that will be sent to VS Code as a Variable.\n * At the very least a Variable needs a name and a string representation of its value.\n * If the VariableAdapter represents anything that can have child variables, it also needs a\n * [`VariablesProvider`](./variablesProvider.ts) that will be used to fetch the child variables when\n * requested by VS Code.\n */\nexport class VariableAdapter {\n\n\tprivate _variablesProvider: VariablesProvider | undefined;\n\n\tpublic get variablesProvider(): VariablesProvider | undefined {\n\t\treturn this._variablesProvider;\n\t}\n\n\tpublic constructor(\n\t\tpublic readonly varname: string,\n\t\tpublic readonly referenceExpression: string | undefined,\n\t\tpublic readonly referenceFrame: FrameAdapter | undefined,\n\t\tpublic readonly displayValue: string,\n\t\tpublic readonly threadAdapter: ThreadAdapter\n\t) {}\n\n\tpublic getVariable(): Variable {\n\n\t\tlet variable = new Variable(this.varname, this.displayValue,\n\t\t\tthis.variablesProvider ? this.variablesProvider.variablesProviderId : undefined);\n\n\t\t(<DebugProtocol.Variable>variable).evaluateName = this.referenceExpression;\n\n\t\treturn variable;\n\t}\n\n\t/**\n\t * factory function for creating a VariableAdapter from an\n\t * [object grip](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#objects)\n\t */\n\tpublic static fromGrip(\n\t\tvarname: string,\n\t\tparentReferenceExpression: string | undefined,\n\t\treferenceFrame: FrameAdapter | undefined,\n\t\tgrip: FirefoxDebugProtocol.Grip,\n\t\tthreadLifetime: boolean,\n\t\tthreadAdapter: ThreadAdapter,\n\t\tuseParentReferenceExpression?: boolean\n\t): VariableAdapter {\n\n\t\tlet referenceExpression =\n\t\t\tuseParentReferenceExpression ?\n\t\t\tparentReferenceExpression :\n\t\t\taccessorExpression(parentReferenceExpression, varname);\n\n\t\tif ((typeof grip === 'boolean') || (typeof grip === 'number')) {\n\n\t\t\treturn new VariableAdapter(varname, referenceExpression, referenceFrame, grip.toString(), threadAdapter);\n\n\t\t} else if (typeof grip === 'string') {\n\n\t\t\treturn new VariableAdapter(varname, referenceExpression, referenceFrame, `\"${grip}\"`, threadAdapter);\n\n\t\t} else {\n\n\t\t\tswitch (grip.type) {\n\n\t\t\t\tcase 'null':\n\t\t\t\tcase 'undefined':\n\t\t\t\tcase 'Infinity':\n\t\t\t\tcase '-Infinity':\n\t\t\t\tcase 'NaN':\n\t\t\t\tcase '-0':\n\n\t\t\t\t\treturn new VariableAdapter(\n\t\t\t\t\t\tvarname, referenceExpression, referenceFrame, grip.type, threadAdapter);\n\n\t\t\t\tcase 'BigInt':\n\n\t\t\t\t\treturn new VariableAdapter(\n\t\t\t\t\t\tvarname, referenceExpression, referenceFrame,\n\t\t\t\t\t\t`${(<FirefoxDebugProtocol.BigIntGrip>grip).text}n`, threadAdapter);\n\n\t\t\t\tcase 'longString':\n\n\t\t\t\t\treturn new VariableAdapter(\n\t\t\t\t\t\tvarname, referenceExpression, referenceFrame,\n\t\t\t\t\t\t(<FirefoxDebugProtocol.LongStringGrip>grip).initial, threadAdapter);\n\n\t\t\t\tcase 'symbol':\n\n\t\t\t\t\tlet symbolName = (<FirefoxDebugProtocol.SymbolGrip>grip).name;\n\t\t\t\t\treturn new VariableAdapter(\n\t\t\t\t\t\tvarname, referenceExpression, referenceFrame,\n\t\t\t\t\t\t`Symbol(${symbolName})`, threadAdapter);\n\n\t\t\t\tcase 'object':\n\n\t\t\t\t\tlet objectGrip = <FirefoxDebugProtocol.ObjectGrip>grip;\n\t\t\t\t\tlet displayValue = renderPreview(objectGrip);\n\t\t\t\t\tlet variableAdapter = new VariableAdapter(\n\t\t\t\t\t\tvarname, referenceExpression, referenceFrame, displayValue, threadAdapter);\n\t\t\t\t\tvariableAdapter._variablesProvider = new ObjectGripAdapter(\n\t\t\t\t\t\tvariableAdapter, objectGrip, threadLifetime, (varname === '__proto__'));\n\t\t\t\t\treturn variableAdapter;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tlog.warn(`Unexpected object grip of type ${grip.type}: ${JSON.stringify(grip)}`);\n\t\t\t\t\treturn new VariableAdapter(\n\t\t\t\t\t\tvarname, referenceExpression, referenceFrame, grip.type, threadAdapter);\n\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * factory function for creating a VariableAdapter from a\n\t * [property descriptor](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#property-descriptors)\n\t */\n\tpublic static fromPropertyDescriptor(\n\t\tvarname: string,\n\t\tparentReferenceExpression: string | undefined,\n\t\treferenceFrame: FrameAdapter | undefined,\n\t\tpropertyDescriptor: FirefoxDebugProtocol.PropertyDescriptor,\n\t\tthreadLifetime: boolean,\n\t\tthreadAdapter: ThreadAdapter\n\t): VariableAdapter {\n\n\t\tif ((<FirefoxDebugProtocol.DataPropertyDescriptor>propertyDescriptor).value !== undefined) {\n\n\t\t\treturn VariableAdapter.fromGrip(\n\t\t\t\tvarname, parentReferenceExpression, referenceFrame,\n\t\t\t\t(<FirefoxDebugProtocol.DataPropertyDescriptor>propertyDescriptor).value,\n\t\t\t\tthreadLifetime, threadAdapter);\n\n\t\t} else {\n\n\t\t\tlet referenceExpression = accessorExpression(parentReferenceExpression, varname);\n\n\t\t\tlet accessorPropertyDescriptor = <FirefoxDebugProtocol.AccessorPropertyDescriptor>propertyDescriptor;\n\t\t\tlet hasGetter = VariableAdapter.isFunctionGrip(accessorPropertyDescriptor.get);\n\t\t\tlet hasSetter = VariableAdapter.isFunctionGrip(accessorPropertyDescriptor.set);\n\t\t\tlet displayValue: string;\n\t\t\tif (hasGetter) {\n\t\t\t\tdisplayValue = 'Getter';\n\t\t\t\tif (hasSetter) {\n\t\t\t\t\tdisplayValue += ' & Setter';\n\t\t\t\t}\n\t\t\t\tdisplayValue += ' - expand to execute Getter';\n\t\t\t} else if (hasSetter) {\n\t\t\t\tdisplayValue = 'Setter';\n\t\t\t} else {\n\t\t\t\tlog.error(`${referenceExpression} is neither a data property nor does it have a getter or setter`);\n\t\t\t\tdisplayValue = 'Error';\n\t\t\t}\n\n\t\t\tlet variableAdapter = new VariableAdapter(\n\t\t\t\tvarname, referenceExpression, referenceFrame, displayValue, threadAdapter);\n\n\t\t\tif (hasGetter) {\n\t\t\t\tvariableAdapter._variablesProvider = new GetterValueAdapter(variableAdapter);\n\t\t\t}\n\n\t\t\treturn variableAdapter;\n\n\t\t}\n\t}\n\n\t/**\n\t * factory function for creating a VariableAdapter from a\n\t * [safe getter value descriptor](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#property-descriptors)\n\t */\n\tpublic static fromSafeGetterValueDescriptor(\n\t\tvarname: string,\n\t\tparentReferenceExpression: string | undefined,\n\t\treferenceFrame: FrameAdapter | undefined,\n\t\tsafeGetterValueDescriptor: FirefoxDebugProtocol.SafeGetterValueDescriptor,\n\t\tthreadLifetime: boolean,\n\t\tthreadAdapter: ThreadAdapter\n\t): VariableAdapter {\n\n\t\treturn VariableAdapter.fromGrip(\n\t\t\tvarname, parentReferenceExpression, referenceFrame,\n\t\t\tsafeGetterValueDescriptor.getterValue, threadLifetime, threadAdapter);\n\t}\n\n\tpublic static sortVariables(variables: VariableAdapter[]): void {\n\t\tvariables.sort((var1, var2) => VariableAdapter.compareStrings(var1.varname, var2.varname));\n\t}\n\n\tprivate static compareStrings(s1: string, s2: string): number {\n\t\tif (s1 < s2) {\n\t\t\treturn -1;\n\t\t} else if (s1 === s2) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\tprivate static isFunctionGrip(grip: FirefoxDebugProtocol.Grip) {\n\t\treturn (\n\t\t\t(typeof grip === 'object') &&\n\t\t\t(grip.type === 'object') &&\n\t\t\t((<FirefoxDebugProtocol.ObjectGrip>grip).class === 'Function')\n\t\t);\n\t}\n}\n","/**\n * A generic collection of objects identified by a numerical ID.\n * The ID is generated and returned when an object is added to the collection using `register()`.\n */\nexport class Registry<T> implements Iterable<[number, T]> {\n\n\tprivate objectsById = new Map<number, T>();\n\tprivate nextId = 1;\n\n\t/**\n\t * add an object to the registry and return the ID generated for it\n\t */\n\tpublic register(obj: T): number {\n\t\tlet id = this.nextId++;\n\t\tthis.objectsById.set(id, obj);\n\t\treturn id;\n\t}\n\n\tpublic unregister(id: number): boolean {\n\t\treturn this.objectsById.delete(id);\n\t}\n\n\tpublic has(id: number): boolean {\n\t\treturn this.objectsById.has(id);\n\t}\n\n\tpublic find(id: number): T | undefined {\n\t\treturn this.objectsById.get(id);\n\t}\n\n\tpublic get count() {\n\t\treturn this.objectsById.size;\n\t}\n\n\tpublic [Symbol.iterator](): Iterator<[number, T]> {\n\t\treturn this.objectsById[Symbol.iterator]();\n\t}\n\n\tpublic map<S>(f: (obj: T) => S): S[] {\n\t\tlet result: S[] = [];\n\t\tfor (let [, obj] of this.objectsById) {\n\t\t\tresult.push(f(obj));\n\t\t}\n\t\treturn result;\n\t}\n}","import { ThreadAdapter } from './thread';\nimport { FrameAdapter } from './frame';\nimport { VariableAdapter } from './variable';\nimport { Scope } from 'vscode-debugadapter';\nimport { VariablesProvider } from './variablesProvider';\n\n/**\n * Abstract adapter base class for a javascript scope.\n */\nexport abstract class ScopeAdapter implements VariablesProvider {\n\n\tpublic readonly variablesProviderId: number;\n\tpublic readonly referenceExpression = '';\n\tpublic get threadAdapter(): ThreadAdapter {\n\t\treturn this.referenceFrame.threadAdapter;\n\t}\n\n\tpublic thisVariable?: VariableAdapter;\n\tpublic returnVariable?: VariableAdapter;\n\n\tprotected constructor(\n\t\tpublic readonly name: string,\n\t\tpublic readonly referenceFrame: FrameAdapter\n\t) {\n\t\tthis.threadAdapter.registerScopeAdapter(this);\n\t\tthis.variablesProviderId = this.threadAdapter.debugSession.variablesProviders.register(this);\n\t}\n\n\tpublic static fromGrip(name: string, grip: FirefoxDebugProtocol.Grip, referenceFrame: FrameAdapter): ScopeAdapter {\n\t\tif ((typeof grip === 'object') && (grip.type === 'object')) {\n\t\t\treturn new ObjectScopeAdapter(name, <FirefoxDebugProtocol.ObjectGrip>grip, referenceFrame);\n\t\t} else {\n\t\t\treturn new SingleValueScopeAdapter(name, grip, referenceFrame);\n\t\t}\n\t}\n\n\tpublic addThis(thisValue: FirefoxDebugProtocol.Grip) {\n\t\tthis.thisVariable = VariableAdapter.fromGrip(\n\t\t\t'this', this.referenceExpression, this.referenceFrame, thisValue, false, this.threadAdapter);\n\t}\n\n\tpublic addReturnValue(returnValue: FirefoxDebugProtocol.Grip) {\n\t\tthis.returnVariable = VariableAdapter.fromGrip(\n\t\t\t'Return value', undefined, this.referenceFrame, returnValue, false, this.threadAdapter);\n\t}\n\n\tpublic getScope(): Scope {\n\t\treturn new Scope(this.name, this.variablesProviderId);\n\t}\n\n\tpublic async getVariables(): Promise<VariableAdapter[]> {\n\n\t\t// we make a (shallow) copy of the variables array because we're going to modify it\n\t\tlet variables = [ ...await this.getVariablesInt() ];\n\n\t\tif (this.thisVariable) {\n\t\t\tvariables.unshift(this.thisVariable);\n\t\t}\n\n\t\tif (this.returnVariable) {\n\t\t\tvariables.unshift(this.returnVariable);\n\t\t}\n\n\t\treturn variables;\n\t}\n\n\tprotected abstract getVariablesInt(): Promise<VariableAdapter[]>;\n\n\tpublic dispose(): void {\n\t\tthis.threadAdapter.debugSession.variablesProviders.unregister(this.variablesProviderId);\n\t}\n}\n\nexport class SingleValueScopeAdapter extends ScopeAdapter {\n\n\tprivate variableAdapter: VariableAdapter;\n\n\tpublic constructor(name: string, grip: FirefoxDebugProtocol.Grip, referenceFrame: FrameAdapter) {\n\t\tsuper(name, referenceFrame);\n\t\tthis.variableAdapter = VariableAdapter.fromGrip(\n\t\t\t'', this.referenceExpression, this.referenceFrame, grip, false, this.threadAdapter);\n\t}\n\n\tprotected getVariablesInt(): Promise<VariableAdapter[]> {\n\t\treturn Promise.resolve([this.variableAdapter]);\n\t}\n}\n\nexport class ObjectScopeAdapter extends ScopeAdapter {\n\n\tprivate variableAdapter: VariableAdapter;\n\n\tpublic constructor(name: string, object: FirefoxDebugProtocol.ObjectGrip, referenceFrame: FrameAdapter) {\n\t\tsuper(name, referenceFrame);\n\t\tthis.variableAdapter = VariableAdapter.fromGrip(\n\t\t\t'', this.referenceExpression, this.referenceFrame, object, false, this.threadAdapter);\n\t}\n\n\tprotected getVariablesInt(): Promise<VariableAdapter[]> {\n\t\treturn this.variableAdapter.variablesProvider!.getVariables();\n\t}\n}\n\nexport class LocalVariablesScopeAdapter extends ScopeAdapter {\n\n\tpublic variables: VariableAdapter[] = [];\n\n\tpublic constructor(name: string, variableDescriptors: FirefoxDebugProtocol.PropertyDescriptors, referenceFrame: FrameAdapter) {\n\t\tsuper(name, referenceFrame);\n\n\t\tfor (let varname in variableDescriptors) {\n\t\t\tthis.variables.push(VariableAdapter.fromPropertyDescriptor(\n\t\t\t\tvarname, this.referenceExpression, this.referenceFrame,\n\t\t\t\tvariableDescriptors[varname], false, this.threadAdapter));\n\t\t}\n\n\t\tVariableAdapter.sortVariables(this.variables);\n\t}\n\n\tprotected getVariablesInt(): Promise<VariableAdapter[]> {\n\t\treturn Promise.resolve(this.variables);\n\t}\n}\n\nexport class FunctionScopeAdapter extends ScopeAdapter {\n\n\tpublic variables: VariableAdapter[] = [];\n\n\tpublic constructor(name: string, bindings: FirefoxDebugProtocol.FunctionBindings, referenceFrame: FrameAdapter) {\n\t\tsuper(name, referenceFrame);\n\n\t\tbindings.arguments.forEach((arg) => {\n\t\t\tfor (let varname in arg) {\n\t\t\t\tthis.variables.push(VariableAdapter.fromPropertyDescriptor(\n\t\t\t\t\tvarname, this.referenceExpression, this.referenceFrame,\n\t\t\t\t\targ[varname], false, this.threadAdapter));\n\t\t\t}\n\t\t});\n\n\t\tfor (let varname in bindings.variables) {\n\t\t\tthis.variables.push(VariableAdapter.fromPropertyDescriptor(\n\t\t\t\tvarname, this.referenceExpression, this.referenceFrame,\n\t\t\t\tbindings.variables[varname], false, this.threadAdapter));\n\t\t}\n\n\t\tVariableAdapter.sortVariables(this.variables);\n\t}\n\n\tprotected getVariablesInt(): Promise<VariableAdapter[]> {\n\t\treturn Promise.resolve(this.variables);\n\t}\n}\n","import { Log } from '../util/log';\nimport { ScopeAdapter, ObjectScopeAdapter, LocalVariablesScopeAdapter, FunctionScopeAdapter } from './scope';\nimport { FrameAdapter } from './frame';\n\nlet log = Log.create('EnvironmentAdapter');\n\n/**\n * Abstract adapter base class for a lexical environment.\n * Used to create [`ScopeAdapter`](./scope.ts)s which then create `Scope` objects for VS Code.\n */\nexport abstract class EnvironmentAdapter<T extends FirefoxDebugProtocol.Environment> {\n\n\tprotected environment: T;\n\tprotected parent?: EnvironmentAdapter<FirefoxDebugProtocol.Environment>;\n\n\tpublic constructor(environment: T) {\n\t\tthis.environment = environment;\n\t\tif (environment.parent !== undefined) {\n\t\t\tthis.parent = EnvironmentAdapter.from(environment.parent);\n\t\t}\n\t}\n\n\t/** factory function for creating an EnvironmentAdapter of the appropriate type */\n\tpublic static from(environment: FirefoxDebugProtocol.Environment): EnvironmentAdapter<FirefoxDebugProtocol.Environment> {\n\t\tswitch (environment.type) {\n\t\t\tcase 'object':\n\t\t\t\treturn new ObjectEnvironmentAdapter(<FirefoxDebugProtocol.ObjectEnvironment>environment);\n\t\t\tcase 'function':\n\t\t\t\treturn new FunctionEnvironmentAdapter(<FirefoxDebugProtocol.FunctionEnvironment>environment);\n\t\t\tcase 'with':\n\t\t\t\treturn new WithEnvironmentAdapter(<FirefoxDebugProtocol.WithEnvironment>environment);\n\t\t\tcase 'block':\n\t\t\t\treturn new BlockEnvironmentAdapter(<FirefoxDebugProtocol.BlockEnvironment>environment);\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unknown environment type ${environment.type}`);\n\t\t}\n\t}\n\n\tpublic getScopeAdapters(frameAdapter: FrameAdapter): ScopeAdapter[] {\n\n\t\tlet scopes = this.getAllScopeAdapters(frameAdapter);\n\n\t\treturn scopes;\n\t}\n\n\tprotected getAllScopeAdapters(frameAdapter: FrameAdapter): ScopeAdapter[] {\n\n\t\tlet scopes: ScopeAdapter[];\n\n\t\tif (this.parent !== undefined) {\n\t\t\tscopes = this.parent.getAllScopeAdapters(frameAdapter);\n\t\t} else {\n\t\t\tscopes = [];\n\t\t}\n\n\t\tlet ownScope = this.getOwnScopeAdapter(frameAdapter);\n\t\tscopes.unshift(ownScope);\n\n\t\treturn scopes;\n\t}\n\n\tprotected abstract getOwnScopeAdapter(frameAdapter: FrameAdapter): ScopeAdapter;\n}\n\nexport class ObjectEnvironmentAdapter extends EnvironmentAdapter<FirefoxDebugProtocol.ObjectEnvironment> {\n\n\tpublic constructor(environment: FirefoxDebugProtocol.ObjectEnvironment) {\n\t\tsuper(environment);\n\t}\n\n\tprotected getOwnScopeAdapter(frameAdapter: FrameAdapter): ScopeAdapter {\n\n\t\tlet grip = this.environment.object;\n\n\t\tif ((typeof grip === 'boolean') || (typeof grip === 'number') || (typeof grip === 'string')) {\n\n\t\t\tthrow new Error(`Object environment with unexpected grip of type ${typeof grip}`);\n\n\t\t} else if (grip.type !== 'object') {\n\n\t\t\tthrow new Error(`Object environment with unexpected grip of type ${grip.type}`);\n\n\t\t} else {\n\n\t\t\tlet objectGrip = <FirefoxDebugProtocol.ObjectGrip>grip;\n\t\t\tlet name = `Object: ${objectGrip.class}`;\n\t\t\treturn new ObjectScopeAdapter(name, objectGrip, frameAdapter);\n\n\t\t}\n\t}\n}\n\nexport class FunctionEnvironmentAdapter extends EnvironmentAdapter<FirefoxDebugProtocol.FunctionEnvironment> {\n\n\tpublic constructor(environment: FirefoxDebugProtocol.FunctionEnvironment) {\n\t\tsuper(environment);\n\t}\n\n\tprotected getOwnScopeAdapter(frameAdapter: FrameAdapter): ScopeAdapter {\n\n\t\tlet funcName = this.environment.function.displayName;\n\t\tlet scopeName: string;\n\t\tif (funcName) {\n\t\t\tscopeName = `Local: ${funcName}`;\n\t\t} else {\n\t\t\tlog.error(`Unexpected function in function environment: ${JSON.stringify(this.environment.function)}`);\n\t\t\tscopeName = '[unknown]';\n\t\t}\n\n\t\treturn new FunctionScopeAdapter(scopeName, this.environment.bindings, frameAdapter);\n\t}\n}\n\nexport class WithEnvironmentAdapter extends EnvironmentAdapter<FirefoxDebugProtocol.WithEnvironment> {\n\n\tpublic constructor(environment: FirefoxDebugProtocol.WithEnvironment) {\n\t\tsuper(environment);\n\t}\n\n\tprotected getOwnScopeAdapter(frameAdapter: FrameAdapter): ScopeAdapter {\n\n\t\tlet grip = this.environment.object;\n\n\t\tif ((typeof grip === 'boolean') || (typeof grip === 'number') || (typeof grip === 'string')) {\n\n\t\t\tthrow new Error(`\"with\" environment with unexpected grip of type ${typeof grip}`);\n\n\t\t} else if (grip.type !== 'object') {\n\n\t\t\tthrow new Error(`\"with\" environment with unexpected grip of type ${grip.type}`);\n\n\t\t} else {\n\n\t\t\tlet objectGrip = <FirefoxDebugProtocol.ObjectGrip>grip;\n\t\t\tlet name = `With: ${objectGrip.class}`;\n\t\t\treturn new ObjectScopeAdapter(name, objectGrip, frameAdapter);\n\n\t\t}\n\t}\n}\n\nexport class BlockEnvironmentAdapter extends EnvironmentAdapter<FirefoxDebugProtocol.BlockEnvironment> {\n\n\tpublic constructor(environment: FirefoxDebugProtocol.BlockEnvironment) {\n\t\tsuper(environment);\n\t}\n\n\tprotected getOwnScopeAdapter(frameAdapter: FrameAdapter): ScopeAdapter {\n\n\t\treturn new LocalVariablesScopeAdapter('Block', this.environment.bindings.variables, frameAdapter);\n\n\t}\n}\n","import { Log } from '../../util/log';\nimport { DebugConnection } from '../connection';\nimport { PendingRequest } from '../../util/pendingRequests';\nimport { ActorProxy } from './interface';\n\nlet log = Log.create('FrameActorProxy');\n\n/**\n * Proxy class for a frame actor\n * ([docs](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#listing-stack-frames),\n * [spec](https://github.com/mozilla/gecko-dev/blob/master/devtools/shared/specs/frame.js))\n */\nexport class FrameActorProxy implements ActorProxy {\n\n\tprivate pendingGetEnvironmentRequest?: PendingRequest<FirefoxDebugProtocol.Environment>;\n\tprivate getEnvironmentPromise?: Promise<FirefoxDebugProtocol.Environment>;\n\n\tconstructor(\n\t\tprivate frame: FirefoxDebugProtocol.Frame,\n\t\tprivate connection: DebugConnection\n\t) {\n\t\tthis.connection.register(this);\n\t}\n\n\tpublic get name() {\n\t\treturn this.frame.actor;\n\t}\n\n\tpublic getEnvironment(): Promise<FirefoxDebugProtocol.Environment> {\n\n\t\tif (!this.getEnvironmentPromise) {\n\n\t\t\tlog.debug(`Fetching environment from ${this.name}`);\n\n\t\t\tthis.getEnvironmentPromise = new Promise<FirefoxDebugProtocol.Environment>((resolve, reject) => {\n\t\t\t\tthis.pendingGetEnvironmentRequest = { resolve, reject };\n\t\t\t\tthis.connection.sendRequest({ to: this.name, type: 'getEnvironment' });\n\t\t\t});\n\t\t}\n\n\t\treturn this.getEnvironmentPromise;\n\t}\n\n\tpublic receiveResponse(response: FirefoxDebugProtocol.Response): void {\n\n\t\tif (this.pendingGetEnvironmentRequest) {\n\n\t\t\tlog.debug(`Environment fetched from ${this.name}`);\n\t\t\tthis.pendingGetEnvironmentRequest.resolve(response as (FirefoxDebugProtocol.Environment & FirefoxDebugProtocol.Response));\n\n\t\t} else {\n\n\t\t\tlog.warn(\"Unknown/unexpected message from FrameActor: \" + JSON.stringify(response));\n\n\t\t}\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.connection.unregister(this);\n\t}\n}\n","import { Log } from '../util/log';\nimport { ThreadAdapter } from './thread';\nimport { EnvironmentAdapter } from './environment';\nimport { ScopeAdapter } from './scope';\nimport { StackFrame } from 'vscode-debugadapter';\nimport { Registry } from './registry';\nimport { FrameActorProxy } from '../firefox/actorProxy/frame';\n\nlet log = Log.create('FrameAdapter');\n\n/**\n * Adapter class for a stackframe.\n */\nexport class FrameAdapter {\n\n\tpublic readonly id: number;\n\tprivate _scopeAdapters?: ScopeAdapter[];\n\n\tpublic constructor(\n\t\tprivate readonly frameRegistry: Registry<FrameAdapter>,\n\t\tpublic readonly frame: FirefoxDebugProtocol.Frame,\n\t\tpublic readonly threadAdapter: ThreadAdapter\n\t) {\n\t\tthis.id = frameRegistry.register(this);\n\t}\n\n\tpublic async getStackframe(): Promise<StackFrame> {\n\n\t\tlet sourceActorName = this.frame.where.actor;\n\t\tlet sourceAdapter = await this.threadAdapter.findSourceAdapterForActorName(sourceActorName);\n\n\t\tlet name: string;\n\t\tswitch (this.frame.type) {\n\n\t\t\tcase 'call':\n\t\t\t\tconst callFrame = this.frame as FirefoxDebugProtocol.CallFrame;\n\t\t\t\tname = callFrame.displayName || '[anonymous function]';\n\t\t\t\tbreak;\n\n\t\t\tcase 'global':\n\t\t\t\tname = '[Global]';\n\t\t\t\tbreak;\n\n\t\t\tcase 'eval':\n\t\t\tcase 'clientEvaluate':\n\t\t\t\tname = '[eval]';\n\t\t\t\tbreak;\n\n\t\t\tcase 'wasmcall':\n\t\t\t\tname = '[wasm]';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tname = `[${this.frame.type}]`;\n\t\t\t\tlog.error(`Unexpected frame type ${this.frame.type}`);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn new StackFrame(this.id, name, sourceAdapter.source,\n\t\t\tthis.frame.where.line, (this.frame.where.column || 0) + 1);\n\t}\n\n\tpublic async getScopeAdapters(): Promise<ScopeAdapter[]> {\n\n\t\tif (!this._scopeAdapters) {\n\n\t\t\tconst frameActor = new FrameActorProxy(this.frame, this.threadAdapter.debugSession.firefoxDebugConnection);\n\t\t\tconst environment = await frameActor.getEnvironment();\n\t\t\tframeActor.dispose();\n\n\t\t\tconst environmentAdapter = EnvironmentAdapter.from(environment);\n\t\t\tthis._scopeAdapters = environmentAdapter.getScopeAdapters(this);\n\t\t\tif (this.frame.this !== undefined) {\n\t\t\t\tthis._scopeAdapters[0].addThis(this.frame.this);\n\t\t\t}\n\t\t}\n\n\t\treturn this._scopeAdapters;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.frameRegistry.unregister(this.id);\n\t}\n}\n","import { SourceAdapter } from './source';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { MappedLocation } from '../location';\n\nexport class BreakpointInfo {\n\n\t/**\n\t * the actual location where the breakpoint was set (which may be different from the requested location)\n\t */\n\tpublic actualLocation: MappedLocation | undefined;\n\n\t/** true if the breakpoint was successfully set */\n\tpublic verified: boolean;\n\n\t/** how many times the breakpoint should be skipped initially */\n\tpublic readonly hitCount: number;\n\n\tpublic constructor(\n\t\tpublic readonly id: number,\n\t\tpublic readonly requestedBreakpoint: DebugProtocol.SourceBreakpoint\n\t) {\n\t\tthis.verified = false;\n\t\tthis.hitCount = +(requestedBreakpoint.hitCondition || '');\n\t}\n\n\tpublic isEquivalent(other: BreakpointInfo | DebugProtocol.SourceBreakpoint): boolean {\n\n\t\tconst bp1 = this.requestedBreakpoint;\n\t\tconst bp2 = (other instanceof BreakpointInfo) ? other.requestedBreakpoint : other;\n\n\t\treturn (bp1.line === bp2.line) && (bp1.column === bp2.column) &&\n\t\t\t(bp1.condition === bp2.condition) && (bp1.logMessage === bp2.logMessage);\n\t}\n}\n\nexport class BreakpointAdapter {\n\n\tpublic hitCount: number;\n\n\tpublic get actorName(): undefined {\n\t\treturn undefined;\n\t}\n\n\tpublic constructor(\n\t\tpublic readonly breakpointInfo: BreakpointInfo,\n\t\tprivate readonly sourceAdapter: SourceAdapter\n\t) {\n\t\tthis.hitCount = 0;\n\t}\n\n\tdelete(): Promise<void> {\n\t\tif (this.breakpointInfo.actualLocation) {\n\n\t\t\treturn this.sourceAdapter.threadAdapter.actor.removeBreakpoint(\n\t\t\t\tthis.breakpointInfo.actualLocation,\n\t\t\t\tthis.sourceAdapter.actor\n\t\t\t);\n\n\t\t} else {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n}\n","import { Log } from '../util/log';\nimport { MappedLocation } from '../location';\nimport { ISourceActorProxy } from '../firefox/actorProxy/source';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { Source } from 'vscode-debugadapter';\nimport { ThreadAdapter } from './thread';\nimport { Registry } from './registry';\nimport { BreakpointInfo, BreakpointAdapter } from './breakpoint';\n\nconst log = Log.create('SourceAdapter');\n\nconst actorIdRegex = /[0-9]+$/;\n\n/**\n * Adapter class for a javascript source.\n */\nexport class SourceAdapter {\n\n\tpublic readonly id: number;\n\tpublic readonly source: Source;\n\tpublic get actor(): ISourceActorProxy {\n\t\treturn this._actor;\n\t}\n\n\t/** the breakpoints for this source that have been set in Firefox */\n\tprivate currentBreakpoints: BreakpointAdapter[] = [];\n\n\t/** the breakpoints for this source that should be set in Firefox */\n\tprivate desiredBreakpoints: BreakpointInfo[] | undefined = undefined;\n\n\t/** `true` while `syncBreakpoints()` is running  */\n\tprivate isSyncingBreakpoints: boolean = false;\n\n\tpublic constructor(\n\t\tsourceRegistry: Registry<SourceAdapter>,\n\t\tprivate _actor: ISourceActorProxy,\n\t\t/** the path or url as seen by VS Code */\n\t\tpublic readonly sourcePath: string | undefined,\n\t\tpublic readonly threadAdapter: ThreadAdapter\n\t) {\n\t\tthis.id = sourceRegistry.register(this);\n\t\tthis.source = SourceAdapter.createSource(_actor, sourcePath, this.id);\n\t}\n\n\tprivate static createSource(\n\t\tactor: ISourceActorProxy,\n\t\tsourcePath: string | undefined,\n\t\tid: number\n\t): Source {\n\n\t\tlet sourceName = '';\n\t\tif (actor.url != null) {\n\t\t\tsourceName = actor.url.split('/').pop()!.split('#')[0];\n\t\t} else {\n\t\t\tlet match = actorIdRegex.exec(actor.name);\n\t\t\tif (match) {\n\t\t\t\tsourceName = `${actor.source.introductionType || 'Script'} ${match[0]}`;\n\t\t\t}\n\t\t}\n\n\t\tlet source: Source;\n\t\tif (sourcePath !== undefined) {\n\t\t\tsource = new Source(sourceName, sourcePath);\n\t\t} else {\n\t\t\tsource = new Source(sourceName, actor.url || undefined, id);\n\t\t}\n\n\t\tif (actor.source.isBlackBoxed) {\n\t\t\t(<DebugProtocol.Source>source).presentationHint = 'deemphasize';\n\t\t}\n\n\t\treturn source;\n\t}\n\n\tpublic updateBreakpoints(breakpoints: BreakpointInfo[]): void {\n\t\tthis.desiredBreakpoints = breakpoints;\n\t\tthis.checkAndSyncBreakpoints();\n\t}\n\n\tpublic async replaceActor(newActor: ISourceActorProxy): Promise<void> {\n\n\t\tawait Promise.all(this.currentBreakpoints.map(breakpoint => breakpoint.delete()));\n\n\t\tthis.threadAdapter.replaceSourceActor(this._actor.name, newActor.name);\n\t\tthis._actor = newActor;\n\n\t\tthis.desiredBreakpoints = this.currentBreakpoints.map(bp => bp.breakpointInfo);\n\t\tif (this.desiredBreakpoints.length === 0) {\n\t\t\tthis.desiredBreakpoints = undefined;\n\t\t}\n\t\tthis.currentBreakpoints = [];\n\t\tthis.checkAndSyncBreakpoints();\n\t}\n\n\tpublic findBreakpointAdapterForLocation(location: FirefoxDebugProtocol.SourceLocation): BreakpointAdapter | undefined {\n\t\treturn this.currentBreakpoints.find(\n\t\t\tbreakpointAdapter =>\n\t\t\t\tbreakpointAdapter.breakpointInfo &&\n\t\t\t\tbreakpointAdapter.breakpointInfo.actualLocation &&\n\t\t\t\t(breakpointAdapter.breakpointInfo.actualLocation.line === location.line) &&\n\t\t\t\t(breakpointAdapter.breakpointInfo.actualLocation.column === location.column)\n\t\t);\n\t}\n\n\tprivate checkAndSyncBreakpoints(): void {\n\t\tif ((this.desiredBreakpoints !== undefined) && !this.isSyncingBreakpoints) {\n\t\t\tthis.syncBreakpoints();\n\t\t}\n\t}\n\n\t/**\n\t * synchronize the breakpoints for this source with Firefox, i.e. calculate the difference\n\t * between `currentBreakpoints` and `desiredBreakpoints` and add and remove breakpoints as needed\n\t */\n\tprivate async syncBreakpoints(): Promise<void> {\n\n\t\tthis.isSyncingBreakpoints = true;\n\t\tconst desiredBreakpoints = this.desiredBreakpoints!;\n\t\tthis.desiredBreakpoints = undefined;\n\n\n\t\tconst breakpointsToDelete: BreakpointAdapter[] = [];\n\t\tconst breakpointsToKeep: BreakpointAdapter[] = [];\n\t\tfor (const currentBreakpoint of this.currentBreakpoints) {\n\t\t\tif (desiredBreakpoints.some(\n\t\t\t\trequestedBreakpoint => requestedBreakpoint.isEquivalent(currentBreakpoint.breakpointInfo)\n\t\t\t)) {\n\t\t\t\tbreakpointsToKeep.push(currentBreakpoint);\n\t\t\t} else {\n\t\t\t\tbreakpointsToDelete.push(currentBreakpoint);\n\t\t\t}\n\t\t}\n\n\t\tif (log.isDebugEnabled()) log.debug(`Going to delete ${breakpointsToDelete.length} breakpoints`);\n\n\t\tconst deletionPromises = breakpointsToDelete.map(\n\t\t\tbreakpointAdapter => breakpointAdapter.delete()\n\t\t);\n\n\t\tawait Promise.all(deletionPromises);\n\n\n\t\tconst breakpointsToAdd = desiredBreakpoints.filter(\n\t\t\tdesiredBreakpoint => !this.currentBreakpoints.some(\n\t\t\t\tcurrentBreakpoint => desiredBreakpoint.isEquivalent(currentBreakpoint.breakpointInfo)\n\t\t\t)\n\t\t);\n\n\t\tif (log.isDebugEnabled()) log.debug(`Going to add ${breakpointsToAdd.length} breakpoints`);\n\n\t\tconst breakpointsManager = this.threadAdapter.debugSession.breakpointsManager;\n\n\t\tconst additionPromises = breakpointsToAdd.map(\n\t\t\tasync breakpointInfo => {\n\n\t\t\t\tconst actualLocation = await this.findNextBreakableLocation(\n\t\t\t\t\tbreakpointInfo.requestedBreakpoint.line,\n\t\t\t\t\t(breakpointInfo.requestedBreakpoint.column || 1) - 1\n\t\t\t\t);\n\n\t\t\t\tif (actualLocation) {\n\n\t\t\t\t\tbreakpointInfo.actualLocation = actualLocation;\n\n\t\t\t\t\tlet logValue: string | undefined;\n\t\t\t\t\tif (breakpointInfo.requestedBreakpoint.logMessage) {\n\t\t\t\t\t\tlogValue = '...' + convertLogpointMessage(breakpointInfo.requestedBreakpoint.logMessage);\n\t\t\t\t\t}\n\n\t\t\t\t\tawait this.threadAdapter.actor.setBreakpoint(\n\t\t\t\t\t\tbreakpointInfo.actualLocation,\n\t\t\t\t\t\tthis.actor,\n\t\t\t\t\t\tbreakpointInfo.requestedBreakpoint.condition,\n\t\t\t\t\t\tlogValue\n\t\t\t\t\t);\n\n\t\t\t\t\tbreakpointsManager.verifyBreakpoint(breakpointInfo);\n\n\t\t\t\t\treturn new BreakpointAdapter(breakpointInfo, this);\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t);\n\n\t\tconst addedBreakpoints = (await Promise.all(additionPromises))\n\t\t\t.filter(bp => bp) as BreakpointAdapter[];\n\n\t\tthis.currentBreakpoints = breakpointsToKeep.concat(addedBreakpoints);\n\t\tthis.isSyncingBreakpoints = false;\n\n\t\tthis.checkAndSyncBreakpoints();\n\t}\n\n\tprivate async findNextBreakableLocation(\n\t\trequestedLine: number,\n\t\trequestedColumn: number\n\t): Promise<MappedLocation | undefined> {\n\n\t\tlet breakableLocations = await this.actor.getBreakableLocations(requestedLine);\n\t\tfor (const location of breakableLocations) {\n\t\t\tif (location.column >= requestedColumn) {\n\t\t\t\treturn location;\n\t\t\t}\n\t\t}\n\n\t\tconst breakableLines = await this.actor.getBreakableLines();\n\t\tfor (const line of breakableLines) {\n\t\t\tif (line > requestedLine) {\n\t\t\t\tbreakableLocations = await this.actor.getBreakableLocations(line);\n\t\t\t\tif (breakableLocations.length > 0) {\n\t\t\t\t\treturn breakableLocations[0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.actor.dispose();\n\t}\n}\n\n/**\n * convert the message of a logpoint (which can contain javascript expressions in curly braces)\n * to a javascript expression that evaluates to an array of values to be displayed in the debug console\n * (doesn't support escaping or nested curly braces)\n */\nexport function convertLogpointMessage(msg: string): string {\n\n\t// split `msg` into string literals and javascript expressions\n\tconst items: string[] = [];\n\tlet currentPos = 0;\n\twhile (true) {\n\n\t\tconst leftBrace = msg.indexOf('{', currentPos);\n\n\t\tif (leftBrace < 0) {\n\n\t\t\titems.push(JSON.stringify(msg.substring(currentPos)));\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\tlet rightBrace = msg.indexOf('}', leftBrace + 1);\n\t\t\tif (rightBrace < 0) rightBrace = msg.length;\n\n\t\t\titems.push(JSON.stringify(msg.substring(currentPos, leftBrace)));\n\t\t\titems.push(msg.substring(leftBrace + 1, rightBrace));\n\t\t\tcurrentPos = rightBrace + 1;\n\t\t}\n\t}\n\n\t// the appended `reduce()` call will convert all non-object values to strings and concatenate consecutive strings\n\treturn `[${items.join(',')}].reduce((a,c)=>{if(typeof c==='object'&&c){a.push(c,'')}else{a.push(a.pop()+c)}return a},[''])`;\n}\n","import { Log } from './log';\n\nlet log = Log.create('DelayedTask');\n\nexport class DelayedTask<T> {\n\n\tprivate state: 'waiting' | 'running' | 'finished';\n\tprivate resolve!: (result: T) => void;\n\tprivate reject!: (reason?: any) => void;\n\n\tpublic readonly promise: Promise<T>;\n\n\tpublic constructor(\n\t\tprivate task: () => Promise<T>,\n\t) {\n\n\t\tthis.promise = new Promise<T>((resolve, reject) => {\n\t\t\tthis.resolve = resolve;\n\t\t\tthis.reject = reject;\n\t\t});\n\n\t\tthis.state = 'waiting';\n\t}\n\n\tpublic async execute(): Promise<void> {\n\n\t\tif (this.state !== 'waiting') {\n\t\t\tlog.error(`Tried to execute DelayedTask, but it is ${this.state}`);\n\t\t\treturn;\n\t\t}\n\n\t\tlet result: T;\n\t\ttry {\n\t\t\tthis.state = 'running';\n\t\t\tresult = await this.task();\n\t\t\tthis.resolve(result);\n\t\t} catch (err) {\n\t\t\tthis.reject(err);\n\t\t\tthrow err;\n\t\t}\n\n\t\tthis.state = 'finished';\n\t}\n\n\tpublic cancel(reason?: any): void {\n\n\t\tif (this.state !== 'waiting') {\n\t\t\tlog.error(`Tried to cancel DelayedTask, but it is ${this.state}`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.reject(reason);\n\t\tthis.state = 'finished';\n\t}\n}\n","import { Log } from '../util/log';\nimport { EventEmitter } from 'events';\nimport { ExceptionBreakpoints, IThreadActorProxy } from '../firefox/actorProxy/thread';\nimport { ConsoleActorProxy } from '../firefox/actorProxy/console';\nimport { ThreadPauseCoordinator, PauseType } from './threadPause';\nimport { DelayedTask } from '../util/delayedTask';\nimport { PendingRequest } from '../util/pendingRequests';\n\nlet log = Log.create('ThreadCoordinator');\n\ntype ThreadState = 'paused' | 'resuming' | 'running' | 'interrupting' | 'evaluating';\n\ntype ThreadTarget = 'paused' | 'running' | 'stepOver' | 'stepIn' | 'stepOut';\n\n/**\n * This class manages the state of one \n * [\"thread\"](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#interacting-with-thread-like-actors)\n * and coordinates all tasks that depend on or change the thread's state.\n * \n * Some tasks (adding and removing breakpoints, fetching stackframes and the values of javascript\n * variables) can only be run when the thread is paused. These actions can (and are) run in parallel,\n * but the thread must not be resumed until all of them are finished. If such a task is requested\n * while the thread is running, it is paused temporarily and resumed automatically when the task\n * is finished.\n * \n * The evaluation of watch expressions is also coordinated using this class: the evaluation tasks\n * for the watch expressions are queued, then the thread is paused, then the evaluation tasks are\n * run one after another and then the thread is resumed.\n * The reason for this is that we want to skip all breakpoints when evaluating watch expressions,\n * to do this we need to know if a breakpoint was hit due to a watch expression or not. By running\n * the evaluation of watch expressions through this coordinator, we ensure that no other javascript\n * code can be running while doing the evaluation.\n */\nexport class ThreadCoordinator extends EventEmitter {\n\n\t/**\n\t * whether we should break on uncaught or all exceptions, this setting is sent to Firefox\n\t * with the next request to resume the thread\n\t */\n\tprivate exceptionBreakpoints: ExceptionBreakpoints | undefined;\n\n\t/** the current state of the thread */\n\tprivate threadState: ThreadState = 'paused';\n\n\t/**\n\t * the desired state of the thread, the thread will be put into this state when no more actions\n\t * are queued or running\n\t */\n\tprivate _threadTarget: ThreadTarget = 'paused';\n\tpublic get threadTarget(): ThreadTarget {\n\t\treturn this._threadTarget;\n\t}\n\n\t/** if the thread is paused, this will contain the reason for the pause */\n\tprivate _threadPausedReason?: FirefoxDebugProtocol.ThreadPausedReason;\n\tpublic get threadPausedReason(): FirefoxDebugProtocol.ThreadPausedReason | undefined {\n\t\treturn this._threadPausedReason;\n\t}\n\n\t/**\n\t * if the thread is interrupting (i.e. we sent an interrupt request, but didn't receive\n\t * an answer yet), this will contain a Promise that will be resolved when the thread reached\n\t * the paused state\n\t */\n\tprivate interruptPromise?: Promise<void>;\n\t/** the resolve/reject functions for the `interruptPromise` */\n\tprivate pendingInterruptRequest?: PendingRequest<void>;\n\n\t/**\n\t * if the thread is resuming (i.e. we sent a resume request, but didn't receive\n\t * an answer yet), this will contain a Promise that will be resolved when the thread reached\n\t * the running state\n\t */\n\tprivate resumePromise?: Promise<void>;\n\t/** the resolve/reject functions for the `resumePromise` */\n\tprivate pendingResumeRequest?: PendingRequest<void>;\n\n\tprivate queuedTasksToRunOnPausedThread: DelayedTask<any>[] = [];\n\tprivate tasksRunningOnPausedThread = 0;\n\n\tprivate queuedEvaluateTasks: DelayedTask<FirefoxDebugProtocol.Grip>[] = [];\n\n\tconstructor(\n\t\tprivate threadId: number,\n\t\tprivate threadName: string,\n\t\tisPaused: boolean,\n\t\tprivate threadActor: IThreadActorProxy,\n\t\tprivate consoleActor: ConsoleActorProxy,\n\t\tprivate pauseCoordinator: ThreadPauseCoordinator,\n\t\tprivate prepareResume: () => Promise<void>\n\t) {\n\t\tsuper();\n\n\t\tconst state = isPaused ? 'paused' : 'running';\n\t\tthis.threadState = state;\n\t\tthis._threadTarget = state;\n\n\t\tthreadActor.onPaused((event) => {\n\n\t\t\tif (this.threadState === 'evaluating') {\n\n\t\t\t\t// we hit a breakpoint while evaluating a watch, so we skip it by resuming immediately\n\t\t\t\tthreadActor.resume(this.exceptionBreakpoints);\n\n\t\t\t} else if ((event.why.type === 'exception') && \n\t\t\t\t\t\t(this.exceptionBreakpoints === ExceptionBreakpoints.None)) {\n\n\t\t\t\t// the thread was paused because it hit an exception, but we want to skip that\n\t\t\t\t// (this can happen when the user changed the setting for exception breakpoints\n\t\t\t\t// but we couldn't send the changed setting to Firefox yet)\n\t\t\t\tthreadActor.resume(this.exceptionBreakpoints);\n\n\t\t\t} else {\n\n\t\t\t\tthis._threadTarget = 'paused';\n\t\t\t\tthis._threadPausedReason = event.why;\n\t\t\t\tthis.threadPaused('user');\n\t\t\t\tthis.emit('paused', event);\n\n\t\t\t}\n\t\t});\n\n\t\tthreadActor.onResumed(() => {\n\n\t\t\tthis._threadTarget = 'running';\n\t\t\tthis._threadPausedReason = undefined;\n\t\t\tthis.threadResumed();\n\n\t\t\tif (this.tasksRunningOnPausedThread > 0) {\n\t\t\t\tlog.warn('Thread resumed unexpectedly while tasks that need the thread to be paused were running');\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic setExceptionBreakpoints(exceptionBreakpoints: ExceptionBreakpoints) {\n\n\t\tthis.exceptionBreakpoints = exceptionBreakpoints;\n\n\t\tif ((this.threadState === 'resuming') || (this.threadState === 'running')) {\n\t\t\t// We can only send the changed setting for exception breakpoints to Firefox when sending\n\t\t\t// a resume request. By requesting to run a dummy action on the paused thread, we ensure\n\t\t\t// that a resume request will be sent to Firefox (after the dummy action is finished).\n\t\t\tthis.runOnPausedThread(async () => undefined);\n\t\t}\n\t}\n\n\tpublic interrupt(): Promise<void> {\n\n\t\tif (this.threadState === 'paused') {\n\n\t\t\treturn Promise.resolve();\n\n\t\t} else if (this.interruptPromise !== undefined) {\n\n\t\t\treturn this.interruptPromise;\n\n\t\t} else {\n\n\t\t\tthis._threadTarget = 'paused';\n\t\t\tthis._threadPausedReason = undefined;\n\t\t\tthis.interruptPromise = new Promise<void>((resolve, reject) => {\n\t\t\t\tthis.pendingInterruptRequest = { resolve, reject };\n\t\t\t});\n\t\t\tthis.doNext();\n\t\t\treturn this.interruptPromise;\n\n\t\t}\n\t}\n\n\tpublic resume(): Promise<void> {\n\t\treturn this.resumeTo('running');\n\t}\n\n\tpublic stepOver(): Promise<void> {\n\t\treturn this.resumeTo('stepOver');\n\t}\n\n\tpublic stepIn(): Promise<void> {\n\t\treturn this.resumeTo('stepIn');\n\t}\n\n\tpublic stepOut(): Promise<void> {\n\t\treturn this.resumeTo('stepOut');\n\t}\n\n\tprivate resumeTo(target: 'running' | 'stepOver' | 'stepIn' | 'stepOut'): Promise<void> {\n\n\t\tif (this.threadState === 'running') {\n\n\t\t\tif (target !== 'running') {\n\t\t\t\tlog.warn(`Can't ${target} because the thread is already running`);\n\t\t\t}\n\n\t\t\treturn Promise.resolve();\n\n\t\t} else if (this.resumePromise !== undefined) {\n\n\t\t\tif (target !== 'running') {\n\t\t\t\tlog.warn(`Can't ${target} because the thread is already resuming`);\n\t\t\t}\n\n\t\t\treturn this.resumePromise;\n\n\t\t} else {\n\n\t\t\tthis._threadTarget = target;\n\t\t\tthis._threadPausedReason = undefined;\n\t\t\tthis.resumePromise = new Promise<void>((resolve, reject) => {\n\t\t\t\tthis.pendingResumeRequest = { resolve, reject };\n\t\t\t});\n\t\t\tthis.doNext();\n\t\t\treturn this.resumePromise;\n\n\t\t}\n\t}\n\n\tpublic runOnPausedThread<T>(task: () => Promise<T>): Promise<T> {\n\n\t\tlet delayedTask = new DelayedTask(task);\n\t\tthis.queuedTasksToRunOnPausedThread.push(delayedTask);\n\t\tthis.doNext();\n\t\treturn delayedTask.promise;\n\t}\n\n\tpublic evaluate(\n\t\texpr: string,\n\t\tframeActorName: string | undefined\n\t): Promise<FirefoxDebugProtocol.Grip> {\n\n\t\tlet delayedTask = new DelayedTask(() => this.consoleActor.evaluate(expr, frameActorName));\n\n\t\tthis.queuedEvaluateTasks.push(delayedTask);\n\t\tthis.doNext();\n\n\t\treturn delayedTask.promise;\n\t}\n\n\tpublic onPaused(cb: (event: FirefoxDebugProtocol.ThreadPausedResponse) => void) {\n\t\tthis.on('paused', cb);\n\t}\n\n\t/** \n\t * This method is called whenever an action was queued or finished running or the desired thread\n\t * state changed. It will decide what should be done next (if anything) and will do it by\n\t * calling one of the `execute` functions below.\n\t */\n\tprivate doNext(): void {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`state: ${this.threadState}, target: ${this.threadTarget}, tasks: ${this.tasksRunningOnPausedThread}/${this.queuedTasksToRunOnPausedThread.length}, eval: ${this.queuedEvaluateTasks.length}`)\n\t\t}\n\n\t\tif ((this.threadState === 'interrupting') ||\n\t\t\t(this.threadState === 'resuming') ||\n\t\t\t(this.threadState === 'evaluating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.threadState === 'running') {\n\n\t\t\tif ((this.queuedTasksToRunOnPausedThread.length > 0) || (this.queuedEvaluateTasks.length > 0)) {\n\t\t\t\tthis.executeInterrupt('auto');\n\t\t\t\treturn;\n\t\t\t}\n \n\t\t\tif (this.threadTarget === 'paused') {\n\t\t\t\tthis.executeInterrupt('user');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t} else { // this.threadState === 'paused'\n\n\t\t\tif (this.queuedTasksToRunOnPausedThread.length > 0) {\n\n\t\t\t\tfor (let task of this.queuedTasksToRunOnPausedThread) {\n\t\t\t\t\tthis.executeOnPausedThread(task);\n\t\t\t\t}\n\t\t\t\tthis.queuedTasksToRunOnPausedThread = [];\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.tasksRunningOnPausedThread > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.queuedEvaluateTasks.length > 0) {\n\n\t\t\t\tlet task = this.queuedEvaluateTasks.shift()!;\n\t\t\t\tthis.executeEvaluateTask(task);\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ((this.threadState === 'paused') && (this.threadTarget !== 'paused')) {\n\t\t\tthis.executeResume();\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * interrupts the thread, the `pauseType` argument specifies if this is due to a breakpoint or\n\t * the user requesting the thread to be paused (so it won't be resumed by this class until the\n\t * user requests it to be resumed) or if it is an automatic pause in order to run some actions\n\t * on the paused thread (so it *will* be resumed automatically when all actions are finished)\n\t */\n\tprivate async executeInterrupt(pauseType: PauseType): Promise<void> {\n\n\t\tthis.threadState = 'interrupting';\n\n\t\ttry {\n\n\t\t\tawait this.pauseCoordinator.requestInterrupt(this.threadId, this.threadName, pauseType);\n\t\t\tawait this.threadActor.interrupt(pauseType === 'auto');\n\t\t\tthis.threadPaused(pauseType);\n\n\t\t} catch(e) {\n\t\t\tlog.error(`interrupt failed: ${e}`);\n\t\t\tthis.threadState = 'running';\n\t\t\tthis.pauseCoordinator.notifyInterruptFailed(this.threadId, this.threadName);\n\t\t}\n\n\t\tthis.interruptPromise = undefined;\n\n\t\tthis.doNext();\n\t}\n\n\tprivate async executeResume(): Promise<void> {\n\n\t\ttry {\n\n\t\t\tawait this.pauseCoordinator.requestResume(this.threadId, this.threadName);\n\n\t\t} catch(e) {\n\n\t\t\tlog.error(`resume denied: ${e}`);\n\n\t\t\tif (this.pendingResumeRequest !== undefined) {\n\t\t\t\tthis.pendingResumeRequest.reject(e);\n\t\t\t\tthis.pendingResumeRequest = undefined;\n\t\t\t}\n\t\t\tthis.resumePromise = undefined;\n\t\t}\n\n\t\tlet resumeLimit = this.getResumeLimit();\n\t\tthis.threadState = 'resuming';\n\n\t\ttry {\n\n\t\t\tawait this.prepareResume();\n\t\t\tawait this.threadActor.resume(this.exceptionBreakpoints, resumeLimit);\n\t\t\tthis.threadResumed();\n\n\t\t} catch(e) {\n\t\t\tlog.error(`resume failed: ${e}`);\n\t\t\tthis.threadState = 'paused';\n\t\t\tthis.pauseCoordinator.notifyResumeFailed(this.threadId, this.threadName);\n\t\t}\n\n\t\tthis.doNext();\n\t}\n\n\tprivate async executeOnPausedThread(task: DelayedTask<any>): Promise<void> {\n\n\t\tif (this.threadState !== 'paused') {\n\t\t\tlog.error(`executeOnPausedThread called but threadState is ${this.threadState}`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.tasksRunningOnPausedThread++;\n\t\ttry {\n\t\t\tawait task.execute();\n\t\t} catch(e) {\n\t\t\tlog.warn(`task running on paused thread failed: ${e}`);\n\t\t}\n\t\tthis.tasksRunningOnPausedThread--;\n\n\t\tif (this.tasksRunningOnPausedThread === 0) {\n\t\t\tthis.doNext();\n\t\t}\n\t}\n\n\tprivate async executeEvaluateTask(task: DelayedTask<FirefoxDebugProtocol.Grip>): Promise<void> {\n\n\t\tif (this.threadState !== 'paused') {\n\t\t\tlog.error(`executeEvaluateTask called but threadState is ${this.threadState}`);\n\t\t\treturn;\n\t\t}\n\t\tif (this.tasksRunningOnPausedThread > 0) {\n\t\t\tlog.error(`executeEvaluateTask called but tasksRunningOnPausedThread is ${this.tasksRunningOnPausedThread}`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.threadState = 'evaluating';\n\t\ttry {\n\t\t\tawait task.execute();\n\t\t} catch(e) {\n\t\t}\n\t\tthis.threadState = 'paused';\n\n\t\tthis.doNext();\n\t}\n\n\tprivate threadPaused(pauseType: PauseType): void {\n\n\t\tthis.threadState = 'paused';\n\n\t\tif (this.pendingInterruptRequest !== undefined) {\n\t\t\tthis.pendingInterruptRequest.resolve(undefined);\n\t\t\tthis.pendingInterruptRequest = undefined;\n\t\t}\n\t\tthis.interruptPromise = undefined;\n\n\t\tif (this.threadTarget === 'paused') {\n\t\t\tif (this.pendingResumeRequest !== undefined) {\n\t\t\t\tthis.pendingResumeRequest.reject(undefined);\n\t\t\t\tthis.pendingResumeRequest = undefined;\n\t\t\t}\n\t\t\tthis.resumePromise = undefined;\n\t\t}\n\n\t\tthis.pauseCoordinator.notifyInterrupted(this.threadId, this.threadName, pauseType);\n\t}\n\n\tprivate threadResumed(): void {\n\n\t\tthis.threadState = 'running';\n\n\t\tif (this.pendingResumeRequest !== undefined) {\n\t\t\tthis.pendingResumeRequest.resolve(undefined);\n\t\t\tthis.pendingResumeRequest = undefined;\n\t\t}\n\t\tthis.resumePromise = undefined;\n\n\t\tif (this.threadTarget !== 'paused') {\n\t\t\tif (this.pendingInterruptRequest !== undefined) {\n\t\t\t\tthis.pendingInterruptRequest.reject(undefined);\n\t\t\t\tthis.pendingInterruptRequest = undefined;\n\t\t\t}\n\t\t\tthis.interruptPromise = undefined;\n\t\t}\n\n\t\tthis.pauseCoordinator.notifyResumed(this.threadId, this.threadName);\n\t}\n\n\tprivate getResumeLimit(): 'next' | 'step' | 'finish' | undefined {\n\t\tswitch (this.threadTarget) {\n\t\t\tcase 'stepOver':\n\t\t\t\treturn 'next';\n\t\t\tcase 'stepIn':\n\t\t\t\treturn 'step';\n\t\t\tcase 'stepOut':\n\t\t\t\treturn 'finish';\n\t\t\tdefault:\n\t\t\t\treturn undefined;\n\t\t}\n\t}\n}\n","import { EventEmitter } from 'events';\nimport { ExceptionBreakpoints, IThreadActorProxy } from '../firefox/actorProxy/thread';\nimport { ConsoleActorProxy } from '../firefox/actorProxy/console';\nimport { ISourceActorProxy } from '../firefox/actorProxy/source';\nimport { FrameAdapter } from './frame';\nimport { ScopeAdapter } from './scope';\nimport { SourceAdapter } from './source';\nimport { ObjectGripAdapter } from './objectGrip';\nimport { VariablesProvider } from './variablesProvider';\nimport { VariableAdapter } from './variable';\nimport { ThreadCoordinator } from '../coordinator/thread';\nimport { ThreadPauseCoordinator } from '../coordinator/threadPause';\nimport { Variable } from 'vscode-debugadapter';\nimport { Log } from '../util/log';\nimport { FirefoxDebugSession } from '../firefoxDebugSession';\nimport { pathsAreEqual } from '../util/misc';\nimport { Location } from '../location';\nimport { AttachOptions } from '../firefox/actorProxy/thread';\nimport { PendingRequest } from '../util/pendingRequests';\n\nlet log = Log.create('ThreadAdapter');\n\nexport interface SourceLocation extends Location {\n\tsource: SourceAdapter;\n}\n\n/**\n * Adapter class for a thread\n */\nexport class ThreadAdapter extends EventEmitter {\n\n\tpublic id: number;\n\tpublic get actorName() {\n\t\treturn this.actor.name;\n\t}\n\n\tpublic readonly coordinator: ThreadCoordinator;\n\n\t/**\n\t * All `SourceAdapter`s for this thread. They will be disposed when this `ThreadAdapter` is disposed.\n\t */\n\tprivate sources: SourceAdapter[] = [];\n\n\t/**\n\t * Sometimes `SourceActor`s are referenced in stack frames before the corresponding `newSource`\n\t * event was sent by Firefox. In this case the `ThreadAdapter` returns a `Promise` for the\n\t * corresponding `SourceAdapter` which is resolved when the `newSource` event was received.\n\t */\n\tprivate sourcePromises = new Map<string, Promise<SourceAdapter>>();\n\tprivate pendingSources = new Map<string, PendingRequest<SourceAdapter>>();\n\n\t/**\n\t * When the thread is paused, this is set to a Promise that resolves to the `FrameAdapter`s for\n\t * the stacktrace for the current thread pause. At the end of the thread pause, these are disposed.\n\t */\n\tprivate framesPromise: Promise<FrameAdapter[]> | undefined = undefined;\n\n\t/**\n\t * All `ScopeAdapter`s that have been created for the current thread pause. They will be disposed\n\t * at the end of the thread pause.\n\t */\n\tprivate scopes: ScopeAdapter[] = [];\n\n\t/**\n\t * All `ObjectGripAdapter`s that should be disposed at the end of the current thread pause\n\t */\n\tprivate pauseLifetimeObjects: ObjectGripAdapter[] = [];\n\n\t/**\n\t * All `ObjectGripAdapter`s that should be disposed when this `ThreadAdapter` is disposed\n\t */\n\tprivate threadLifetimeObjects: ObjectGripAdapter[] = [];\n\n\tpublic constructor(\n\t\tpublic readonly actor: IThreadActorProxy,\n\t\tprivate readonly consoleActor: ConsoleActorProxy,\n\t\tprivate readonly pauseCoordinator: ThreadPauseCoordinator,\n\t\tpublic readonly name: string,\n\t\tpublic readonly getUrl: () => string,\n\t\tisPaused: boolean,\n\t\tpublic readonly debugSession: FirefoxDebugSession\n\t) {\n\t\tsuper();\n\n\t\tthis.id = debugSession.threads.register(this);\n\n\t\tthis.coordinator = new ThreadCoordinator(this.id, this.name, isPaused, this.actor,\n\t\t\tthis.consoleActor, this.pauseCoordinator, () => this.disposePauseLifetimeAdapters());\n\n\t\tthis.coordinator.onPaused(async (event) => {\n\n\t\t\tconst sourceLocation = event.frame.where;\n\n\t\t\ttry {\n\n\t\t\t\tconst sourceAdapter = await this.findSourceAdapterForActorName(sourceLocation.actor);\n\t\n\t\t\t\tif (sourceAdapter.actor.source.isBlackBoxed) {\n\n\t\t\t\t\t// skipping (or blackboxing) source files is usually done by Firefox itself,\n\t\t\t\t\t// but when the debugger hits an exception in a source that was just loaded and\n\t\t\t\t\t// should be skipped, we may not have been able to tell Firefox that we want\n\t\t\t\t\t// to skip this file, so we have to do it here\n\t\t\t\t\tthis.resume();\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ((event.why.type === 'breakpoint') &&\n\t\t\t\t\tevent.why.actors && (event.why.actors.length > 0)) {\n\n\t\t\t\t\tconst breakpointAdapter = sourceAdapter.findBreakpointAdapterForLocation(sourceLocation);\n\n\t\t\t\t\tif (breakpointAdapter) {\n\n\t\t\t\t\t\tif (breakpointAdapter.breakpointInfo.hitCount) {\n\n\t\t\t\t\t\t\t// Firefox doesn't have breakpoints with hit counts, so we have to\n\t\t\t\t\t\t\t// implement this here\n\t\t\t\t\t\t\tbreakpointAdapter.hitCount++;\n\t\t\t\t\t\t\tif (breakpointAdapter.hitCount < breakpointAdapter.breakpointInfo.hitCount) {\n\n\t\t\t\t\t\t\t\tthis.resume();\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch(err) {\n\t\t\t\tlog.warn(err);\n\t\t\t}\n\n\t\t\tif (event.why.type === 'exception') {\n\n\t\t\t\tlet frames = await this.fetchAllStackFrames();\n\t\t\t\tlet startFrame = (frames.length > 0) ? frames[frames.length - 1] : undefined;\n\t\t\t\tif (startFrame) {\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst sourceAdapter = await this.findSourceAdapterForActorName(startFrame.frame.where.actor);\n\n\t\t\t\t\t\tif (sourceAdapter.actor.source.introductionType === 'debugger eval') {\n\n\t\t\t\t\t\t\t// skip exceptions triggered by debugger eval code\n\t\t\t\t\t\t\tthis.resume();\n\t\t\t\t\t\t\treturn;\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tlog.warn(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.emit('paused', event.why);\n\t\t\t// pre-fetch the stackframes, we're going to need them later\n\t\t\tthis.fetchAllStackFrames();\n\t\t});\n\t}\n\n\t/**\n\t * Attach to the thread, fetch sources and resume.\n\t */\n\tpublic async init(exceptionBreakpoints: ExceptionBreakpoints, isPaused: boolean): Promise<void> {\n\n\t\tconst attachOptions: AttachOptions = {\n\t\t\tignoreFrameEnvironment: true,\n\t\t\tpauseOnExceptions: (exceptionBreakpoints !== ExceptionBreakpoints.None),\n\t\t\tignoreCaughtExceptions: (exceptionBreakpoints !== ExceptionBreakpoints.All)\n\t\t};\n\n\t\tif (isPaused) {\n\t\t\tawait this.pauseCoordinator.requestInterrupt(this.id, this.name, 'auto');\n\t\t}\n\t\ttry {\n\t\t\tawait this.actor.attach(attachOptions);\n\t\t\tif (isPaused) {\n\t\t\t\tthis.pauseCoordinator.notifyInterrupted(this.id, this.name, 'auto');\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tthis.pauseCoordinator.notifyInterruptFailed(this.id, this.name);\n\t\t\tthrow e;\n\t\t}\n\n\t\tawait this.actor.fetchSources();\n\n\t\tif (isPaused) {\n\t\t\tawait this.coordinator.resume();\n\t\t}\n\t}\n\n\tpublic createSourceAdapter(actor: ISourceActorProxy, path: string | undefined): SourceAdapter {\n\n\t\tlet adapter = new SourceAdapter(this.debugSession.sources, actor, path, this);\n\n\t\tthis.sources.push(adapter);\n\n\t\tif (this.pendingSources.has(actor.name)) {\n\t\t\tthis.pendingSources.get(actor.name)!.resolve(adapter);\n\t\t\tthis.pendingSources.delete(actor.name);\n\t\t} else {\n\t\t\tthis.sourcePromises.set(actor.name, Promise.resolve(adapter));\n\t\t}\n\n\t\treturn adapter;\n\t}\n\n\tpublic replaceSourceActor(oldActor: string, newActor: string): void {\n\n\t\tif (this.sourcePromises.has(oldActor)) {\n\n\t\t\tconst adapterPromise = this.sourcePromises.get(oldActor)!;\n\t\t\tthis.sourcePromises.set(newActor, adapterPromise);\n\n\t\t\tif (this.pendingSources.has(newActor)) {\n\t\t\t\t(async () => {\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst adapter = await adapterPromise;\n\n\t\t\t\t\t\tif (this.pendingSources.has(newActor)) {\n\t\t\t\t\t\t\tthis.pendingSources.get(newActor)!.resolve(adapter);\n\t\t\t\t\t\t\tthis.pendingSources.delete(newActor);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tlog.warn(err);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\n\t\t} else {\n\t\t\tlog.warn(`SourceAdapter for ${oldActor} (replaced by ${newActor}) not found`);\n\t\t}\n\t}\n\n\tpublic registerScopeAdapter(scopeAdapter: ScopeAdapter) {\n\t\tthis.scopes.push(scopeAdapter);\n\t}\n\n\tpublic registerObjectGripAdapter(objectGripAdapter: ObjectGripAdapter) {\n\t\tif (objectGripAdapter.threadLifetime) {\n\t\t\tthis.threadLifetimeObjects.push(objectGripAdapter);\n\t\t} else {\n\t\t\tthis.pauseLifetimeObjects.push(objectGripAdapter);\n\t\t}\n\t}\n\n\t/**\n\t * extend the given adapter's lifetime to threadLifetime (if it isn't already)\n\t */\n\tpublic threadLifetime(objectGripAdapter: ObjectGripAdapter): void {\n\n\t\tif (!objectGripAdapter.threadLifetime) {\n\n\t\t\tconst index = this.pauseLifetimeObjects.indexOf(objectGripAdapter);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis.pauseLifetimeObjects.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.threadLifetimeObjects.push(objectGripAdapter);\n\t\t\tobjectGripAdapter.threadLifetime = true;\n\t\t}\n\t}\n\n\tpublic findCorrespondingSourceAdapter(url: string | undefined): SourceAdapter | undefined {\n\t\tif (!url) return undefined;\n\n\t\tfor (let sourceAdapter of this.sources) {\n\t\t\tif (sourceAdapter.actor.source.url === url) {\n\t\t\t\treturn sourceAdapter;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic findSourceAdaptersForPathOrUrl(pathOrUrl: string): SourceAdapter[] {\n\t\tif (!pathOrUrl) return [];\n\n\t\treturn this.sources.filter((sourceAdapter) =>\n\t\t\tpathsAreEqual(pathOrUrl, sourceAdapter.sourcePath) || (sourceAdapter.actor.url === pathOrUrl)\n\t\t);\n\t}\n\n\tpublic findSourceAdaptersForUrlWithoutQuery(url: string): SourceAdapter[] {\n\n\t\treturn this.sources.filter((sourceAdapter) => {\n\n\t\t\tlet sourceUrl = sourceAdapter.actor.url;\n\t\t\tif (!sourceUrl) return false;\n\n\t\t\tlet queryStringIndex = sourceUrl.indexOf('?');\n\t\t\tif (queryStringIndex >= 0) {\n\t\t\t\tsourceUrl = sourceUrl.substr(0, queryStringIndex);\n\t\t\t}\n\n\t\t\treturn url === sourceUrl;\n\t\t});\n\t}\n\n\tpublic findSourceAdapterForActorName(actorName: string): Promise<SourceAdapter> {\n\n\t\tif (!this.sourcePromises.has(actorName)) {\n\n\t\t\tthis.sourcePromises.set(actorName, new Promise<SourceAdapter>((resolve, reject) => {\n\n\t\t\t\tthis.pendingSources.set(actorName, { resolve, reject });\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (this.pendingSources.has(actorName)) {\n\t\t\t\t\t\tthis.pendingSources.get(actorName)!.reject(`Couldn't find source adapter for ${actorName}`);\n\t\t\t\t\t\tthis.pendingSources.delete(actorName);\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\t\t\t}));\n\t\t}\n\n\t\treturn this.sourcePromises.get(actorName)!;\n\t}\n\n\tpublic async findOriginalSourceLocation(\n\t\tgeneratedUrl: string,\n\t\tline: number,\n\t\tcolumn?: number\n\t): Promise<SourceLocation | undefined> {\n\n\t\tconst originalLocation = await this.actor.findOriginalLocation(generatedUrl, line, column);\n\t\tif (originalLocation) {\n\t\t\tconst sourceAdapter = this.findCorrespondingSourceAdapter(originalLocation.url);\n\t\t\tif (sourceAdapter) {\n\t\t\t\treturn {\n\t\t\t\t\tsource: sourceAdapter,\n\t\t\t\t\tline: originalLocation.line,\n\t\t\t\t\tcolumn: originalLocation.column\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic interrupt(): Promise<void> {\n\t\treturn this.coordinator.interrupt();\n\t}\n\n\tpublic resume(): Promise<void> {\n\t\treturn this.coordinator.resume();\n\t}\n\n\tpublic stepOver(): Promise<void> {\n\t\treturn this.coordinator.stepOver();\n\t}\n\n\tpublic stepIn(): Promise<void> {\n\t\treturn this.coordinator.stepIn();\n\t}\n\n\tpublic stepOut(): Promise<void> {\n\t\treturn this.coordinator.stepOut();\n\t}\n\n\tpublic setExceptionBreakpoints(exceptionBreakpoints: ExceptionBreakpoints) {\n\t\tconst pauseOnExceptions = (exceptionBreakpoints !== ExceptionBreakpoints.None);\n\t\tconst ignoreCaughtExceptions = (exceptionBreakpoints !== ExceptionBreakpoints.All);\n\t\tthis.actor.pauseOnExceptions(pauseOnExceptions, ignoreCaughtExceptions);\n\t}\n\n\tprivate fetchAllStackFrames(): Promise<FrameAdapter[]> {\n\n\t\tif (!this.framesPromise) {\n\t\t\tthis.framesPromise = this.coordinator.runOnPausedThread(\n\n\t\t\t\tasync () => {\n\n\t\t\t\t\tlet frames = await this.actor.fetchStackFrames();\n\n\t\t\t\t\tlet frameAdapters = frames.map((frame) =>\n\t\t\t\t\t\tnew FrameAdapter(this.debugSession.frames, frame, this));\n\n\t\t\t\t\tlet threadPausedReason = this.coordinator.threadPausedReason;\n\t\t\t\t\tif ((threadPausedReason !== undefined) && (frameAdapters.length > 0)) {\n\n\t\t\t\t\t\tconst scopeAdapters = await frameAdapters[0].getScopeAdapters();\n\n\t\t\t\t\t\tif (threadPausedReason.frameFinished !== undefined) {\n\n\t\t\t\t\t\t\tif (threadPausedReason.frameFinished.return !== undefined) {\n\n\t\t\t\t\t\t\t\tscopeAdapters[0].addReturnValue(\n\t\t\t\t\t\t\t\t\tthreadPausedReason.frameFinished.return);\n\n\t\t\t\t\t\t\t} else if (threadPausedReason.frameFinished.throw !== undefined) {\n\n\t\t\t\t\t\t\t\tscopeAdapters.unshift(ScopeAdapter.fromGrip(\n\t\t\t\t\t\t\t\t\t'Exception', threadPausedReason.frameFinished.throw, frameAdapters[0]));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (threadPausedReason.exception !== undefined) {\n\n\t\t\t\t\t\t\tscopeAdapters.unshift(ScopeAdapter.fromGrip(\n\t\t\t\t\t\t\t\t'Exception', threadPausedReason.exception, frameAdapters[0]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn frameAdapters;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\treturn this.framesPromise;\n\t}\n\n\tpublic async fetchStackFrames(start: number, count: number): Promise<[FrameAdapter[], number]> {\n\n\t\tlet frameAdapters = await this.fetchAllStackFrames();\n\n\t\tlet requestedFrames = (count > 0) ? frameAdapters.slice(start, start + count) : frameAdapters.slice(start);\n\n\t\treturn [requestedFrames, frameAdapters.length];\n\t}\n\n\t/** this will cause VS Code to reload the current stackframes from this adapter */\n\tpublic triggerStackframeRefresh(): void {\n\t\tif (this.coordinator.threadTarget === 'paused') {\n\t\t\tthis.debugSession.sendStoppedEvent(this, this.coordinator.threadPausedReason);\n\t\t}\n\t}\n\n\tpublic async fetchVariables(variablesProvider: VariablesProvider): Promise<Variable[]> {\n\n\t\tlet variableAdapters = await variablesProvider.getVariables();\n\n\t\treturn variableAdapters.map((variableAdapter) => variableAdapter.getVariable());\n\t}\n\n\tpublic async evaluate(expr: string, skipBreakpoints: boolean, frameActorName?: string): Promise<Variable> {\n\n\t\tif (skipBreakpoints) {\n\n\t\t\tlet grip = await this.coordinator.evaluate(expr, frameActorName);\n\t\t\tlet variableAdapter = this.variableFromGrip(grip, (frameActorName === undefined));\n\t\t\treturn variableAdapter.getVariable();\n\n\t\t} else {\n\n\t\t\tlet grip = await this.consoleActor.evaluate(expr, frameActorName);\n\t\t\tlet variableAdapter = this.variableFromGrip(grip, true);\n\t\t\treturn variableAdapter.getVariable();\n\t\t}\n\t}\n\n\tpublic async autoComplete(text: string, column: number, frameActorName?: string): Promise<string[]> {\n\t\treturn await this.consoleActor.autoComplete(text, column, frameActorName);\n\t}\n\n\tprivate variableFromGrip(grip: FirefoxDebugProtocol.Grip | undefined, threadLifetime: boolean): VariableAdapter {\n\t\tif (grip !== undefined) {\n\t\t\treturn VariableAdapter.fromGrip('', undefined, undefined, grip, threadLifetime, this);\n\t\t} else {\n\t\t\treturn new VariableAdapter('', undefined, undefined, 'undefined', this);\n\t\t}\n\t}\n\n\t/**\n\t * Called by the `ThreadCoordinator` before resuming the thread\n\t */\n\tprivate async disposePauseLifetimeAdapters(): Promise<void> {\n\n\t\tif (this.framesPromise) {\n\t\t\tlet frames = await this.framesPromise;\n\t\t\tframes.forEach((frameAdapter) => {\n\t\t\t\tframeAdapter.dispose();\n\t\t\t});\n\t\t\tthis.framesPromise = undefined;\n\t\t}\n\n\t\tthis.scopes.forEach((scopeAdapter) => {\n\t\t\tscopeAdapter.dispose();\n\t\t});\n\t\tthis.scopes = [];\n\n\t\tthis.pauseLifetimeObjects.forEach((objectGripAdapter) => {\n\t\t\tobjectGripAdapter.dispose();\n\t\t});\n\n\t\tthis.pauseLifetimeObjects = [];\n\t}\n\n\tpublic async dispose(): Promise<void> {\n\n\t\tawait this.disposePauseLifetimeAdapters();\n\n\t\tthis.threadLifetimeObjects.forEach((objectGripAdapter) => {\n\t\t\tobjectGripAdapter.dispose();\n\t\t});\n\n\t\tthis.sources.forEach((source) => {\n\t\t\tsource.dispose();\n\t\t});\n\n\t\tthis.actor.dispose();\n\t\tthis.consoleActor.dispose();\n\t}\n\n\t/**\n\t * The `paused` event is sent when we receive a `paused` event from the thread actor and\n\t * neither the `ThreadCoordinator` nor the `ThreadAdapter` decide that Firefox should be\n\t * resumed immediately.\n\t */\n\tpublic onPaused(cb: (event: FirefoxDebugProtocol.ThreadPausedReason) => void) {\n\t\tthis.on('paused', cb);\n\t}\n\n\tpublic onResumed(cb: () => void) {\n\t\tthis.actor.onResumed(cb);\n\t}\n\n\tpublic onExited(cb: () => void) {\n\t\tthis.actor.onExited(cb);\n\t}\n\n\tpublic onWrongState(cb: () => void) {\n\t\tthis.actor.onWrongState(cb);\n\t}\n\n\tpublic onNewSource(cb: (newSource: ISourceActorProxy) => void) {\n\t\tthis.actor.onNewSource(cb);\n\t}\n}\n","import { VariablesProvider } from './variablesProvider';\nimport { VariableAdapter } from './variable';\nimport { ThreadAdapter } from './thread';\n\n/**\n * Adapter class for representing a `consoleAPICall` event from Firefox.\n */\nexport class ConsoleAPICallAdapter implements VariablesProvider {\n\n\tpublic readonly variablesProviderId: number;\n\tpublic readonly referenceExpression = undefined;\n\tpublic readonly referenceFrame = undefined;\n\n\tpublic constructor(\n\t\tprivate readonly variables: VariableAdapter[],\n\t\tpublic readonly threadAdapter: ThreadAdapter\n\t) {\n\t\tthis.variablesProviderId = threadAdapter.debugSession.variablesProviders.register(this);\n\t}\n\n\tpublic getVariables(): Promise<VariableAdapter[]> {\n\t\treturn Promise.resolve(this.variables);\n\t}\n}\n","import { Log } from '../util/log';\nimport { isWindowsPlatform as detectWindowsPlatform } from '../../common/util';\nimport { SourceAdapter } from './source';\nimport { ThreadAdapter } from './thread';\nimport { Registry } from './registry';\nimport { BreakpointInfo } from './breakpoint';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { Breakpoint, BreakpointEvent, Event } from 'vscode-debugadapter';\n\nlet log = Log.create('BreakpointsManager');\n\nconst isWindowsPlatform = detectWindowsPlatform();\nconst windowsAbsolutePathRegEx = /^[a-zA-Z]:\\\\/;\n\n/**\n * This class holds all breakpoints that have been set in VS Code and synchronizes them with all\n * sources in all threads in Firefox using [`SourceAdapter#updateBreakpoints()`](./source.ts).\n */\nexport class BreakpointsManager {\n\n\tprivate nextBreakpointId = 1;\n\tprivate readonly breakpointsBySourcePathOrUrl = new Map<string, BreakpointInfo[]>();\n\n\tconstructor(\n\t\tprivate readonly threads: Registry<ThreadAdapter>,\n\t\tprivate readonly suggestPathMappingWizard: boolean,\n\t\tprivate readonly sendEvent: (ev: DebugProtocol.Event) => void\n\t) {}\n\n\t/**\n\t * called by [`FirefoxDebugAdapter#setBreakpoints()`](../firefoxDebugAdapter.ts) whenever the\n\t * breakpoints have been changed by the user in VS Code\n\t */\n\tpublic setBreakpoints(\n\t\tbreakpoints: DebugProtocol.SourceBreakpoint[],\n\t\tsourcePathOrUrl: string\n\t): BreakpointInfo[] {\n\n\t\tlog.debug(`Setting ${breakpoints.length} breakpoints for ${sourcePathOrUrl}`);\n\n\t\tconst key = this.createBreakpointInfoKey(sourcePathOrUrl);\n\t\tconst oldBreakpointInfos = this.breakpointsBySourcePathOrUrl.get(key);\n\t\tconst breakpointInfos = breakpoints.map(\n\t\t\tbreakpoint => this.getOrCreateBreakpointInfo(breakpoint, oldBreakpointInfos)\n\t\t);\n\n\t\tthis.breakpointsBySourcePathOrUrl.set(key, breakpointInfos);\n\n\t\tlet sourceAdapterFound = false;\n\t\tfor (const [, threadAdapter] of this.threads) {\n\t\t\tconst sourceAdapters = threadAdapter.findSourceAdaptersForPathOrUrl(sourcePathOrUrl);\n\t\t\tfor (const sourceAdapter of sourceAdapters) {\n\t\t\t\tsourceAdapterFound = true;\n\t\t\t\tsourceAdapter.updateBreakpoints(breakpointInfos);\n\t\t\t}\n\t\t}\n\n\t\tif (!sourceAdapterFound && this.suggestPathMappingWizard) {\n\t\t\tthis.sendEvent(new Event('unknownSource', sourcePathOrUrl));\n\t\t}\n\n\t\treturn breakpointInfos;\n\t}\n\n\t/** \n\t * called by [`SourceAdapter#syncBreakpoints()`](./source.ts) whenever a breakpoint has been set\n\t * in Firefox\n\t */\n\tpublic verifyBreakpoint(breakpointInfo: BreakpointInfo): void {\n\n\t\tif (!breakpointInfo.actualLocation) return;\n\n\t\tlet breakpoint: DebugProtocol.Breakpoint = new Breakpoint(\n\t\t\ttrue, breakpointInfo.actualLocation.line, breakpointInfo.actualLocation.column + 1);\n\t\tbreakpoint.id = breakpointInfo.id;\n\t\tthis.sendEvent(new BreakpointEvent('changed', breakpoint));\n\n\t\tbreakpointInfo.verified = true;\n\t}\n\n\t/**\n\t * called by [`FirefoxDebugSession#attachSource()`](../firefoxDebugSession.ts) whenever a new\n\t * javascript source was attached\n\t */\n\tpublic onNewSource(sourceAdapter: SourceAdapter) {\n\t\tconst sourcePath = sourceAdapter.sourcePath;\n\t\tif (sourcePath !== undefined) {\n\t\t\tconst key = this.createBreakpointInfoKey(sourcePath);\n\t\t\tconst breakpointInfos = this.breakpointsBySourcePathOrUrl.get(key);\n\t\t\tif (breakpointInfos !== undefined) {\n\t\t\t\tsourceAdapter.updateBreakpoints(breakpointInfos);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createBreakpointInfoKey(sourcePathOrUrl: string): string {\n\t\tif (isWindowsPlatform && windowsAbsolutePathRegEx.test(sourcePathOrUrl)) {\n\t\t\treturn sourcePathOrUrl.toLowerCase();\n\t\t} else {\n\t\t\treturn sourcePathOrUrl;\n\t\t}\n\t}\n\n\tprivate getOrCreateBreakpointInfo(\n\t\trequestedBreakpoint: DebugProtocol.SourceBreakpoint,\n\t\toldBreakpointInfos: BreakpointInfo[] | undefined\n\t): BreakpointInfo {\n\n\t\tif (oldBreakpointInfos) {\n\n\t\t\tconst oldBreakpointInfo = oldBreakpointInfos.find(\n\t\t\t\tbreakpointInfo => breakpointInfo.isEquivalent(requestedBreakpoint)\n\t\t\t);\n\n\t\t\tif (oldBreakpointInfo) {\n\t\t\t\treturn oldBreakpointInfo;\n\t\t\t}\n\t\t}\n\n\t\treturn new BreakpointInfo(this.nextBreakpointId++, requestedBreakpoint);\n\t}\n}\n","import { Log } from '../util/log';\nimport { VariablesProvider } from './variablesProvider';\nimport { Registry } from './registry';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { ObjectGripAdapter } from './objectGrip';\n\nconst log = Log.create('DataBreakpointsManager');\n\nexport class DataBreakpointsManager {\n\n\tprivate dataBreakpoints = new Set<string>();\n\n\tconstructor(\n\t\tprivate readonly variablesProviders: Registry<VariablesProvider>\n\t) {}\n\n\tpublic static encodeDataId(variablesProviderId: number, property: string): string {\n\t\treturn `${variablesProviderId}.${property}`;\n\t}\n\n\tpublic static decodeDataId(dataId: string): { variablesProviderId: number, property: string } {\n\n\t\tconst separatorIndex = dataId.indexOf('.');\n\n\t\treturn {\n\t\t\tvariablesProviderId: +dataId.substring(0, separatorIndex),\n\t\t\tproperty: dataId.substring(separatorIndex + 1)\n\t\t};\n\t}\n\n\tpublic async setDataBreakpoints(newDataBreakpoints: DebugProtocol.DataBreakpoint[]): Promise<void> {\n\n\t\tlog.debug(`Setting ${newDataBreakpoints.length} data breakpoints`);\n\n\t\tconst oldDataBreakpoints = new Set<string>(this.dataBreakpoints);\n\n\t\tfor (const dataBreakpoint of newDataBreakpoints) {\n\t\t\tif (!oldDataBreakpoints.has(dataBreakpoint.dataId)) {\n\n\t\t\t\tconst type = (dataBreakpoint.accessType === 'read') ? 'get' : 'set';\n\t\t\t\tawait this.addDataBreakpoint(dataBreakpoint.dataId, type);\n\n\t\t\t} else {\n\t\t\t\toldDataBreakpoints.delete(dataBreakpoint.dataId);\n\t\t\t}\n\t\t}\n\n\t\tfor (const dataBreakpoint of oldDataBreakpoints) {\n\t\t\tawait this.removeDataBreakpoint(dataBreakpoint);\n\t\t}\n\n\t\tthis.dataBreakpoints = new Set<string>(newDataBreakpoints.map(dataBreakpoint => dataBreakpoint.dataId));\n\t}\n\n\tprivate async addDataBreakpoint(dataId: string, type: 'get' | 'set'): Promise<void> {\n\n\t\tconst { variablesProviderId, property } = DataBreakpointsManager.decodeDataId(dataId);\n\t\tconst variablesProvider = this.variablesProviders.find(variablesProviderId);\n\n\t\tif (variablesProvider instanceof ObjectGripAdapter) {\n\n\t\t\tlog.debug(`Adding data breakpoint for property ${property} of object #${variablesProviderId}`);\n\n\t\t\tawait variablesProvider.actor.addWatchpoint(property, dataId, type);\n\n\t\t} else {\n\t\t\tlog.warn(`Couldn't find object #${variablesProviderId}`);\n\t\t}\n\t}\n\n\tprivate async removeDataBreakpoint(dataId: string): Promise<void> {\n\n\t\tconst { variablesProviderId, property } = DataBreakpointsManager.decodeDataId(dataId);\n\t\tconst variablesProvider = this.variablesProviders.find(variablesProviderId);\n\n\t\tif (variablesProvider instanceof ObjectGripAdapter) {\n\n\t\t\tlog.debug(`Removing data breakpoint for property ${property} of object #${variablesProviderId}`);\n\n\t\t\tawait variablesProvider.actor.removeWatchpoint(property);\n\n\t\t} else {\n\t\t\tlog.warn(`Couldn't find object #${variablesProviderId}`);\n\t\t}\n\t}\n}\n","import isAbsoluteUrl from 'is-absolute-url';\nimport { Log } from '../util/log';\nimport { isWindowsPlatform as detectWindowsPlatform } from '../../common/util';\nimport { ThreadAdapter } from './thread';\nimport { Registry } from './registry';\n\nlet log = Log.create('SkipFilesManager');\n\n/**\n * This class determines which files should be skipped (aka blackboxed). Files to be skipped are\n * configured using the `skipFiles` configuration property or by using the context menu on a\n * stackframe in VS Code.\n */\nexport class SkipFilesManager {\n\n\tprivate readonly isWindowsPlatform = detectWindowsPlatform();\n\n\t/**\n\t * Files that were configured to (not) be skipped by using the context menu on a\n\t * stackframe in VS Code. This overrides the `skipFiles` configuration property.\n\t */\n\tprivate readonly dynamicFiles = new Map<string, boolean>();\n\n\tpublic constructor(\n\t\tprivate readonly configuredFilesToSkip: RegExp[],\n\t\tprivate readonly threads: Registry<ThreadAdapter>\n\t) {}\n\n\tpublic shouldSkip(pathOrUrl: string): boolean {\n\n\t\tif (this.dynamicFiles.has(pathOrUrl)) {\n\n\t\t\tlet result = this.dynamicFiles.get(pathOrUrl)!;\n\n\t\t\tif (log.isDebugEnabled()) {\n\t\t\t\tlog.debug(`skipFile is set dynamically to ${result} for ${pathOrUrl}`);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tlet testee = pathOrUrl.replace('/./', '/');\n\t\tif (this.isWindowsPlatform && !isAbsoluteUrl(pathOrUrl)) {\n\t\t\ttestee = testee.replace(/\\\\/g, '/');\n\t\t}\n\t\tfor (let regExp of this.configuredFilesToSkip) {\n\n\t\t\tif (regExp.test(testee)) {\n\n\t\t\t\tif (log.isDebugEnabled()) {\n\t\t\t\t\tlog.debug(`skipFile is set per configuration to true for ${pathOrUrl}`);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`skipFile is not set for ${pathOrUrl}`);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic async toggleSkipping(pathOrUrl: string): Promise<void> {\n\t\t\n\t\tconst skipFile = !this.shouldSkip(pathOrUrl);\n\t\tthis.dynamicFiles.set(pathOrUrl, skipFile);\n\n\t\tlog.info(`Setting skipFile to ${skipFile} for ${pathOrUrl}`);\n\n\t\tlet promises: Promise<void>[] = [];\n\n\t\tfor (const [, thread] of this.threads) {\n\n\t\t\tlet sourceAdapters = thread.findSourceAdaptersForPathOrUrl(pathOrUrl);\n\n\t\t\tfor (const sourceAdapter of sourceAdapters) {\n\t\t\t\tif (sourceAdapter.actor.source.isBlackBoxed !== skipFile) {\n\t\t\t\t\tpromises.push(sourceAdapter.actor.setBlackbox(skipFile));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthread.triggerStackframeRefresh();\n\t\t}\n\n\t\tawait Promise.all(promises);\n\t}\n}\n","import { Log } from '../util/log';\nimport { PendingRequest } from '../util/pendingRequests';\n\nlet log = Log.create('ThreadPauseCoordinator');\n\nexport type PauseType = 'auto' | 'user';\n\n/**\n * This class coordinates the states of all attached\n * [\"threads\"](https://github.com/mozilla/gecko-dev/blob/master/devtools/docs/backend/protocol.md#interacting-with-thread-like-actors).\n * When debugging multiple threads, some thread pauses may block other threads from being resumed:\n * when thread A is paused and then thread B is paused, thread A can't be resumed before thread B\n * is resumed.\n * \n * This class distinguishes between automatic and user-visible pauses:\n * * automatic pauses are requested in order to run some task on the paused thread and automatically\n *   resume it afterwards. These pauses are not visible to the user and are usually short-lived.\n * * user-visible pauses are triggered by hitting a breakpoint or by a user request to interrupt the\n *   thread.\n * \n * This class tries its best to ensure that resuming an automatically-paused thread is not blocked\n * by another thread that is in a user-visible pause, although this can't always be guaranteed\n * (e.g. when one thread hits a breakpoint while another thread is in an automatic pause).\n * It does so by delaying the request for a user-visible pause until all automatically paused threads\n * have been resumed.\n */\nexport class ThreadPauseCoordinator {\n\n\tprivate currentPauses: ThreadPauseInfo[] = [];\n\tprivate requestedPauses: PendingThreadPauseRequest[] = [];\n\tprivate requestedResumes: PendingThreadResumeRequest[] = [];\n\tprivate interruptingThread?: ThreadPauseInfo;\n\tprivate resumingThread?: ThreadInfo;\n\n\t/**\n\t * This method is called when a thread should be interrupted and returns a Promise that is\n\t * resolved when this class considers it to be \"safe\" to interrupt the thread.\n\t * In particular, if a thread should be interrupted due to a user request while another thread is\n\t * in an automatic pause (i.e. some actions are running on the paused thread and it will be\n\t * automatically resumed when they have finished), the returned Promise will only be resolved\n\t * once the automatically paused thread is resumed because otherwise the requested pause will\n\t * block the other thread from being resumed.\n\t */\n\tpublic requestInterrupt(threadId: number, threadName: string, pauseType: PauseType): Promise<void> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Requesting ${pauseType} interrupt for ${threadName}`);\n\t\t}\n\n\t\tif (this.findPauseIndex(threadId) !== undefined) {\n\t\t\tlog.warn(`Requesting ${threadName} to be interrupted but it seems to be paused already`);\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tlet promise = new Promise<void>((resolve, reject) => {\n\t\t\tlet pendingRequest = { resolve, reject };\n\t\t\tthis.requestedPauses.push({ threadId, threadName, pauseType, pendingRequest });\n\t\t});\n\n\t\tthis.doNext();\n\n\t\treturn promise;\n\t}\n\n\t/**\n\t * This method is called when a thread should be resumed and returns a Promise that is\n\t * resolved when resuming it is not blocked by another thread's pause.\n\t * If resuming the thread was requested by the user, but it is blocked by another thread's\n\t * pause which was also requested by the user, the Promise will be rejected with a message\n\t * to be shown to the user to tell him which threads need to be resumed first.\n\t */\n\tpublic requestResume(threadId: number, threadName: string): Promise<void> {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Requesting resume for ${threadName}`);\n\t\t}\n\n\t\tlet pause: ThreadPauseInfo | undefined;\n\t\tif ((this.interruptingThread !== undefined) && (this.interruptingThread.threadId == threadId)) {\n\n\t\t\tpause = this.interruptingThread;\n\n\t\t} else {\n\n\t\t\tlet pauseIndex = this.findPauseIndex(threadId);\n\t\t\tif (pauseIndex !== undefined) {\n\t\t\t\tpause = this.currentPauses[pauseIndex];\n\t\t\t}\n\t\t}\n\n\t\tif (pause === undefined) {\n\t\t\tlog.warn(`Requesting ${threadName} to be resumed but it doesn't seem to be paused`);\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tif (pause.pauseType === 'user') {\n\t\t\tlet hinderingPauses = this.findHinderingPauses(threadId);\n\t\t\tif (hinderingPauses.length > 0) {\n\t\t\t\tlet msg = `${threadName} can't be resumed because you need to resume ${hinderingPauses.map((pauseInfo) => pauseInfo.threadName).join(', ')} first`;\n\t\t\t\tlog.info(msg);\n\t\t\t\treturn Promise.reject(msg);\n\t\t\t}\n\t\t}\n\n\t\tlet promise = new Promise<void>((resolve, reject) => {\n\t\t\tlet pendingRequest = { resolve, reject };\n\t\t\tthis.requestedResumes.push({ threadId, threadName, pendingRequest });\n\t\t});\n\n\t\tthis.doNext();\n\n\t\treturn promise;\n\t}\n\n\t/**\n\t * This method is called whenever a thread was interrupted.\n\t */\n\tpublic notifyInterrupted(threadId: number, threadName: string, pauseType: PauseType): void {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`${threadName} interrupted, type ${pauseType}`);\n\t\t}\n\n\t\tif ((this.interruptingThread !== undefined) && (this.interruptingThread.threadId === threadId)) {\n\t\t\tthis.interruptingThread = undefined;\n\t\t}\n\n\t\tif (this.findPauseIndex(threadId) === undefined) {\n\n\t\t\tthis.currentPauses.push({ threadId, threadName, pauseType });\n\n\t\t\tif ((this.interruptingThread !== undefined) || (this.resumingThread !== undefined)) {\n\t\t\t\tlog.warn(`Received paused notification from ${threadName} while waiting for a notification from another thread`);\n\t\t\t}\n\t\t}\n\n\t\tthis.doNext();\n\t}\n\n\t/**\n\t * This method is called whenever a thread was requested to be interrupted, but the request failed.\n\t */\n\tpublic notifyInterruptFailed(threadId: number, threadName: string): void {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Interrupting ${threadName} failed`);\n\t\t}\n\n\t\tif ((this.interruptingThread !== undefined) && (this.interruptingThread.threadId === threadId)) {\n\t\t\tthis.interruptingThread = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * This method is called whenever a thread was resumed.\n\t */\n\tpublic notifyResumed(threadId: number, threadName: string): void {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`${threadName} resumed`);\n\t\t}\n\n\t\tlet pauseIndex = this.findPauseIndex(threadId);\n\n\t\tif (pauseIndex === undefined) {\n\n\t\t\tlog.warn(`Received resumed notification from ${threadName} but it doesn't seem to be paused`);\n\n\t\t} else if (pauseIndex === this.currentPauses.length - 1) {\n\n\t\t\tthis.currentPauses.pop();\n\n\t\t} else {\n\n\t\t\tlog.warn(`Received resumed notification from ${threadName} even though it is not the most recently paused thread`);\n\t\t\tthis.currentPauses.splice(pauseIndex, 1);\n\n\t\t}\n\n\t\tif ((this.resumingThread !== undefined) && (this.resumingThread.threadId === threadId)) {\n\t\t\tthis.resumingThread = undefined;\n\t\t} \n\n\t\tif ((this.interruptingThread !== undefined) || (this.resumingThread !== undefined)) {\n\t\t\tlog.warn(`Received resumed notification from ${threadName} while waiting for a notification from another thread`);\n\t\t}\n\n\t\tthis.doNext();\n\t}\n\n\t/**\n\t * This method is called whenever a thread was requested to be resumed, but the request failed.\n\t */\n\tpublic notifyResumeFailed(threadId: number, threadName: string): void {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Resuming ${threadName} failed`);\n\t\t}\n\n\t\tif ((this.resumingThread !== undefined) && (this.resumingThread.threadId === threadId)) {\n\t\t\tthis.resumingThread = undefined;\n\t\t} \n\t}\n\n\t/**\n\t * This method is called whenever a thread was detached.\n\t */\n\tpublic threadTerminated(threadId: number, threadName: string) {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(`Removing ${threadName}`);\n\t\t}\n\t\t\n\t\tif (this.interruptingThread && (this.interruptingThread.threadId === threadId)) {\n\t\t\tthis.interruptingThread = undefined;\n\t\t}\n\t\t\n\t\tif (this.resumingThread && (this.resumingThread.threadId === threadId)) {\n\t\t\tthis.resumingThread = undefined;\n\t\t}\n\n\t\tthis.requestedPauses = this.requestedPauses.filter((pauseRequest) => {\n\t\t\tif (pauseRequest.threadId === threadId) {\n\t\t\t\tpauseRequest.pendingRequest.reject('Thread terminated');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.requestedResumes = this.requestedResumes.filter((requestedResume) => {\n\t\t\tif (requestedResume.threadId === threadId) {\n\t\t\t\trequestedResume.pendingRequest.reject('Thread terminated');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.currentPauses = this.currentPauses.filter(\n\t\t\t(currentPause) => (currentPause.threadId !== threadId));\n\n\t\tthis.doNext();\n\t}\n\n\t/**\n\t * This method is called whenever `requestedPauses` or `requestedResumes` changed and decides\n\t * what should be done next (if anything) and will do it by calling `pauseThread()` or\n\t * `resumeThread()`.\n\t */\n\tprivate doNext(): void {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlet msg = '';\n\n\t\t\tif (this.interruptingThread !== undefined) {\n\t\t\t\tmsg += `Interrupting ${this.interruptingThread.threadName}, `;\n\t\t\t}\n\n\t\t\tif (this.resumingThread !== undefined) {\n\t\t\t\tmsg += `Resuming ${this.resumingThread.threadName}, `;\n\t\t\t}\n\n\t\t\tmsg += `current pauses: [${\n\t\t\t\tthis.currentPauses.map((info) => info.threadName + '/' + info.pauseType).join(',')\n\t\t\t}], requested pauses: [${\n\t\t\t\tthis.requestedPauses.map((info) => info.threadName + '/' + info.pauseType).join(',')\n\t\t\t}], requested resumes: [${\n\t\t\t\tthis.requestedResumes.map((info) => info.threadName).join(',')\n\t\t\t}]`;\n\n\t\t\tlog.debug(msg);\n\t\t}\n\n\t\tif ((this.interruptingThread !== undefined) || (this.resumingThread !== undefined)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.currentPauses.length > 0) {\n\n\t\t\tlet mostRecentPause = this.currentPauses[this.currentPauses.length - 1];\n\n\t\t\tlet resumeRequestIndex = this.findResumeRequestIndex(mostRecentPause.threadId);\n\t\t\tif (resumeRequestIndex !== undefined) {\n\t\t\t\tthis.resumeThread(resumeRequestIndex);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (mostRecentPause.pauseType === 'auto') {\n\n\t\t\t\tlet automaticPauseRequestIndex = this.findAutomaticPauseRequestIndex();\n\t\t\t\tif (automaticPauseRequestIndex !== undefined) {\n\t\t\t\t\tthis.pauseThread(automaticPauseRequestIndex);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t//TODO should we block requested pauses if there is a resume waiting?\n\t\tif (this.requestedPauses.length > 0) {\n\t\t\tthis.pauseThread(this.requestedPauses.length - 1);\n\t\t}\n\t}\n\n\tprivate pauseThread(pauseRequestIndex: number) {\n\n\t\tlet pauseRequest = this.requestedPauses[pauseRequestIndex];\n\t\tlog.debug(`Interrupting ${pauseRequest.threadName}`);\n\n\t\tthis.requestedPauses.splice(pauseRequestIndex, 1);\n\n\t\tif (this.findPauseIndex(pauseRequest.threadId) === undefined) {\n\n\t\t\tthis.interruptingThread =  {\n\t\t\t\tthreadId: pauseRequest.threadId,\n\t\t\t\tthreadName: pauseRequest.threadName,\n\t\t\t\tpauseType: pauseRequest.pauseType\n\t\t\t};\n\n\t\t} else {\n\t\t\tlog.warn(`Executing pause request for ${pauseRequest.threadName} but it seems to be paused already`);\n\t\t}\n\n\t\tpauseRequest.pendingRequest.resolve(undefined);\n\t}\n\n\tprivate resumeThread(resumeRequestIndex: number) {\n\n\t\tlet resumeRequest = this.requestedResumes[resumeRequestIndex];\n\t\tlog.debug(`Resuming ${resumeRequest.threadName}`);\n\n\t\tthis.requestedResumes.splice(resumeRequestIndex, 1);\n\n\t\tthis.resumingThread = {\n\t\t\tthreadId: resumeRequest.threadId,\n\t\t\tthreadName: resumeRequest.threadName\n\t\t};\n\n\t\tresumeRequest.pendingRequest.resolve(undefined);\n\t}\n\n\tprivate findPauseIndex(threadId: number): number | undefined {\n\n\t\tfor (let i = this.currentPauses.length - 1; i >= 0; i--) {\n\t\t\tif (this.currentPauses[i].threadId === threadId) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate findResumeRequestIndex(threadId: number): number | undefined {\n\n\t\tfor (let i = 0; i < this.requestedResumes.length; i++) {\n\t\t\tif (this.requestedResumes[i].threadId === threadId) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate findAutomaticPauseRequestIndex(): number | undefined {\n\n\t\tfor (let i = 0; i < this.requestedPauses.length; i++) {\n\t\t\tif (this.requestedPauses[i].pauseType === 'auto') {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate findHinderingPauses(resumeThreadId: number): ThreadPauseInfo[] {\n\n\t\tlet hinderingPauses: ThreadPauseInfo[] = [];\n\n\t\tif ((this.interruptingThread !== undefined) && \n\t\t\t(this.interruptingThread.threadId !== resumeThreadId) &&\n\t\t\t(this.interruptingThread.pauseType === 'user')) {\n\n\t\t\thinderingPauses.push(this.interruptingThread);\n\t\t}\n\n\t\tfor (let i = this.currentPauses.length - 1; i >= 0; i--) {\n\n\t\t\tlet pause = this.currentPauses[i];\n\n\t\t\tif (pause.threadId === resumeThreadId) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (pause.pauseType === 'user') {\n\t\t\t\thinderingPauses.push(pause);\n\t\t\t}\n\t\t}\n\n\t\treturn hinderingPauses;\n\t}\n}\n\ninterface ThreadInfo {\n\tthreadId: number;\n\tthreadName: string;\n}\n\ninterface ThreadPauseInfo extends ThreadInfo {\n\tpauseType: PauseType;\n}\n\ninterface PendingThreadPauseRequest extends ThreadPauseInfo {\n\tpendingRequest: PendingRequest<void>;\n}\n\ninterface PendingThreadResumeRequest extends ThreadInfo {\n\tpendingRequest: PendingRequest<void>;\n}\n","import * as path from 'path';\nimport * as url from 'url';\nimport isAbsoluteUrl from 'is-absolute-url';\nimport { Log } from './log';\nimport { PathMappings, ParsedAddonConfiguration } from '../configuration';\nimport { isWindowsPlatform as detectWindowsPlatform } from '../../common/util';\nimport { urlDirname } from './net';\n\nlet log = Log.create('PathConversion');\n\nlet isWindowsPlatform = detectWindowsPlatform();\nconst windowsAbsolutePathRegEx = /^[a-zA-Z]:[\\/\\\\]/;\n\n/**\n * This class is used to map the URLs as seen by Firefox to local paths as seen by VS Code.\n * It is configured using the `pathMappings` property in the launch or attach configuration.\n */\nexport class PathMapper {\n\n\tconstructor(\n\t\tprivate readonly pathMappings: PathMappings,\n\t\tprivate readonly addonConfig?: ParsedAddonConfiguration\n\t) {}\n\n\tpublic convertFirefoxSourceToPath(source: FirefoxDebugProtocol.Source): string | undefined {\n\t\tif (!source) return undefined;\n\n\t\tif (source.addonID && this.addonConfig && (source.addonID === this.addonConfig.id)) {\n\n\t\t\tlet sourcePath = this.removeQueryString(path.join(this.addonConfig.path, source.addonPath!));\n\t\t\tlog.debug(`Addon script path: ${sourcePath}`);\n\t\t\treturn sourcePath;\n\n\t\t} else if (source.isSourceMapped && source.generatedUrl && source.url && !isAbsoluteUrl(source.url)) {\n\n\t\t\tlet originalPathOrUrl = source.url;\n\n\t\t\tif (path.isAbsolute(originalPathOrUrl)) {\n\n\t\t\t\tlog.debug(`Sourcemapped absolute path: ${originalPathOrUrl}`);\n\n\t\t\t\tif (isWindowsPlatform) {\n\t\t\t\t\toriginalPathOrUrl = path.normalize(originalPathOrUrl);\n\t\t\t\t}\n\n\t\t\t\treturn originalPathOrUrl;\n\n\t\t\t} else {\n\n\t\t\t\tlet generatedUrl = source.generatedUrl;\n\t\t\t\tif ((source.introductionType === 'wasm') && generatedUrl.startsWith('wasm:')) {\n\t\t\t\t\tgeneratedUrl = generatedUrl.substr(5);\n\t\t\t\t}\n\n\t\t\t\tlet sourcePath: string | undefined;\n\t\t\t\tif (originalPathOrUrl.startsWith('../')) {\n\n\t\t\t\t\tlet generatedPath = this.convertFirefoxUrlToPath(generatedUrl);\n\t\t\t\t\tif (!generatedPath) return undefined;\n\t\t\t\t\tsourcePath = path.join(path.dirname(generatedPath), originalPathOrUrl);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet sourceUrl = url.resolve(urlDirname(generatedUrl), originalPathOrUrl);\n\t\t\t\t\tsourcePath = this.convertFirefoxUrlToPath(sourceUrl);\n\t\t\t\t\tif (!sourcePath) return undefined;\n\n\t\t\t\t}\n\n\t\t\t\tsourcePath = this.removeQueryString(sourcePath);\n\n\t\t\t\tlog.debug(`Sourcemapped path: ${sourcePath}`);\n\n\t\t\t\treturn sourcePath;\n\t\t\t}\n\n\t\t} else if (source.url) {\n\t\t\treturn this.convertFirefoxUrlToPath(source.url);\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tpublic convertFirefoxUrlToPath(url: string): string | undefined {\n\n\t\tfor (var i = 0; i < this.pathMappings.length; i++) {\n\n\t\t\tlet { url: from, path: to } = this.pathMappings[i];\n\n\t\t\tif (typeof from === 'string') {\n\n\t\t\t\tif (url.substr(0, from.length) === from) {\n\n\t\t\t\t\tif (to === null) {\n\t\t\t\t\t\tlog.debug(`Url ${url} not converted to path`);\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet thePath = this.removeQueryString(to + decodeURIComponent(url.substr(from.length)));\n\t\t\t\t\tif (isWindowsPlatform && windowsAbsolutePathRegEx.test(thePath)) {\n\t\t\t\t\t\tthePath = path.normalize(thePath);\n\t\t\t\t\t}\n\n\t\t\t\t\tlog.debug(`Converted url ${url} to path ${thePath}`);\n\t\t\t\t\treturn thePath;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tlet match = from.exec(url);\n\t\t\t\tif (match) {\n\n\t\t\t\t\tif (to === null) {\n\t\t\t\t\t\tlog.debug(`Url ${url} not converted to path`);\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet thePath = this.removeQueryString(to + decodeURIComponent(match[1]));\n\t\t\t\t\tif (isWindowsPlatform && windowsAbsolutePathRegEx.test(thePath)) {\n\t\t\t\t\t\tthePath = path.normalize(thePath);\n\t\t\t\t\t}\n\n\t\t\t\t\tlog.debug(`Converted url ${url} to path ${thePath}`);\n\t\t\t\t\treturn thePath;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlog.info(`Can't convert url ${url} to path`);\n\n\t\treturn undefined;\n\t}\n\n\tremoveQueryString(path: string): string {\n\t\tlet queryStringIndex = path.indexOf('?');\n\t\tif (queryStringIndex >= 0) {\n\t\t\treturn path.substr(0, queryStringIndex);\n\t\t} else {\n\t\t\treturn path;\n\t\t}\n\t}\n}","import * as path from 'path';\nimport * as fs from 'fs-extra';\nimport { Socket } from 'net';\nimport { ChildProcess } from 'child_process';\nimport * as chokidar from 'chokidar';\nimport debounce from 'debounce';\nimport isAbsoluteUrl from 'is-absolute-url';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { InitializedEvent, TerminatedEvent, StoppedEvent, OutputEvent, ThreadEvent, ContinuedEvent, Event } from 'vscode-debugadapter';\nimport { Log } from './util/log';\nimport { AddonManager } from './adapter/addonManager';\nimport { launchFirefox, openNewTab } from './firefox/launch';\nimport { DebugConnection } from './firefox/connection';\nimport { TabActorProxy } from './firefox/actorProxy/tab';\nimport { WorkerActorProxy } from './firefox/actorProxy/worker';\nimport { ObjectGripActorProxy } from './firefox/actorProxy/objectGrip';\nimport { LongStringGripActorProxy } from './firefox/actorProxy/longString';\nimport { AddonsActorProxy } from './firefox/actorProxy/addons';\nimport { ExceptionBreakpoints, IThreadActorProxy } from './firefox/actorProxy/thread';\nimport { ConsoleActorProxy } from './firefox/actorProxy/console';\nimport { ISourceActorProxy } from './firefox/actorProxy/source';\nimport { FrameAdapter } from './adapter/frame';\nimport { SourceAdapter } from './adapter/source';\nimport { VariablesProvider } from './adapter/variablesProvider';\nimport { VariableAdapter } from './adapter/variable';\nimport { Registry } from './adapter/registry';\nimport { ThreadAdapter } from './adapter/thread';\nimport { ConsoleAPICallAdapter } from './adapter/consoleAPICall';\nimport { BreakpointsManager } from './adapter/breakpointsManager';\nimport { DataBreakpointsManager } from './adapter/dataBreakpointsManager';\nimport { SkipFilesManager } from './adapter/skipFilesManager';\nimport { ThreadPauseCoordinator } from './coordinator/threadPause';\nimport { ParsedConfiguration } from './configuration';\nimport { PathMapper } from './util/pathMapper';\nimport { isWindowsPlatform as detectWindowsPlatform, delay } from '../common/util';\nimport { connect, waitForSocket } from './util/net';\nimport { NewSourceEventBody, ThreadStartedEventBody, ThreadExitedEventBody, RemoveSourcesEventBody } from '../common/customEvents';\nimport { PreferenceActorProxy } from './firefox/actorProxy/preference';\nimport { DeviceActorProxy } from './firefox/actorProxy/device';\n\nlet log = Log.create('FirefoxDebugSession');\nlet consoleActorLog = Log.create('ConsoleActor');\n\nexport class FirefoxDebugSession {\n\n\tpublic readonly isWindowsPlatform = detectWindowsPlatform();\n\tpublic readonly pathMapper: PathMapper;\n\tpublic readonly breakpointsManager: BreakpointsManager;\n\tpublic readonly dataBreakpointsManager: DataBreakpointsManager;\n\tpublic readonly skipFilesManager: SkipFilesManager;\n\tpublic readonly addonManager?: AddonManager;\n\tprivate reloadWatcher?: chokidar.FSWatcher;\n\tprivate threadPauseCoordinator = new ThreadPauseCoordinator();\n\n\tprivate firefoxProc?: ChildProcess;\n\tprivate firefoxClosedPromise?: Promise<void>;\n\tpublic firefoxDebugConnection!: DebugConnection;\n\tprivate firefoxDebugSocketClosed = false;\n\n\tpublic preferenceActor!: PreferenceActorProxy;\n\tpublic addonsActor?: AddonsActorProxy;\n\tpublic deviceActor!: DeviceActorProxy;\n\n\tprivate noPauseOnThreadActorAttach = false;\n\n\tpublic readonly tabs = new Registry<TabActorProxy>();\n\tpublic readonly threads = new Registry<ThreadAdapter>();\n\tpublic readonly sources = new Registry<SourceAdapter>();\n\tpublic readonly frames = new Registry<FrameAdapter>();\n\tpublic readonly variablesProviders = new Registry<VariablesProvider>();\n\n\tprivate exceptionBreakpoints: ExceptionBreakpoints = ExceptionBreakpoints.Uncaught;\n\n\tprivate reloadTabs = false;\n\tprivate attachToNextTab = false;\n\n\t/**\n\t * The ID of the last thread that the user interacted with. This thread will be used when the\n\t * user wants to evaluate an expression in VS Code's debug console.\n\t */\n\tprivate lastActiveThreadId: number = 0;\n\n\tpublic constructor(\n\t\tpublic readonly config: ParsedConfiguration,\n\t\tprivate readonly sendEvent: (ev: DebugProtocol.Event) => void\n\t) {\n\t\tthis.pathMapper = new PathMapper(this.config.pathMappings, this.config.addon);\n\t\tthis.breakpointsManager = new BreakpointsManager(\n\t\t\tthis.threads, this.config.suggestPathMappingWizard, this.sendEvent\n\t\t);\n\t\tthis.dataBreakpointsManager = new DataBreakpointsManager(this.variablesProviders);\n\t\tthis.skipFilesManager = new SkipFilesManager(this.config.filesToSkip, this.threads);\n\t\tif (this.config.addon) {\n\t\t\tthis.addonManager = new AddonManager(config.enableCRAWorkaround, this);\n\t\t}\n\t}\n\n\t/**\n\t * Connect to Firefox and start the debug session. Returns a Promise that is resolved when the\n\t * initial response from Firefox was processed.\n\t */\n\tpublic start(): Promise<void> {\n\t\treturn new Promise<void>(async (resolve, reject) => {\n\n\t\t\tlet socket: Socket;\n\t\t\ttry {\n\t\t\t\tsocket = await this.connectToFirefox();\n\t\t\t} catch(err) {\n\t\t\t\treject(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.firefoxDebugConnection = new DebugConnection(this.config.enableCRAWorkaround, this.pathMapper, socket);\n\t\t\tlet rootActor = this.firefoxDebugConnection.rootActor;\n\n\t\t\t// attach to all tabs, register the corresponding threads and inform VSCode about them\n\t\t\trootActor.onTabOpened(async ([tabActor, consoleActor]) => {\n\n\t\t\t\tlog.info(`Tab opened with url ${tabActor.url}`);\n\n\t\t\t\tif (!this.attachToNextTab &&\n\t\t\t\t\t(!this.config.tabFilter.include.some(tabFilter => tabFilter.test(tabActor.url)) ||\n\t\t\t\t\t this.config.tabFilter.exclude.some(tabFilter => tabFilter.test(tabActor.url)))) {\n\t\t\t\t\tlog.info('Not attaching to this tab');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.attachToNextTab = false;\n\n\t\t\t\tlet tabId = this.tabs.register(tabActor);\n\t\t\t\tlet threadAdapter = await this.attachTabOrAddon(tabActor, consoleActor, `Tab ${tabId}`, tabId);\n\t\t\t\tif (threadAdapter !== undefined) {\n\t\t\t\t\tthis.attachConsole(consoleActor, threadAdapter);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trootActor.onTabListChanged(() => {\n\t\t\t\trootActor.fetchTabs();\n\t\t\t});\n\n\t\t\trootActor.onInit(async (initialResponse) => {\n\n\t\t\t\tif (initialResponse.traits.webExtensionAddonConnect &&\n\t\t\t\t\t!initialResponse.traits.nativeLogpoints) {\n\t\t\t\t\treject('Your version of Firefox is not supported anymore - please upgrade to Firefox 68 or later');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.noPauseOnThreadActorAttach = !!initialResponse.traits.noPauseOnThreadActorAttach;\n\n\t\t\t\tconst actors = await rootActor.fetchRoot();\n\n\t\t\t\tthis.preferenceActor = actors.preference;\n\t\t\t\tthis.addonsActor = actors.addons;\n\t\t\t\tthis.deviceActor = actors.device;\n\n\t\t\t\tif (this.addonManager) {\n\t\t\t\t\tif (actors.addons) {\n\t\t\t\t\t\tthis.addonManager.sessionStarted(\n\t\t\t\t\t\t\trootActor, actors.addons, actors.preference,\n\t\t\t\t\t\t\t!!initialResponse.traits.webExtensionAddonConnect\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('No AddonsActor received from Firefox');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tawait rootActor.fetchTabs();\n\n\t\t\t\tthis.reloadTabs = false;\n\n\t\t\t\tif (this.config.attach && (this.tabs.count === 0)) {\n\t\t\t\t\tthis.attachToNextTab = true;\n\t\t\t\t\tif (!await openNewTab(this.config.attach, await this.deviceActor.getDescription())) {\n\t\t\t\t\t\treject('None of the tabs opened in Firefox match the given URL. If you specify the path to Firefox by setting \"firefoxExecutable\" in your attach configuration, a new tab for the given URL will be opened automatically.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\t\t\t});\n\n\t\t\tsocket.on('close', () => {\n\t\t\t\tlog.info('Connection to Firefox closed - terminating debug session');\n\t\t\t\tthis.firefoxDebugSocketClosed = true;\n\t\t\t\tthis.sendEvent(new TerminatedEvent());\n\t\t\t});\n\n\t\t\tif (this.config.reloadOnChange) {\n\n\t\t\t\tthis.reloadWatcher = chokidar.watch(this.config.reloadOnChange.watch, {\n\t\t\t\t\tignored: this.config.reloadOnChange.ignore,\n\t\t\t\t\tignoreInitial: true\n\t\t\t\t});\n\n\t\t\t\tlet reload: () => void;\n\t\t\t\tif (this.config.addon) {\n\n\t\t\t\t\treload = () => {\n\t\t\t\t\t\tif (this.addonManager) {\n\t\t\t\t\t\t\tlog.debug('Reloading add-on');\n\n\t\t\t\t\t\t\tthis.addonManager.reloadAddon();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\treload = () => {\n\t\t\t\t\t\tlog.debug('Reloading tabs');\n\n\t\t\t\t\t\tfor (let [, tabActor] of this.tabs) {\n\t\t\t\t\t\t\ttabActor.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.config.reloadOnChange.debounce > 0) {\n\t\t\t\t\treload = debounce(reload, this.config.reloadOnChange.debounce);\n\t\t\t\t}\n\n\t\t\t\tthis.reloadWatcher.on('add', reload);\n\t\t\t\tthis.reloadWatcher.on('change', reload);\n\t\t\t\tthis.reloadWatcher.on('unlink', reload);\n\t\t\t}\n\n\t\t\t// now we are ready to accept breakpoints -> fire the initialized event to give UI a chance to set breakpoints\n\t\t\tthis.sendEvent(new InitializedEvent());\n\t\t});\n\t}\n\n\t/**\n\t * Terminate the debug session\n\t */\n\tpublic async stop(): Promise<void> {\n\t\tawait this.disconnectFirefoxAndCleanup();\n\t}\n\n\tpublic setExceptionBreakpoints(exceptionBreakpoints: ExceptionBreakpoints) {\n\n\t\tthis.exceptionBreakpoints = exceptionBreakpoints;\n\n\t\tfor (let [, threadAdapter] of this.threads) {\n\t\t\tthreadAdapter.setExceptionBreakpoints(this.exceptionBreakpoints);\n\t\t}\n\t}\n\n\tpublic setActiveThread(threadAdapter: ThreadAdapter): void {\n\t\tthis.lastActiveThreadId = threadAdapter.id;\n\t}\n\n\tpublic getActiveThread(): ThreadAdapter | undefined {\n\n\t\tlet threadAdapter = this.threads.find(this.lastActiveThreadId);\n\t\tif (threadAdapter !== undefined) {\n\t\t\treturn threadAdapter;\n\t\t}\n\n\t\t// last active thread not found -> we return the first thread we get from the registry\n\t\tfor (let [, threadAdapter] of this.threads) {\n\t\t\tthis.setActiveThread(threadAdapter);\n\t\t\treturn threadAdapter;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic getOrCreateObjectGripActorProxy(objectGrip: FirefoxDebugProtocol.ObjectGrip): ObjectGripActorProxy {\n\t\treturn this.firefoxDebugConnection.getOrCreate(objectGrip.actor, () =>\n\t\t\tnew ObjectGripActorProxy(objectGrip, this.firefoxDebugConnection));\n\t}\n\n\tpublic getOrCreateLongStringGripActorProxy(longStringGrip: FirefoxDebugProtocol.LongStringGrip): LongStringGripActorProxy {\n\t\treturn this.firefoxDebugConnection.getOrCreate(longStringGrip.actor, () =>\n\t\t\tnew LongStringGripActorProxy(longStringGrip, this.firefoxDebugConnection));\n\t}\n\n\tprivate async connectToFirefox(): Promise<Socket> {\n\n\t\tlet socket: Socket | undefined = undefined;\n\n\t\tif (this.config.attach) {\n\t\t\ttry {\n\n\t\t\t\tsocket = await connect(this.config.attach.port, this.config.attach.host);\n\n\t\t\t\tthis.reloadTabs = this.config.attach.reloadTabs;\n\n\t\t\t} catch(err) {\n\t\t\t\tif (!this.config.launch) {\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (socket === undefined) {\n\n\t\t\tconst firefoxProc = await launchFirefox(this.config.launch!);\n\n\t\t\tif (firefoxProc && !this.config.launch!.detached) {\n\n\t\t\t\t// set everything up so that Firefox can be terminated at the end of this debug session\n\t\t\t\tthis.firefoxProc = firefoxProc;\n\n\t\t\t\t// firefoxProc may be a short-lived startup process - we remove the reference to it\n\t\t\t\t// when it exits so that we don't try to kill it with a SIGTERM signal (which may\n\t\t\t\t// end up killing an unrelated process) at the end of this debug session\n\t\t\t\tthis.firefoxProc.once('exit', () => { this.firefoxProc = undefined; });\n\n\t\t\t\t// the `close` event from firefoxProc seems to be the only reliable notification\n\t\t\t\t// that Firefox is exiting\n\t\t\t\tthis.firefoxClosedPromise = new Promise<void>(resolve => {\n\t\t\t\t\tthis.firefoxProc!.once('close', resolve);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsocket = await waitForSocket(this.config.launch!.port, this.config.launch!.timeout);\n\n\t\t\t// we ignore the tabFilter for the first tab after launching Firefox\n\t\t\tthis.attachToNextTab = true;\n\t\t}\n\n\t\treturn socket;\n\t}\n\n\tprivate async disconnectFirefoxAndCleanup(): Promise<void> {\n\n\t\tif (this.reloadWatcher !== undefined) {\n\t\t\tthis.reloadWatcher.close();\n\t\t\tthis.reloadWatcher = undefined;\n\t\t}\n\n\t\tif (!this.config.terminate) {\n\t\t\tawait this.firefoxDebugConnection.disconnect();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.firefoxProc) {\n\n\t\t\tlog.debug('Trying to kill Firefox using a SIGTERM signal');\n\t\t\tthis.firefoxProc.kill('SIGTERM');\n\t\t\tawait Promise.race([ this.firefoxClosedPromise, delay(1000) ]);\n\n\t\t} else if (!this.firefoxDebugSocketClosed && this.addonsActor) {\n\n\t\t\tlog.debug('Trying to close Firefox using the Terminator WebExtension');\n\t\t\tconst terminatorPath = path.join(__dirname, 'terminator');\n\t\t\tawait this.addonsActor.installAddon(terminatorPath);\n\t\t\tawait Promise.race([ this.firefoxClosedPromise, delay(1000) ]);\n\n\t\t}\n\n\t\tif (!this.firefoxDebugSocketClosed) {\n\t\t\tlog.warn(\"Couldn't terminate Firefox\");\n\t\t\tawait this.firefoxDebugConnection.disconnect();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.config.launch && (this.config.launch.tmpDirs.length > 0)) {\n\n\t\t\t// after closing all connections to this debug adapter Firefox will still be using\n\t\t\t// the temporary profile directory for a short while before exiting\n\t\t\tawait delay(500);\n\n\t\t\tlog.debug(\"Removing \" + this.config.launch.tmpDirs.join(\" , \"));\n\t\t\ttry {\n\t\t\t\tawait Promise.all(this.config.launch.tmpDirs.map(\n\t\t\t\t\t(tmpDir) => fs.remove(tmpDir)));\n\t\t\t} catch (err) {\n\t\t\t\tlog.warn(`Failed to remove temporary directory: ${err}`);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic async attachTabOrAddon(\n\t\ttabActor: TabActorProxy,\n\t\tconsoleActor: ConsoleActorProxy,\n\t\tthreadName: string,\n\t\ttabId?: number\n\t): Promise<ThreadAdapter | undefined> {\n\n\t\tlet reload = (tabId != null) && this.reloadTabs;\n\n\t\tlet threadActor: IThreadActorProxy;\n\t\ttry {\n\t\t\tthreadActor = await tabActor.attach();\n\t\t} catch (err) {\n\t\t\tlog.error(`Failed attaching to tab: ${err}`);\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlog.debug(`Attached to tab ${tabActor.name}`);\n\n\t\tlet threadAdapter = new ThreadAdapter(threadActor, consoleActor, this.threadPauseCoordinator,\n\t\t\tthreadName, () => tabActor.url, !this.noPauseOnThreadActorAttach, this);\n\n\t\tthis.sendThreadStartedEvent(threadAdapter);\n\n\t\tthis.attachThread(threadAdapter, threadActor.name);\n\n\t\ttabActor.onDidNavigate(() => {\n\t\t\tthis.sendEvent(new ThreadEvent('started', threadAdapter!.id));\n\t\t});\n\n\t\ttabActor.onFramesDestroyed(() => {\n\t\t\tthis.sendEvent(new Event('removeSources', <RemoveSourcesEventBody>{\n\t\t\t\tthreadId: threadAdapter.id\n\t\t\t}));\n\t\t\tif (this.config.clearConsoleOnReload) {\n\t\t\t\tthis.sendEvent(new OutputEvent('\\x1b[2J'));\n\t\t\t}\n\t\t});\n\n\t\tif (tabId != null) {\n\n\t\t\tlet nextWorkerId = 1;\n\t\t\ttabActor.onWorkerStarted(async (workerActor) => {\n\n\t\t\t\tlog.info(`Worker started with url ${tabActor.url}`);\n\n\t\t\t\tlet workerId = nextWorkerId++;\n\n\t\t\t\ttry {\n\t\t\t\t\tawait this.attachWorker(workerActor, tabId, workerId);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tlog.error(`Failed attaching to worker: ${err}`);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttabActor.onWorkerListChanged(() => tabActor.fetchWorkers());\n\t\t\ttabActor.fetchWorkers();\n\n\t\t\ttabActor.onDetached(() => {\n\n\t\t\t\tthis.threadPauseCoordinator.threadTerminated(threadAdapter.id, threadAdapter.name);\n\n\t\t\t\tif (this.threads.has(threadAdapter.id)) {\n\t\t\t\t\tthis.threads.unregister(threadAdapter.id);\n\t\t\t\t\tthis.sendThreadExitedEvent(threadAdapter);\n\t\t\t\t}\n\n\t\t\t\tthreadAdapter.dispose();\n\n\t\t\t\tthis.tabs.unregister(tabId);\n\n\t\t\t\ttabActor.dispose();\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\n\t\t\tawait threadAdapter.init(this.exceptionBreakpoints, !this.noPauseOnThreadActorAttach);\n\n\t\t\tif (reload) {\n\t\t\t\tawait tabActor.reload();\n\t\t\t}\n\n\t\t\treturn threadAdapter;\n\n\t\t} catch (err) {\n\t\t\tlog.info(`Failed attaching to tab: ${err}`);\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tprivate async attachWorker(workerActor: WorkerActorProxy, tabId: number, workerId: number): Promise<void> {\n\n\t\tawait workerActor.attach();\n\t\tlet [threadActor, consoleActor] = await workerActor.connect();\n\n\t\tlog.debug(`Attached to worker ${workerActor.name}`);\n\n\t\tlet threadAdapter = new ThreadAdapter(threadActor, consoleActor, this.threadPauseCoordinator,\n\t\t\t`Worker ${tabId}/${workerId}`, () => workerActor.url, !this.noPauseOnThreadActorAttach, this);\n\n\t\tthis.sendThreadStartedEvent(threadAdapter);\n\n\t\tthis.attachThread(threadAdapter, threadActor.name);\n\n\t\tawait threadAdapter.init(this.exceptionBreakpoints, !this.noPauseOnThreadActorAttach);\n\n\t\tworkerActor.onClose(() => {\n\t\t\tthis.threads.unregister(threadAdapter.id);\n\t\t\tthis.sendThreadExitedEvent(threadAdapter);\n\t\t});\n\t}\n\n\tprivate attachThread(threadAdapter: ThreadAdapter, actorName: string): void {\n\n\t\tthreadAdapter.onNewSource((sourceActor) => {\n\t\t\tthis.attachSource(sourceActor, threadAdapter);\n\t\t});\n\n\t\tthreadAdapter.onPaused((reason) => {\n\t\t\tlog.info(`Thread ${actorName} paused , reason: ${reason.type}`);\n\t\t\tthis.sendStoppedEvent(threadAdapter, reason);\n\t\t});\n\n\t\tthreadAdapter.onResumed(() => {\n\t\t\tlog.info(`Thread ${actorName} resumed unexpectedly`);\n\t\t\tthis.sendEvent(new ContinuedEvent(threadAdapter.id));\n\t\t});\n\n\t\tthreadAdapter.onExited(() => {\n\t\t\tlog.info(`Thread ${actorName} exited`);\n\t\t\tthis.threads.unregister(threadAdapter.id);\n\t\t\tthis.sendThreadExitedEvent(threadAdapter);\n\t\t});\n\t}\n\n\tprivate attachSource(sourceActor: ISourceActorProxy, threadAdapter: ThreadAdapter): void {\n\n\t\tconst source = sourceActor.source;\n\t\tlet sourceAdapter = threadAdapter.findCorrespondingSourceAdapter(source.url || undefined);\n\n\t\tif (sourceAdapter !== undefined) {\n\t\t\tsourceAdapter.replaceActor(sourceActor);\n\t\t\tthis.sendNewSourceEvent(threadAdapter, sourceAdapter);\n\t\t\treturn;\n\t\t}\n\n\t\tconst sourcePath = this.pathMapper.convertFirefoxSourceToPath(source);\n\t\tsourceAdapter = threadAdapter.createSourceAdapter(sourceActor, sourcePath);\n\n\t\tthis.sendNewSourceEvent(threadAdapter, sourceAdapter);\n\n\t\t// check if this source should be skipped\n\t\tlet skipThisSource: boolean | undefined = undefined;\n\t\tif (sourcePath !== undefined) {\n\t\t\tskipThisSource = this.skipFilesManager.shouldSkip(sourcePath);\n\t\t} else if (source.generatedUrl && (!source.url || !isAbsoluteUrl(source.url))) {\n\t\t\tskipThisSource = this.skipFilesManager.shouldSkip(this.pathMapper.removeQueryString(source.generatedUrl));\n\t\t} else if (source.url) {\n\t\t\tskipThisSource = this.skipFilesManager.shouldSkip(this.pathMapper.removeQueryString(source.url));\n\t\t}\n\n\t\tif (skipThisSource !== undefined) {\n\t\t\tif (source.isBlackBoxed !== skipThisSource) {\n\t\t\t\tsourceActor.setBlackbox(skipThisSource);\n\t\t\t}\n\t\t}\n\n\t\tthis.breakpointsManager.onNewSource(sourceAdapter);\n\t}\n\n\tpublic attachConsole(consoleActor: ConsoleActorProxy, threadAdapter: ThreadAdapter): void {\n\n\t\tconsoleActor.onConsoleAPICall(async (consoleEvent) => {\n\t\t\tconsoleActorLog.debug(`Console API: ${JSON.stringify(consoleEvent)}`);\n\n\t\t\tif (consoleEvent.level === 'clear') {\n\t\t\t\tthis.sendEvent(new OutputEvent('\\x1b[2J'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet category = (consoleEvent.level === 'error') ? 'stderr' :\n\t\t\t\t(consoleEvent.level === 'warn') ? 'console' : 'stdout';\n\n\t\t\tlet outputEvent: DebugProtocol.OutputEvent;\n\t\t\tif ((consoleEvent.arguments.length === 1) && (typeof consoleEvent.arguments[0] !== 'object')) {\n\n\t\t\t\tlet msg = String(consoleEvent.arguments[0]);\n\t\t\t\tif (this.config.showConsoleCallLocation) {\n\t\t\t\t\tlet filename = this.pathMapper.convertFirefoxUrlToPath(consoleEvent.filename);\n\t\t\t\t\tmsg += ` (${filename}:${consoleEvent.lineNumber}:${consoleEvent.columnNumber})`;\n\t\t\t\t}\n\n\t\t\t\toutputEvent = new OutputEvent(msg + '\\n', category);\n\n\t\t\t} else {\n\n\t\t\t\tlet args = consoleEvent.arguments.map((grip, index) => {\n\t\t\t\t\tif (typeof grip !== 'object') {\n\t\t\t\t\t\treturn new VariableAdapter(String(index), undefined, undefined, String(grip), threadAdapter);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn VariableAdapter.fromGrip(String(index), undefined, undefined, grip, true, threadAdapter);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ((consoleEvent.level === 'logPoint') && (args[args.length - 1].displayValue === '')) {\n\t\t\t\t\targs.pop();\n\t\t\t\t}\n\n\t\t\t\tif (this.config.showConsoleCallLocation) {\n\t\t\t\t\tlet filename = this.pathMapper.convertFirefoxUrlToPath(consoleEvent.filename);\n\t\t\t\t\tlet locationVar = new VariableAdapter(\n\t\t\t\t\t\t'location', undefined, undefined,\n\t\t\t\t\t\t`(${filename}:${consoleEvent.lineNumber}:${consoleEvent.columnNumber})`,\n\t\t\t\t\t\tthreadAdapter);\n\t\t\t\t\targs.push(locationVar);\n\t\t\t\t}\n\n\t\t\t\tlet argsAdapter = new ConsoleAPICallAdapter(args, threadAdapter);\n\n\t\t\t\toutputEvent = new OutputEvent('', category);\n\t\t\t\toutputEvent.body.variablesReference = argsAdapter.variablesProviderId;\n\t\t\t}\n\n\t\t\tawait this.addLocation(outputEvent, consoleEvent.filename, consoleEvent.lineNumber, consoleEvent.columnNumber);\n\n\t\t\tthis.sendEvent(outputEvent);\n\t\t});\n\n\t\tconsoleActor.onPageErrorCall(async (err) => {\n\t\t\tconsoleActorLog.debug(`Page Error: ${JSON.stringify(err)}`);\n\n\t\t\tif (err.category === 'content javascript') {\n\n\t\t\t\tlet category = err.exception ? 'stderr' : 'stdout';\n\t\t\t\tlet outputEvent = new OutputEvent(err.errorMessage + '\\n', category);\n\t\t\t\tawait this.addLocation(outputEvent, err.sourceName, err.lineNumber, err.columnNumber);\n\n\t\t\t\tthis.sendEvent(outputEvent);\n\t\t\t}\n\t\t});\n\n\t\tconsoleActor.startListeners();\n\t\tconsoleActor.getCachedMessages();\n\t}\n\n\tprivate async addLocation(\n\t\toutputEvent: DebugProtocol.OutputEvent,\n\t\turl: string,\n\t\tline: number,\n\t\tcolumn: number\n\t) {\n\n\t\tfor (let [, thread] of this.threads) {\n\t\t\tlet originalSourceLocation = await thread.findOriginalSourceLocation(url, line, column);\n\t\t\tif (originalSourceLocation) {\n\t\t\t\tconst sourceAdapter = originalSourceLocation.source;\n\t\t\t\toutputEvent.body.source = sourceAdapter.source;\n\t\t\t\toutputEvent.body.line = originalSourceLocation.line;\n\t\t\t\toutputEvent.body.column = originalSourceLocation.column;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic sendStoppedEvent(\n\t\tthreadAdapter: ThreadAdapter,\n\t\treason?: FirefoxDebugProtocol.ThreadPausedReason\n\t): void {\n\n\t\tlet pauseType = reason ? reason.type : 'interrupt';\n\t\tlet stoppedEvent: DebugProtocol.StoppedEvent = new StoppedEvent(pauseType, threadAdapter.id);\n\t\tstoppedEvent.body.allThreadsStopped = false;\n\n\t\tif (reason && reason.exception) {\n\n\t\t\tif (typeof reason.exception === 'string') {\n\n\t\t\t\tstoppedEvent.body.text = reason.exception;\n\n\t\t\t} else if ((typeof reason.exception === 'object') && (reason.exception.type === 'object')) {\n\n\t\t\t\tlet exceptionGrip = <FirefoxDebugProtocol.ObjectGrip>reason.exception;\n\t\t\t\tif (exceptionGrip.preview && (exceptionGrip.preview.kind === 'Error')) {\n\t\t\t\t\tstoppedEvent.body.text = `${exceptionGrip.class}: ${exceptionGrip.preview.message}`;\n\t\t\t\t} else {\n\t\t\t\t\tstoppedEvent.body.text = exceptionGrip.class;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.sendEvent(stoppedEvent);\n\t}\n\n\tpublic findSourceAdapter(url: string, tryWithoutQueryString = false): SourceAdapter | undefined {\n\n\t\tfor (let [, thread] of this.threads) {\n\t\t\tlet sources = thread.findSourceAdaptersForPathOrUrl(url);\n\t\t\tif (sources.length > 0) {\n\t\t\t\treturn sources[0]!;\n\t\t\t}\n\t\t}\n\n\t\t// workaround for VSCode issue #32845: the url may have contained a query string that got lost,\n\t\t// in this case we look for a Source whose url is the same if the query string is removed\n\t\tif (tryWithoutQueryString && (url.indexOf('?') < 0)) {\n\t\t\tfor (let [, thread] of this.threads) {\n\t\t\t\tlet sources = thread.findSourceAdaptersForUrlWithoutQuery(url);\n\t\t\t\tif (sources.length > 0) {\n\t\t\t\t\treturn sources[0]!;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/** tell VS Code and the [Loaded Scripts Explorer](../extension/loadedScripts) about a new thread */\n\tprivate sendThreadStartedEvent(threadAdapter: ThreadAdapter): void {\n\t\tthis.sendEvent(new ThreadEvent('started', threadAdapter.id));\n\t\tthis.sendEvent(new Event('threadStarted', <ThreadStartedEventBody>{\n\t\t\tname: threadAdapter.name,\n\t\t\tid: threadAdapter.id\n\t\t}));\n\t}\n\n\t/** tell VS Code and the [Loaded Scripts Explorer](../extension/loadedScripts) to remove a thread */\n\tprivate sendThreadExitedEvent(threadAdapter: ThreadAdapter): void {\n\t\tthis.sendEvent(new ThreadEvent('exited', threadAdapter.id));\n\t\tthis.sendEvent(new Event('threadExited', <ThreadExitedEventBody>{\n\t\t\tid: threadAdapter.id\n\t\t}));\n\t}\n\n\t/** tell the [Loaded Scripts Explorer](../extension/loadedScripts) about a new source */\n\tprivate sendNewSourceEvent(threadAdapter: ThreadAdapter, sourceAdapter: SourceAdapter): void {\n\n\t\tconst sourceUrl = sourceAdapter.actor.url;\n\n\t\tif (sourceUrl && !sourceUrl.startsWith('javascript:')) {\n\t\t\tthis.sendEvent(new Event('newSource', <NewSourceEventBody>{\n\t\t\t\tthreadId: threadAdapter.id,\n\t\t\t\tsourceId: sourceAdapter.id,\n\t\t\t\turl: sourceUrl,\n\t\t\t\tpath: sourceAdapter.sourcePath\n\t\t\t}));\n\t\t}\n\t}\n\n\tpublic sendCustomEvent(event: string, eventBody: any): void {\n\t\tthis.sendEvent(new Event(event, eventBody));\n\t}\n}\n","import * as path from 'path';\nimport * as fs from 'fs-extra';\nimport { spawn, fork, ChildProcess } from 'child_process';\nimport FirefoxProfile from 'firefox-profile';\nimport { ParsedLaunchConfiguration, ParsedAttachConfiguration, getExecutableCandidates } from '../configuration';\nimport { isExecutable } from '../util/fs';\n\n/**\n * Launches Firefox after preparing the debug profile.\n * If Firefox is launched \"detached\" (the default unless we are on MacOS and the `reAttach` flag\n * in the launch configuration is set to `false`), it creates one or even two intermediate\n * child processes for launching Firefox:\n * * one of them will wait for the Firefox process to exit and then remove any temporary directories\n *   created by this debug adapter\n * * the other one is used to work around a bug in the node version that is distributed with VS Code\n *   (and that runs this debug adapter), which fails to properly detach from child processes.\n *   See [this issue](https://github.com/microsoft/vscode/issues/22022) for an explanation of the\n *   bug and how to work around it.\n * \n * The intermediate child processes execute the [forkedLauncher](../util/forkedLauncher.ts) script.\n */\nexport async function launchFirefox(launch: ParsedLaunchConfiguration): Promise<ChildProcess | undefined> {\n\n\tawait prepareDebugProfile(launch);\n\n\t// workaround for an issue with the snap version of VS Code\n\t// (see e.g. https://github.com/microsoft/vscode/issues/85344)\n\tconst env = { ...process.env };\n\tif (env.SNAP) {\n\t\tdelete env['GDK_PIXBUF_MODULE_FILE'];\n\t\tdelete env['GDK_PIXBUF_MODULEDIR'];\n\t}\n\n\tlet childProc: ChildProcess | undefined = undefined;\n\n\tif (launch.detached) {\n\n\t\tlet forkedLauncherPath = path.join(__dirname, './launcher.bundle.js');\n\t\tlet forkArgs: string[];\n\t\tswitch (launch.tmpDirs.length) {\n\t\t\tcase 0:\n\t\t\t\tforkArgs = [\n\t\t\t\t\t'spawnDetached', launch.firefoxExecutable, ...launch.firefoxArgs\n\t\t\t\t];\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tforkArgs = [\n\t\t\t\t\t'spawnDetached', process.execPath, forkedLauncherPath,\n\t\t\t\t\t'spawnAndRemove', launch.tmpDirs[0], launch.firefoxExecutable, ...launch.firefoxArgs\n\t\t\t\t];\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tforkArgs = [\n\t\t\t\t\t'spawnDetached', process.execPath, forkedLauncherPath,\n\t\t\t\t\t'spawnAndRemove2', launch.tmpDirs[0], launch.tmpDirs[1], launch.firefoxExecutable, ...launch.firefoxArgs\n\t\t\t\t];\n\t\t\t\tbreak;\n\t\t}\n\n\t\tfork(forkedLauncherPath, forkArgs, { env, execArgv: [] });\n\n\t} else {\n\n\t\tchildProc = spawn(launch.firefoxExecutable, launch.firefoxArgs, { env, detached: true });\n\n\t\tchildProc.stdout.on('data', () => undefined);\n\t\tchildProc.stderr.on('data', () => undefined);\n\n\t\tchildProc.unref();\n\t}\n\n\treturn childProc;\n}\n\nexport async function openNewTab(\n\tconfig: ParsedAttachConfiguration,\n\tdescription: FirefoxDebugProtocol.DeviceDescription\n): Promise<boolean> {\n\n\tif (!config.url) return true;\n\n\tlet firefoxExecutable = config.firefoxExecutable;\n\tif (!firefoxExecutable) {\n\n\t\tlet firefoxEdition: 'stable' | 'developer' | 'nightly' | undefined;\n\t\tif (description.channel === 'release') {\n\t\t\tfirefoxEdition = 'stable';\n\t\t} else if (description.channel === 'aurora') {\n\t\t\tfirefoxEdition = 'developer';\n\t\t} else if (description.channel === 'nightly') {\n\t\t\tfirefoxEdition = 'nightly';\n\t\t}\n\n\t\tif (firefoxEdition) {\n\t\t\tconst candidates = getExecutableCandidates(firefoxEdition);\n\t\t\tfor (let i = 0; i < candidates.length; i++) {\n\t\t\t\tif (await isExecutable(candidates[i])) {\n\t\t\t\t\tfirefoxExecutable = candidates[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!firefoxExecutable) return false;\n\t}\n\n\tconst firefoxArgs = config.profileDir ? [ '--profile', config.profileDir ] : [ '-P', description.profile ];\n\tfirefoxArgs.push(config.url);\n\n\tspawn(firefoxExecutable, firefoxArgs);\n\n\treturn true;\n}\n\nasync function prepareDebugProfile(config: ParsedLaunchConfiguration): Promise<FirefoxProfile> {\n\n\tvar profile = await createDebugProfile(config);\n\n\tfor (let key in config.preferences) {\n\t\tprofile.setPreference(key, config.preferences[key]);\n\t}\n\n\tprofile.updatePreferences();\n\n\treturn profile;\n}\n\nfunction createDebugProfile(config: ParsedLaunchConfiguration): Promise<FirefoxProfile> {\n\treturn new Promise<FirefoxProfile>(async (resolve, reject) => {\n\n\t\tif (config.srcProfileDir) {\n\n\t\t\tFirefoxProfile.copy({\n\t\t\t\tprofileDirectory: config.srcProfileDir,\n\t\t\t\tdestinationDirectory: config.profileDir\n\t\t\t}, \n\t\t\t(err, profile) => {\n\t\t\t\tif (err || !profile) {\n\t\t\t\t\treject(err);\n\t\t\t\t} else {\n\t\t\t\t\tprofile.shouldDeleteOnExit(false);\n\t\t\t\t\tresolve(profile);\n\t\t\t\t}\n\t\t\t});\n\n\t\t} else {\n\n\t\t\tawait fs.ensureDir(config.profileDir);\n\t\t\tlet profile = new FirefoxProfile({\n\t\t\t\tdestinationDirectory: config.profileDir\n\t\t\t});\n\t\t\tprofile.shouldDeleteOnExit(false);\n\t\t\tresolve(profile);\n\t\t}\n\t});\n}\n","import { URI } from 'vscode-uri';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { DebugSession, StoppedEvent, OutputEvent, Thread, Variable, Breakpoint } from 'vscode-debugadapter';\nimport { Log } from './util/log';\nimport { accessorExpression } from './util/misc';\nimport { DebugAdapterBase } from './debugAdapterBase';\nimport { ExceptionBreakpoints } from './firefox/actorProxy/thread';\nimport { ThreadAdapter } from './adapter/thread';\nimport { SourceAdapter } from './adapter/source';\nimport { LaunchConfiguration, AttachConfiguration } from '../common/configuration';\nimport { parseConfiguration } from './configuration';\nimport { FirefoxDebugSession } from './firefoxDebugSession';\nimport { popupAutohidePreferenceKey } from './adapter/addonManager';\nimport { ObjectGripAdapter } from './adapter/objectGrip';\nimport { DataBreakpointsManager } from './adapter/dataBreakpointsManager';\n\nlet log = Log.create('FirefoxDebugAdapter');\n\nexport class FirefoxDebugAdapter extends DebugAdapterBase {\n\n\tprivate session!: FirefoxDebugSession;\n\n\tpublic constructor(debuggerLinesStartAt1: boolean, isServer: boolean = false) {\n\t\tsuper(debuggerLinesStartAt1, isServer);\n\n\t\tif (!isServer) {\n\t\t\tLog.consoleLog = (msg: string) => {\n\t\t\t\tthis.sendEvent(new OutputEvent(msg + '\\n'));\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected initialize(args: DebugProtocol.InitializeRequestArguments): DebugProtocol.Capabilities {\n\t\treturn {\n\t\t\tsupportsConfigurationDoneRequest: false,\n\t\t\tsupportsEvaluateForHovers: false,\n\t\t\tsupportsFunctionBreakpoints: false,\n\t\t\tsupportsConditionalBreakpoints: true,\n\t\t\tsupportsSetVariable: true,\n\t\t\tsupportsCompletionsRequest: true,\n\t\t\tsupportsDelayedStackTraceLoading: true,\n\t\t\tsupportsHitConditionalBreakpoints: true,\n\t\t\tsupportsLogPoints: true,\n\t\t\tsupportsDataBreakpoints: true,\n\t\t\tsupportsBreakpointLocationsRequest: true,\n\t\t\texceptionBreakpointFilters: [\n\t\t\t\t{\n\t\t\t\t\tfilter: 'all',\n\t\t\t\t\tlabel: 'All Exceptions',\n\t\t\t\t\tdefault: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfilter: 'uncaught',\n\t\t\t\t\tlabel: 'Uncaught Exceptions',\n\t\t\t\t\tdefault: true\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n\n\tprotected async launch(args: LaunchConfiguration): Promise<void> {\n\t\tawait this.startSession(args);\n\t}\n\n\tprotected async attach(args: AttachConfiguration): Promise<void> {\n\t\tawait this.startSession(args);\n\t}\n\n\tprivate async startSession(config: LaunchConfiguration | AttachConfiguration): Promise<void> {\n\t\tif (config.log) {\n\t\t\tLog.setConfig(config.log);\n\t\t}\n\t\tlet parsedConfig = await parseConfiguration(config);\n\t\tthis.session = new FirefoxDebugSession(parsedConfig, (ev) => this.sendEvent(ev));\n\t\tawait this.session.start();\n\t}\n\n\tprotected async breakpointLocations(\n\t\targs: DebugProtocol.BreakpointLocationsArguments\n\t): Promise<{ breakpoints: DebugProtocol.BreakpointLocation[]; }> {\n\n\t\tfor (const [ _, source ] of this.session.sources) {\n\t\t\tif (source.sourcePath === args.source.path) {\n\t\t\t\tconst positions = await source.actor.getBreakableLocations(args.line);\n\t\t\t\tconst breakpoints: DebugProtocol.BreakpointLocation[] = [];\n\t\t\t\tfor (const position of positions) {\n\t\t\t\t\tbreakpoints.push({ line: position.line, column: position.column + 1 });\n\t\t\t\t}\n\t\t\t\treturn { breakpoints };\n\t\t\t}\n\t\t}\n\n\t\treturn { breakpoints: [] };\n\t}\n\n\tprotected setBreakpoints(args: DebugProtocol.SetBreakpointsArguments): { breakpoints: DebugProtocol.Breakpoint[] } {\n\n\t\tconst requestedBreakpoints = args.breakpoints;\n\t\tif (requestedBreakpoints === undefined) {\n\t\t\tlog.error('setBreakpoints request without any breakpoints');\n\t\t\treturn { breakpoints: [] };\n\t\t}\n\n\t\t// a path for local sources or a url (as seen by either VS Code or Firefox) for remote sources\n\t\tconst sourcePathOrUrl = args.source.path;\n\t\tif (sourcePathOrUrl === undefined) {\n\t\t\tthrow 'Couldn\\'t set breakpoint: unknown source path';\n\t\t}\n\n\t\tconst breakpointInfos = this.session.breakpointsManager.setBreakpoints(requestedBreakpoints, sourcePathOrUrl);\n\n\t\tconst breakpoints = breakpointInfos.map(breakpointInfo => {\n\t\t\tconst breakpoint: DebugProtocol.Breakpoint = new Breakpoint(\n\t\t\t\tbreakpointInfo.verified,\n\t\t\t\tbreakpointInfo.requestedBreakpoint.line,\n\t\t\t\tbreakpointInfo.requestedBreakpoint.column\n\t\t\t);\n\t\t\tbreakpoint.id = breakpointInfo.id;\n\t\t\treturn breakpoint;\n\t\t});\n\n\t\treturn { breakpoints };\n\t}\n\n\tprotected setExceptionBreakpoints(args: DebugProtocol.SetExceptionBreakpointsArguments): void {\n\t\tlog.debug(`Setting exception filters: ${JSON.stringify(args.filters)}`);\n\n\t\tlet exceptionBreakpoints = ExceptionBreakpoints.None;\n\n\t\tif (args.filters.indexOf('all') >= 0) {\n\t\t\texceptionBreakpoints = ExceptionBreakpoints.All;\n\t\t} else if (args.filters.indexOf('uncaught') >= 0) {\n\t\t\texceptionBreakpoints = ExceptionBreakpoints.Uncaught;\n\t\t}\n\n\t\tthis.session.setExceptionBreakpoints(exceptionBreakpoints);\n\t}\n\n\tprotected async pause(args: DebugProtocol.PauseArguments): Promise<void> {\n\n\t\tlet threadAdapter = this.getThreadAdapter(args.threadId);\n\t\tthis.session.setActiveThread(threadAdapter);\n\n\t\tawait threadAdapter.interrupt();\n\n\t\tlet stoppedEvent = new StoppedEvent('interrupt', threadAdapter.id);\n\t\t(<DebugProtocol.StoppedEvent>stoppedEvent).body.allThreadsStopped = false;\n\t\tthis.sendEvent(stoppedEvent);\n\t}\n\n\tprotected async next(args: DebugProtocol.NextArguments): Promise<void> {\n\n\t\tlet threadAdapter = this.getThreadAdapter(args.threadId);\n\t\tthis.session.setActiveThread(threadAdapter);\n\n\t\tawait threadAdapter.stepOver();\n\t}\n\n\tprotected async stepIn(args: DebugProtocol.StepInArguments): Promise<void> {\n\n\t\tlet threadAdapter = this.getThreadAdapter(args.threadId);\n\t\tthis.session.setActiveThread(threadAdapter);\n\n\t\tawait threadAdapter.stepIn();\n\t}\n\n\tprotected async stepOut(args: DebugProtocol.StepOutArguments): Promise<void> {\n\n\t\tlet threadAdapter = this.getThreadAdapter(args.threadId);\n\t\tthis.session.setActiveThread(threadAdapter);\n\n\t\tawait threadAdapter.stepOut();\n\t}\n\n\tprotected async continue(args: DebugProtocol.ContinueArguments): Promise<{ allThreadsContinued?: boolean }> {\n\n\t\tlet threadAdapter = this.getThreadAdapter(args.threadId);\n\t\tthis.session.setActiveThread(threadAdapter);\n\n\t\tawait threadAdapter.resume();\n\t\treturn { allThreadsContinued: false };\n\t}\n\n\tprotected async getSource(args: DebugProtocol.SourceArguments): Promise<{ content: string, mimeType?: string }> {\n\n\t\tlet sourceAdapter: SourceAdapter | undefined;\n\t\tif (args.sourceReference !== undefined) {\n\n\t\t\tlet sourceReference = args.sourceReference;\n\t\t\tsourceAdapter = this.session.sources.find(sourceReference);\n\n\t\t} else if (args.source && args.source.path) {\n\n\t\t\tsourceAdapter = this.session.findSourceAdapter(args.source.path, true);\n\n\t\t}\n\n\t\tif (!sourceAdapter) {\n\t\t\tthrow new Error('Failed sourceRequest: the requested source can\\'t be found');\n\t\t}\n\n\t\tlet sourceGrip = await sourceAdapter.actor.fetchSource();\n\n\t\tif (typeof sourceGrip === 'string') {\n\n\t\t\treturn { content: sourceGrip, mimeType: 'text/javascript' };\n\n\t\t} else {\n\n\t\t\tlet longStringGrip = <FirefoxDebugProtocol.LongStringGrip>sourceGrip;\n\t\t\tlet longStringActor = this.session.getOrCreateLongStringGripActorProxy(longStringGrip);\n\t\t\tlet content = await longStringActor.fetchContent();\n\t\t\treturn { content, mimeType: 'text/javascript' };\n\n\t\t}\n\t}\n\n\tprotected getThreads(): { threads: DebugProtocol.Thread[] } {\n\n\t\tlog.debug(`${this.session.threads.count} threads`);\n\n\t\tlet threads = this.session.threads.map(\n\t\t\t(threadAdapter) => new Thread(threadAdapter.id, `${threadAdapter.name}: ${threadAdapter.getUrl()}`));\n\n\t\treturn { threads };\n\t}\n\n\tprotected async getStackTrace(args: DebugProtocol.StackTraceArguments): Promise<{ stackFrames: DebugProtocol.StackFrame[], totalFrames?: number }> {\n\n\t\tlet threadAdapter = this.getThreadAdapter(args.threadId);\n\t\tthis.session.setActiveThread(threadAdapter);\n\n\t\tlet [frameAdapters, totalFrames] =\n\t\t\tawait threadAdapter.fetchStackFrames(args.startFrame || 0, args.levels || 0);\n\n\t\tlet stackFrames = await Promise.all(\n\t\t\tframeAdapters.map((frameAdapter) => frameAdapter.getStackframe())\n\t\t);\n\n\t\treturn { stackFrames, totalFrames };\n\t}\n\n\tprotected async getScopes(args: DebugProtocol.ScopesArguments): Promise<{ scopes: DebugProtocol.Scope[] }> {\n\n\t\tlet frameAdapter = this.session.frames.find(args.frameId);\n\t\tif (!frameAdapter) {\n\t\t\tthrow new Error('Failed scopesRequest: the requested frame can\\'t be found');\n\t\t}\n\n\t\tthis.session.setActiveThread(frameAdapter.threadAdapter);\n\n\t\tconst scopeAdapters = await frameAdapter.getScopeAdapters();\n\t\tconst scopes = scopeAdapters.map((scopeAdapter) => scopeAdapter.getScope());\n\n\t\treturn { scopes };\n\t}\n\n\tprotected async getVariables(args: DebugProtocol.VariablesArguments): Promise<{ variables: DebugProtocol.Variable[] }> {\n\n\t\tlet variablesProvider = this.session.variablesProviders.find(args.variablesReference);\n\t\tif (!variablesProvider) {\n\t\t\tthrow new Error('Failed variablesRequest: the requested object reference can\\'t be found');\n\t\t}\n\n\t\tthis.session.setActiveThread(variablesProvider.threadAdapter);\n\n\t\ttry {\n\n\t\t\tlet variables = await variablesProvider.threadAdapter.fetchVariables(variablesProvider);\n\n\t\t\treturn { variables };\n\n\t\t} catch(err) {\n\n\t\t\tlet msg: string;\n\t\t\tif (err === 'No such actor') {\n\t\t\t\tmsg = 'Value can\\'t be inspected - this is probably due to Firefox bug #1249962';\n\t\t\t} else {\n\t\t\t\tmsg = String(err);\n\t\t\t}\n\n\t\t\treturn { variables: [ new Variable('Error from debugger', msg) ]};\n\t\t}\n\t}\n\n\tprotected async setVariable(args: DebugProtocol.SetVariableArguments): Promise<{ value: string, variablesReference?: number }> {\n\n\t\tlet variablesProvider = this.session.variablesProviders.find(args.variablesReference);\n\t\tif (variablesProvider === undefined) {\n\t\t\tthrow new Error('Failed setVariableRequest: the requested context can\\'t be found')\n\t\t}\n\t\tif (variablesProvider.referenceFrame === undefined) {\n\t\t\tthrow new Error('Failed setVariableRequest: the requested context has no associated stack frame');\n\t\t}\n\n\t\tlet referenceExpression = accessorExpression(variablesProvider.referenceExpression, args.name);\n\t\tlet setterExpression = `${referenceExpression} = ${args.value}`;\n\t\tlet frameActorName = variablesProvider.referenceFrame.frame.actor;\n\t\tlet result = await variablesProvider.threadAdapter.evaluate(setterExpression, false, frameActorName);\n\n\t\treturn { value: result.value, variablesReference: result.variablesReference };\n\t}\n\n\tprotected async evaluate(args: DebugProtocol.EvaluateArguments): Promise<{ result: string, type?: string, variablesReference: number, namedVariables?: number, indexedVariables?: number }> {\n\n\t\tlet variable: Variable | undefined = undefined;\n\n\t\tif (args.context === 'watch') {\n\n\t\t\tif (args.frameId !== undefined) {\n\n\t\t\t\tlet frameAdapter = this.session.frames.find(args.frameId);\n\t\t\t\tif (frameAdapter !== undefined) {\n\n\t\t\t\t\tthis.session.setActiveThread(frameAdapter.threadAdapter);\n\n\t\t\t\t\tlet threadAdapter = frameAdapter.threadAdapter;\n\t\t\t\t\tlet frameActorName = frameAdapter.frame.actor;\n\n\t\t\t\t\tvariable = await threadAdapter.evaluate(args.expression, true, frameActorName);\n\n\t\t\t\t} else {\n\t\t\t\t\tlog.warn(`Couldn\\'t find specified frame for evaluating ${args.expression}`);\n\t\t\t\t\tthrow 'not available';\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tlet threadAdapter = this.session.getActiveThread();\n\t\t\t\tif (threadAdapter !== undefined) {\n\n\t\t\t\t\tvariable = await threadAdapter.evaluate(args.expression, true);\n\n\t\t\t\t} else {\n\t\t\t\t\tlog.info(`Couldn't find a thread for evaluating watch ${args.expression}`);\n\t\t\t\t\tthrow 'not available';\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tlet threadAdapter = this.session.getActiveThread();\n\t\t\tif (threadAdapter !== undefined) {\n\n\t\t\t\tlet frameActorName: string | undefined = undefined;\n\t\t\t\tif (args.frameId !== undefined) {\n\t\t\t\t\tlet frameAdapter = this.session.frames.find(args.frameId);\n\t\t\t\t\tif (frameAdapter !== undefined) {\n\t\t\t\t\t\tframeActorName = frameAdapter.frame.actor;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvariable = await threadAdapter.evaluate(args.expression, false, frameActorName);\n\n\t\t\t} else {\n\t\t\t\tlog.info(`Couldn't find a thread for evaluating ${args.expression}`);\n\t\t\t\tthrow 'not available';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tresult: variable.value,\n\t\t\tvariablesReference: variable.variablesReference\n\t\t};\n\t}\n\n\tprotected async getCompletions(args: DebugProtocol.CompletionsArguments): Promise<{ targets: DebugProtocol.CompletionItem[] }> {\n\n\t\tlet matches: string[];\n\n\t\tif (args.frameId !== undefined) {\n\n\t\t\tlet frameAdapter = this.session.frames.find(args.frameId);\n\n\t\t\tif (frameAdapter === undefined) {\n\t\t\t\tlog.warn(`Couldn\\'t find specified frame for auto-completing ${args.text}`);\n\t\t\t\tthrow 'not available';\n\t\t\t}\n\n\t\t\tthis.session.setActiveThread(frameAdapter.threadAdapter);\n\n\t\t\tlet threadAdapter = frameAdapter.threadAdapter;\n\t\t\tlet frameActorName = frameAdapter.frame.actor;\n\n\t\t\tmatches = await threadAdapter.autoComplete(args.text, args.column - 1, frameActorName);\n\n\t\t} else {\n\n\t\t\tlet threadAdapter = this.session.getActiveThread();\n\n\t\t\tif (threadAdapter === undefined) {\n\t\t\t\tlog.warn(`Couldn't find a thread for auto-completing ${args.text}`);\n\t\t\t\tthrow 'not available';\n\t\t\t}\n\n\t\t\tmatches = await threadAdapter.autoComplete(args.text, args.column - 1);\n\t\t}\n\n\t\treturn {\n\t\t\ttargets: matches.map((match) => <DebugProtocol.CompletionItem>{ label: match })\n\t\t};\n\t}\n\n\tprotected async dataBreakpointInfo(args: DebugProtocol.DataBreakpointInfoArguments): Promise<{ dataId: string | null, description: string, accessTypes?: DebugProtocol.DataBreakpointAccessType[], canPersist?: boolean }> {\n\n\t\tif (!this.session.dataBreakpointsManager) {\n\t\t\treturn {\n\t\t\t\tdataId: null,\n\t\t\t\tdescription: \"Your version of Firefox doesn't support watchpoints / data breakpoints\"\n\t\t\t};\n\t\t}\n\n\t\tif (args.variablesReference !== undefined) {\n\n\t\t\tconst provider = this.session.variablesProviders.find(args.variablesReference);\n\t\t\tif (provider instanceof ObjectGripAdapter) {\n\n\t\t\t\tprovider.threadAdapter.threadLifetime(provider);\n\t\t\t\tawait provider.actor.threadLifetime();\n\n\t\t\t\treturn {\n\t\t\t\t\tdataId: DataBreakpointsManager.encodeDataId(args.variablesReference, args.name),\n\t\t\t\t\tdescription: args.name,\n\t\t\t\t\taccessTypes: [ 'read', 'write' ]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tdataId: null,\n\t\t\tdescription: 'Data breakpoints are only supported on object properties'\n\t\t};\n\t}\n\n\tprotected async setDataBreakpoints(args: DebugProtocol.SetDataBreakpointsArguments): Promise<{ breakpoints: DebugProtocol.Breakpoint[] }> {\n\t\tif (!this.session.dataBreakpointsManager) {\n\t\t\tif (args.breakpoints.length === 0) {\n\t\t\t\treturn { breakpoints: [] };\n\t\t\t} else {\n\t\t\t\tthrow \"Your version of Firefox doesn't support watchpoints / data breakpoints\";\n\t\t\t}\n\t\t}\n\n\t\tawait this.session.dataBreakpointsManager.setDataBreakpoints(args.breakpoints);\n\t\treturn { breakpoints: new Array(args.breakpoints.length).fill({ verified: true }) }\n\t}\n\n\tprotected async reloadAddon(): Promise<void> {\n\t\tif (!this.session.addonManager) {\n\t\t\tthrow 'This command is only available when debugging an addon'\n\t\t}\n\n\t\tawait this.session.addonManager.reloadAddon();\n\t}\n\n\tprotected async toggleSkippingFile(url: string): Promise<void> {\n\n\t\tif (url.startsWith('file://')) {\n\n\t\t\tconst path = URI.parse(url).fsPath;\n\t\t\tawait this.session.skipFilesManager.toggleSkipping(path);\n\n\t\t} else {\n\n\t\t\tawait this.session.skipFilesManager.toggleSkipping(url);\n\n\t\t}\n\t}\n\n\tprotected async setPopupAutohide(enabled: boolean): Promise<void> {\n\t\tawait this.session.preferenceActor.setBoolPref(popupAutohidePreferenceKey, !enabled);\n\t}\n\n\tprotected async togglePopupAutohide(): Promise<boolean> {\n\t\tconst currentValue = await this.session.preferenceActor.getBoolPref(popupAutohidePreferenceKey);\n\t\tconst newValue = !currentValue;\n\t\tawait this.session.preferenceActor.setBoolPref(popupAutohidePreferenceKey, newValue);\n\t\treturn !newValue;\n\t}\n\n\tprotected async disconnect(args: DebugProtocol.DisconnectArguments): Promise<void> {\n\t\tawait this.session.stop();\n\t}\n\n\tprivate getThreadAdapter(threadId: number): ThreadAdapter {\n\t\tlet threadAdapter = this.session.threads.find(threadId);\n\t\tif (!threadAdapter) {\n\t\t\tthrow new Error(`Unknown threadId ${threadId}`);\n\t\t}\n\t\treturn threadAdapter;\n\t}\n}\n\nDebugSession.run(FirefoxDebugAdapter);\n"],"sourceRoot":""}